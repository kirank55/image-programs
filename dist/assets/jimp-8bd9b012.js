/*! For license information please see jimp.js.LICENSE.txt */(()=>{var __webpack_modules__={236:(_e,ie,j)=>{var l=j(4618);function _(u,o){var e=new l(u,o);return function(n){return e.convert(n)}}_.BIN="01",_.OCT="01234567",_.DEC="0123456789",_.HEX="0123456789abcdef",_e.exports=_},4618:_e=>{function ie(j,l){if(!(j&&l&&j.length&&l.length))throw new Error("Bad alphabet");this.srcAlphabet=j,this.dstAlphabet=l}ie.prototype.convert=function(j){var l,_,u,o={},e=this.srcAlphabet.length,n=this.dstAlphabet.length,r=j.length,t=typeof j=="string"?"":[];if(!this.isValid(j))throw new Error('Number "'+j+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return j;for(l=0;l<r;l++)o[l]=this.srcAlphabet.indexOf(j[l]);do{for(_=0,u=0,l=0;l<r;l++)(_=_*e+o[l])>=n?(o[u++]=parseInt(_/n,10),_%=n):u>0&&(o[u++]=0);r=u,t=this.dstAlphabet.slice(_,_+1).concat(t)}while(u!==0);return t},ie.prototype.isValid=function(j){for(var l=0;l<j.length;++l)if(this.srcAlphabet.indexOf(j[l])===-1)return!1;return!0},_e.exports=ie},5766:(_e,ie)=>{ie.byteLength=function(t){var i=n(t),f=i[0],d=i[1];return 3*(f+d)/4-d},ie.toByteArray=function(t){var i,f,d=n(t),m=d[0],a=d[1],c=new _(function(I,S,G){return 3*(S+G)/4-G}(0,m,a)),p=0,M=a>0?m-4:m;for(f=0;f<M;f+=4)i=l[t.charCodeAt(f)]<<18|l[t.charCodeAt(f+1)]<<12|l[t.charCodeAt(f+2)]<<6|l[t.charCodeAt(f+3)],c[p++]=i>>16&255,c[p++]=i>>8&255,c[p++]=255&i;return a===2&&(i=l[t.charCodeAt(f)]<<2|l[t.charCodeAt(f+1)]>>4,c[p++]=255&i),a===1&&(i=l[t.charCodeAt(f)]<<10|l[t.charCodeAt(f+1)]<<4|l[t.charCodeAt(f+2)]>>2,c[p++]=i>>8&255,c[p++]=255&i),c},ie.fromByteArray=function(t){for(var i,f=t.length,d=f%3,m=[],a=16383,c=0,p=f-d;c<p;c+=a)m.push(r(t,c,c+a>p?p:c+a));return d===1?(i=t[f-1],m.push(j[i>>2]+j[i<<4&63]+"==")):d===2&&(i=(t[f-2]<<8)+t[f-1],m.push(j[i>>10]+j[i>>4&63]+j[i<<2&63]+"=")),m.join("")};for(var j=[],l=[],_=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,e=u.length;o<e;++o)j[o]=u[o],l[u.charCodeAt(o)]=o;function n(t){var i=t.length;if(i%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=t.indexOf("=");return f===-1&&(f=i),[f,f===i?0:4-f%4]}function r(t,i,f){for(var d,m,a=[],c=i;c<f;c+=3)d=(t[c]<<16&16711680)+(t[c+1]<<8&65280)+(255&t[c+2]),a.push(j[(m=d)>>18&63]+j[m>>12&63]+j[m>>6&63]+j[63&m]);return a.join("")}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},486:(_e,ie,j)=>{var l=j(5433),_=j(1651);_e.exports={encode:l,decode:_}},1651:(_e,ie,j)=>{var l=j(8834).lW;function _(u,o){if(this.pos=0,this.buffer=u,this.is_with_alpha=!!o,this.bottom_up=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!="BM")throw new Error("Invalid BMP File");this.parseHeader(),this.parseRGBA()}_.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var u=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(u);for(var o=0;o<u;o++){var e=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++);this.palette[o]={red:r,green:n,blue:e,quad:t}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},_.prototype.parseRGBA=function(){var u="bit"+this.bitPP,o=this.width*this.height*4;this.data=new l(o),this[u]()},_.prototype.bit1=function(){var u=Math.ceil(this.width/8),o=u%4,e=this.height>=0?this.height-1:-this.height;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<u;r++)for(var t=this.buffer.readUInt8(this.pos++),i=n*this.width*4+8*r*4,f=0;f<8&&8*r+f<this.width;f++){var d=this.palette[t>>7-f&1];this.data[i+4*f]=0,this.data[i+4*f+1]=d.blue,this.data[i+4*f+2]=d.green,this.data[i+4*f+3]=d.red}o!=0&&(this.pos+=4-o)}},_.prototype.bit4=function(){if(this.compress==2){let S=function(G){var z=this.palette[G];this.data[u]=0,this.data[u+1]=z.blue,this.data[u+2]=z.green,this.data[u+3]=z.red,u+=4};this.data.fill(255);for(var u=0,o=this.bottom_up?this.height-1:0,e=!1;u<this.data.length;){var n=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++);if(n==0){if(r==0){this.bottom_up?o--:o++,u=o*this.width*4,e=!1;continue}if(r==1)break;if(r==2){var t=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++);this.bottom_up?o-=i:o+=i,u+=i*this.width*4+4*t}else{for(var f=this.buffer.readUInt8(this.pos++),d=0;d<r;d++)e?S.call(this,15&f):S.call(this,(240&f)>>4),1&d&&d+1<r&&(f=this.buffer.readUInt8(this.pos++)),e=!e;(r+1>>1&1)==1&&this.pos++}}else for(d=0;d<n;d++)e?S.call(this,15&r):S.call(this,(240&r)>>4),e=!e}}else{var m=Math.ceil(this.width/2),a=m%4;for(i=this.height-1;i>=0;i--){var c=this.bottom_up?i:this.height-1-i;for(t=0;t<m;t++){r=this.buffer.readUInt8(this.pos++),u=c*this.width*4+2*t*4;var p=r>>4,M=15&r,I=this.palette[p];if(this.data[u]=0,this.data[u+1]=I.blue,this.data[u+2]=I.green,this.data[u+3]=I.red,2*t+1>=this.width)break;I=this.palette[M],this.data[u+4]=0,this.data[u+4+1]=I.blue,this.data[u+4+2]=I.green,this.data[u+4+3]=I.red}a!=0&&(this.pos+=4-a)}}},_.prototype.bit8=function(){if(this.compress==1){let c=function(p){var M=this.palette[p];this.data[u]=0,this.data[u+1]=M.blue,this.data[u+2]=M.green,this.data[u+3]=M.red,u+=4};this.data.fill(255);for(var u=0,o=this.bottom_up?this.height-1:0;u<this.data.length;){var e=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++);if(e==0){if(n==0){this.bottom_up?o--:o++,u=o*this.width*4;continue}if(n==1)break;if(n==2){var r=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++);this.bottom_up?o-=t:o+=t,u+=t*this.width*4+4*r}else{for(var i=0;i<n;i++){var f=this.buffer.readUInt8(this.pos++);c.call(this,f)}!0&n&&this.pos++}}else for(i=0;i<e;i++)c.call(this,n)}}else{var d=this.width%4;for(t=this.height-1;t>=0;t--){var m=this.bottom_up?t:this.height-1-t;for(r=0;r<this.width;r++)if(n=this.buffer.readUInt8(this.pos++),u=m*this.width*4+4*r,n<this.palette.length){var a=this.palette[n];this.data[u]=0,this.data[u+1]=a.blue,this.data[u+2]=a.green,this.data[u+3]=a.red}else this.data[u]=0,this.data[u+1]=255,this.data[u+2]=255,this.data[u+3]=255;d!=0&&(this.pos+=4-d)}}},_.prototype.bit15=function(){for(var u=this.width%3,o=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var t=this.buffer.readUInt16LE(this.pos);this.pos+=2;var i=(t&o)/o*255|0,f=(t>>5&o)/o*255|0,d=(t>>10&o)/o*255|0,m=t>>15?255:0,a=n*this.width*4+4*r;this.data[a]=m,this.data[a+1]=i,this.data[a+2]=f,this.data[a+3]=d}this.pos+=u}},_.prototype.bit16=function(){var u=this.width%2*2;this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,this.compress==3&&(this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4);for(var o=[0,0,0],e=0;e<16;e++)this.maskRed>>e&1&&o[0]++,this.maskGreen>>e&1&&o[1]++,this.maskBlue>>e&1&&o[2]++;o[1]+=o[0],o[2]+=o[1],o[0]=8-o[0],o[1]-=8,o[2]-=8;for(var n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.buffer.readUInt16LE(this.pos);this.pos+=2;var f=(i&this.maskBlue)<<o[0],d=(i&this.maskGreen)>>o[1],m=(i&this.maskRed)>>o[2],a=r*this.width*4+4*t;this.data[a]=0,this.data[a+1]=f,this.data[a+2]=d,this.data[a+3]=m}this.pos+=u}},_.prototype.bit24=function(){for(var u=this.height-1;u>=0;u--){for(var o=this.bottom_up?u:this.height-1-u,e=0;e<this.width;e++){var n=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++),i=o*this.width*4+4*e;this.data[i]=0,this.data[i+1]=n,this.data[i+2]=r,this.data[i+3]=t}this.pos+=this.width%4}},_.prototype.bit32=function(){if(this.compress==3){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var u=this.height-1;u>=0;u--)for(var o=this.bottom_up?u:this.height-1-u,e=0;e<this.width;e++){var n=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),f=o*this.width*4+4*e;this.data[f]=n,this.data[f+1]=r,this.data[f+2]=t,this.data[f+3]=i}}else for(u=this.height-1;u>=0;u--)for(o=this.bottom_up?u:this.height-1-u,e=0;e<this.width;e++)r=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),f=o*this.width*4+4*e,this.data[f]=n,this.data[f+1]=r,this.data[f+2]=t,this.data[f+3]=i},_.prototype.getData=function(){return this.data},_e.exports=function(u){return new _(u)}},5433:(_e,ie,j)=>{var l=j(8834).lW;function _(u){this.buffer=u.data,this.width=u.width,this.height=u.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}_.prototype.encode=function(){var u=new l(this.offset+this.rgbSize);this.pos=0,u.write(this.flag,this.pos,2),this.pos+=2,u.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,u.writeUInt32LE(this.reserved,this.pos),this.pos+=4,u.writeUInt32LE(this.offset,this.pos),this.pos+=4,u.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,u.writeUInt32LE(this.width,this.pos),this.pos+=4,u.writeInt32LE(-this.height,this.pos),this.pos+=4,u.writeUInt16LE(this.planes,this.pos),this.pos+=2,u.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,u.writeUInt32LE(this.compress,this.pos),this.pos+=4,u.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,u.writeUInt32LE(this.hr,this.pos),this.pos+=4,u.writeUInt32LE(this.vr,this.pos),this.pos+=4,u.writeUInt32LE(this.colors,this.pos),this.pos+=4,u.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var o=0,e=3*this.width+this.extraBytes,n=0;n<this.height;n++){for(var r=0;r<this.width;r++){var t=this.pos+n*e+3*r;o++,u[t]=this.buffer[o++],u[t+1]=this.buffer[o++],u[t+2]=this.buffer[o++]}if(this.extraBytes>0){var i=this.pos+n*e+3*this.width;u.fill(0,i,i+this.extraBytes)}}return u},_e.exports=function(u,o){return{data:new _(u).encode(),width:u.width,height:u.height}}},5137:(_e,ie,j)=>{var l=j(8834).lW;_e.exports=function(_,u){if(l.isBuffer(_)&&l.isBuffer(u)){if(typeof _.equals=="function")return _.equals(u);if(_.length!==u.length)return!1;for(var o=0;o<_.length;o++)if(_[o]!==u[o])return!1;return!0}}},8834:(_e,ie,j)=>{var l=j(5766),_=j(4181);ie.lW=e,ie.h2=50;var u=2147483647;function o(v){if(v>u)throw new RangeError('The value "'+v+'" is invalid for option "size"');var A=new Uint8Array(v);return A.__proto__=e.prototype,A}function e(v,A,P){if(typeof v=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return t(v)}return n(v,A,P)}function n(v,A,P){if(typeof v=="string")return function(h,g){if(typeof g=="string"&&g!==""||(g="utf8"),!e.isEncoding(g))throw new TypeError("Unknown encoding: "+g);var U=0|d(h,g),K=o(U),E=K.write(h,g);return E!==U&&(K=K.slice(0,E)),K}(v,A);if(ArrayBuffer.isView(v))return i(v);if(v==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v);if(ae(v,ArrayBuffer)||v&&ae(v.buffer,ArrayBuffer))return function(h,g,U){if(g<0||h.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(h.byteLength<g+(U||0))throw new RangeError('"length" is outside of buffer bounds');var K;return(K=g===void 0&&U===void 0?new Uint8Array(h):U===void 0?new Uint8Array(h,g):new Uint8Array(h,g,U)).__proto__=e.prototype,K}(v,A,P);if(typeof v=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var X=v.valueOf&&v.valueOf();if(X!=null&&X!==v)return e.from(X,A,P);var s=function(h){if(e.isBuffer(h)){var g=0|f(h.length),U=o(g);return U.length===0||h.copy(U,0,0,g),U}return h.length!==void 0?typeof h.length!="number"||he(h.length)?o(0):i(h):h.type==="Buffer"&&Array.isArray(h.data)?i(h.data):void 0}(v);if(s)return s;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof v[Symbol.toPrimitive]=="function")return e.from(v[Symbol.toPrimitive]("string"),A,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v)}function r(v){if(typeof v!="number")throw new TypeError('"size" argument must be of type number');if(v<0)throw new RangeError('The value "'+v+'" is invalid for option "size"')}function t(v){return r(v),o(v<0?0:0|f(v))}function i(v){for(var A=v.length<0?0:0|f(v.length),P=o(A),X=0;X<A;X+=1)P[X]=255&v[X];return P}function f(v){if(v>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return 0|v}function d(v,A){if(e.isBuffer(v))return v.length;if(ArrayBuffer.isView(v)||ae(v,ArrayBuffer))return v.byteLength;if(typeof v!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof v);var P=v.length,X=arguments.length>2&&arguments[2]===!0;if(!X&&P===0)return 0;for(var s=!1;;)switch(A){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":return O(v).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*P;case"hex":return P>>>1;case"base64":return D(v).length;default:if(s)return X?-1:O(v).length;A=(""+A).toLowerCase(),s=!0}}function m(v,A,P){var X=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((P===void 0||P>this.length)&&(P=this.length),P<=0)||(P>>>=0)<=(A>>>=0))return"";for(v||(v="utf8");;)switch(v){case"hex":return C(this,A,P);case"utf8":case"utf-8":return B(this,A,P);case"ascii":return R(this,A,P);case"latin1":case"binary":return T(this,A,P);case"base64":return b(this,A,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,A,P);default:if(X)throw new TypeError("Unknown encoding: "+v);v=(v+"").toLowerCase(),X=!0}}function a(v,A,P){var X=v[A];v[A]=v[P],v[P]=X}function c(v,A,P,X,s){if(v.length===0)return-1;if(typeof P=="string"?(X=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),he(P=+P)&&(P=s?0:v.length-1),P<0&&(P=v.length+P),P>=v.length){if(s)return-1;P=v.length-1}else if(P<0){if(!s)return-1;P=0}if(typeof A=="string"&&(A=e.from(A,X)),e.isBuffer(A))return A.length===0?-1:p(v,A,P,X,s);if(typeof A=="number")return A&=255,typeof Uint8Array.prototype.indexOf=="function"?s?Uint8Array.prototype.indexOf.call(v,A,P):Uint8Array.prototype.lastIndexOf.call(v,A,P):p(v,[A],P,X,s);throw new TypeError("val must be string, number or Buffer")}function p(v,A,P,X,s){var h,g=1,U=v.length,K=A.length;if(X!==void 0&&((X=String(X).toLowerCase())==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(v.length<2||A.length<2)return-1;g=2,U/=2,K/=2,P/=2}function E(de,ge){return g===1?de[ge]:de.readUInt16BE(ge*g)}if(s){var J=-1;for(h=P;h<U;h++)if(E(v,h)===E(A,J===-1?0:h-J)){if(J===-1&&(J=h),h-J+1===K)return J*g}else J!==-1&&(h-=h-J),J=-1}else for(P+K>U&&(P=U-K),h=P;h>=0;h--){for(var oe=!0,Z=0;Z<K;Z++)if(E(v,h+Z)!==E(A,Z)){oe=!1;break}if(oe)return h}return-1}function M(v,A,P,X){P=Number(P)||0;var s=v.length-P;X?(X=Number(X))>s&&(X=s):X=s;var h=A.length;X>h/2&&(X=h/2);for(var g=0;g<X;++g){var U=parseInt(A.substr(2*g,2),16);if(he(U))return g;v[P+g]=U}return g}function I(v,A,P,X){return re(O(A,v.length-P),v,P,X)}function S(v,A,P,X){return re(function(s){for(var h=[],g=0;g<s.length;++g)h.push(255&s.charCodeAt(g));return h}(A),v,P,X)}function G(v,A,P,X){return S(v,A,P,X)}function z(v,A,P,X){return re(D(A),v,P,X)}function y(v,A,P,X){return re(function(s,h){for(var g,U,K,E=[],J=0;J<s.length&&!((h-=2)<0);++J)U=(g=s.charCodeAt(J))>>8,K=g%256,E.push(K),E.push(U);return E}(A,v.length-P),v,P,X)}function b(v,A,P){return A===0&&P===v.length?l.fromByteArray(v):l.fromByteArray(v.slice(A,P))}function B(v,A,P){P=Math.min(v.length,P);for(var X=[],s=A;s<P;){var h,g,U,K,E=v[s],J=null,oe=E>239?4:E>223?3:E>191?2:1;if(s+oe<=P)switch(oe){case 1:E<128&&(J=E);break;case 2:(192&(h=v[s+1]))==128&&(K=(31&E)<<6|63&h)>127&&(J=K);break;case 3:h=v[s+1],g=v[s+2],(192&h)==128&&(192&g)==128&&(K=(15&E)<<12|(63&h)<<6|63&g)>2047&&(K<55296||K>57343)&&(J=K);break;case 4:h=v[s+1],g=v[s+2],U=v[s+3],(192&h)==128&&(192&g)==128&&(192&U)==128&&(K=(15&E)<<18|(63&h)<<12|(63&g)<<6|63&U)>65535&&K<1114112&&(J=K)}J===null?(J=65533,oe=1):J>65535&&(J-=65536,X.push(J>>>10&1023|55296),J=56320|1023&J),X.push(J),s+=oe}return function(Z){var de=Z.length;if(de<=H)return String.fromCharCode.apply(String,Z);for(var ge="",xe=0;xe<de;)ge+=String.fromCharCode.apply(String,Z.slice(xe,xe+=H));return ge}(X)}e.TYPED_ARRAY_SUPPORT=function(){try{var v=new Uint8Array(1);return v.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},v.foo()===42}catch{return!1}}(),e.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(e.prototype,"parent",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.buffer}}),Object.defineProperty(e.prototype,"offset",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),e.poolSize=8192,e.from=function(v,A,P){return n(v,A,P)},e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,e.alloc=function(v,A,P){return function(X,s,h){return r(X),X<=0?o(X):s!==void 0?typeof h=="string"?o(X).fill(s,h):o(X).fill(s):o(X)}(v,A,P)},e.allocUnsafe=function(v){return t(v)},e.allocUnsafeSlow=function(v){return t(v)},e.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==e.prototype},e.compare=function(v,A){if(ae(v,Uint8Array)&&(v=e.from(v,v.offset,v.byteLength)),ae(A,Uint8Array)&&(A=e.from(A,A.offset,A.byteLength)),!e.isBuffer(v)||!e.isBuffer(A))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===A)return 0;for(var P=v.length,X=A.length,s=0,h=Math.min(P,X);s<h;++s)if(v[s]!==A[s]){P=v[s],X=A[s];break}return P<X?-1:X<P?1:0},e.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(v,A){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return e.alloc(0);var P;if(A===void 0)for(A=0,P=0;P<v.length;++P)A+=v[P].length;var X=e.allocUnsafe(A),s=0;for(P=0;P<v.length;++P){var h=v[P];if(ae(h,Uint8Array)&&(h=e.from(h)),!e.isBuffer(h))throw new TypeError('"list" argument must be an Array of Buffers');h.copy(X,s),s+=h.length}return X},e.byteLength=d,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var v=this.length;if(v%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var A=0;A<v;A+=2)a(this,A,A+1);return this},e.prototype.swap32=function(){var v=this.length;if(v%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var A=0;A<v;A+=4)a(this,A,A+3),a(this,A+1,A+2);return this},e.prototype.swap64=function(){var v=this.length;if(v%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var A=0;A<v;A+=8)a(this,A,A+7),a(this,A+1,A+6),a(this,A+2,A+5),a(this,A+3,A+4);return this},e.prototype.toString=function(){var v=this.length;return v===0?"":arguments.length===0?B(this,0,v):m.apply(this,arguments)},e.prototype.toLocaleString=e.prototype.toString,e.prototype.equals=function(v){if(!e.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v||e.compare(this,v)===0},e.prototype.inspect=function(){var v="",A=ie.h2;return v=this.toString("hex",0,A).replace(/(.{2})/g,"$1 ").trim(),this.length>A&&(v+=" ... "),"<Buffer "+v+">"},e.prototype.compare=function(v,A,P,X,s){if(ae(v,Uint8Array)&&(v=e.from(v,v.offset,v.byteLength)),!e.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(A===void 0&&(A=0),P===void 0&&(P=v?v.length:0),X===void 0&&(X=0),s===void 0&&(s=this.length),A<0||P>v.length||X<0||s>this.length)throw new RangeError("out of range index");if(X>=s&&A>=P)return 0;if(X>=s)return-1;if(A>=P)return 1;if(this===v)return 0;for(var h=(s>>>=0)-(X>>>=0),g=(P>>>=0)-(A>>>=0),U=Math.min(h,g),K=this.slice(X,s),E=v.slice(A,P),J=0;J<U;++J)if(K[J]!==E[J]){h=K[J],g=E[J];break}return h<g?-1:g<h?1:0},e.prototype.includes=function(v,A,P){return this.indexOf(v,A,P)!==-1},e.prototype.indexOf=function(v,A,P){return c(this,v,A,P,!0)},e.prototype.lastIndexOf=function(v,A,P){return c(this,v,A,P,!1)},e.prototype.write=function(v,A,P,X){if(A===void 0)X="utf8",P=this.length,A=0;else if(P===void 0&&typeof A=="string")X=A,P=this.length,A=0;else{if(!isFinite(A))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");A>>>=0,isFinite(P)?(P>>>=0,X===void 0&&(X="utf8")):(X=P,P=void 0)}var s=this.length-A;if((P===void 0||P>s)&&(P=s),v.length>0&&(P<0||A<0)||A>this.length)throw new RangeError("Attempt to write outside buffer bounds");X||(X="utf8");for(var h=!1;;)switch(X){case"hex":return M(this,v,A,P);case"utf8":case"utf-8":return I(this,v,A,P);case"ascii":return S(this,v,A,P);case"latin1":case"binary":return G(this,v,A,P);case"base64":return z(this,v,A,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,v,A,P);default:if(h)throw new TypeError("Unknown encoding: "+X);X=(""+X).toLowerCase(),h=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var H=4096;function R(v,A,P){var X="";P=Math.min(v.length,P);for(var s=A;s<P;++s)X+=String.fromCharCode(127&v[s]);return X}function T(v,A,P){var X="";P=Math.min(v.length,P);for(var s=A;s<P;++s)X+=String.fromCharCode(v[s]);return X}function C(v,A,P){var X,s=v.length;(!A||A<0)&&(A=0),(!P||P<0||P>s)&&(P=s);for(var h="",g=A;g<P;++g)h+=(X=v[g])<16?"0"+X.toString(16):X.toString(16);return h}function k(v,A,P){for(var X=v.slice(A,P),s="",h=0;h<X.length;h+=2)s+=String.fromCharCode(X[h]+256*X[h+1]);return s}function te(v,A,P){if(v%1!=0||v<0)throw new RangeError("offset is not uint");if(v+A>P)throw new RangeError("Trying to access beyond buffer length")}function V(v,A,P,X,s,h){if(!e.isBuffer(v))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>s||A<h)throw new RangeError('"value" argument is out of bounds');if(P+X>v.length)throw new RangeError("Index out of range")}function Q(v,A,P,X,s,h){if(P+X>v.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}function W(v,A,P,X,s){return A=+A,P>>>=0,s||Q(v,0,P,4),_.write(v,A,P,X,23,4),P+4}function L(v,A,P,X,s){return A=+A,P>>>=0,s||Q(v,0,P,8),_.write(v,A,P,X,52,8),P+8}e.prototype.slice=function(v,A){var P=this.length;(v=~~v)<0?(v+=P)<0&&(v=0):v>P&&(v=P),(A=A===void 0?P:~~A)<0?(A+=P)<0&&(A=0):A>P&&(A=P),A<v&&(A=v);var X=this.subarray(v,A);return X.__proto__=e.prototype,X},e.prototype.readUIntLE=function(v,A,P){v>>>=0,A>>>=0,P||te(v,A,this.length);for(var X=this[v],s=1,h=0;++h<A&&(s*=256);)X+=this[v+h]*s;return X},e.prototype.readUIntBE=function(v,A,P){v>>>=0,A>>>=0,P||te(v,A,this.length);for(var X=this[v+--A],s=1;A>0&&(s*=256);)X+=this[v+--A]*s;return X},e.prototype.readUInt8=function(v,A){return v>>>=0,A||te(v,1,this.length),this[v]},e.prototype.readUInt16LE=function(v,A){return v>>>=0,A||te(v,2,this.length),this[v]|this[v+1]<<8},e.prototype.readUInt16BE=function(v,A){return v>>>=0,A||te(v,2,this.length),this[v]<<8|this[v+1]},e.prototype.readUInt32LE=function(v,A){return v>>>=0,A||te(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+16777216*this[v+3]},e.prototype.readUInt32BE=function(v,A){return v>>>=0,A||te(v,4,this.length),16777216*this[v]+(this[v+1]<<16|this[v+2]<<8|this[v+3])},e.prototype.readIntLE=function(v,A,P){v>>>=0,A>>>=0,P||te(v,A,this.length);for(var X=this[v],s=1,h=0;++h<A&&(s*=256);)X+=this[v+h]*s;return X>=(s*=128)&&(X-=Math.pow(2,8*A)),X},e.prototype.readIntBE=function(v,A,P){v>>>=0,A>>>=0,P||te(v,A,this.length);for(var X=A,s=1,h=this[v+--X];X>0&&(s*=256);)h+=this[v+--X]*s;return h>=(s*=128)&&(h-=Math.pow(2,8*A)),h},e.prototype.readInt8=function(v,A){return v>>>=0,A||te(v,1,this.length),128&this[v]?-1*(255-this[v]+1):this[v]},e.prototype.readInt16LE=function(v,A){v>>>=0,A||te(v,2,this.length);var P=this[v]|this[v+1]<<8;return 32768&P?4294901760|P:P},e.prototype.readInt16BE=function(v,A){v>>>=0,A||te(v,2,this.length);var P=this[v+1]|this[v]<<8;return 32768&P?4294901760|P:P},e.prototype.readInt32LE=function(v,A){return v>>>=0,A||te(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},e.prototype.readInt32BE=function(v,A){return v>>>=0,A||te(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},e.prototype.readFloatLE=function(v,A){return v>>>=0,A||te(v,4,this.length),_.read(this,v,!0,23,4)},e.prototype.readFloatBE=function(v,A){return v>>>=0,A||te(v,4,this.length),_.read(this,v,!1,23,4)},e.prototype.readDoubleLE=function(v,A){return v>>>=0,A||te(v,8,this.length),_.read(this,v,!0,52,8)},e.prototype.readDoubleBE=function(v,A){return v>>>=0,A||te(v,8,this.length),_.read(this,v,!1,52,8)},e.prototype.writeUIntLE=function(v,A,P,X){v=+v,A>>>=0,P>>>=0,X||V(this,v,A,P,Math.pow(2,8*P)-1,0);var s=1,h=0;for(this[A]=255&v;++h<P&&(s*=256);)this[A+h]=v/s&255;return A+P},e.prototype.writeUIntBE=function(v,A,P,X){v=+v,A>>>=0,P>>>=0,X||V(this,v,A,P,Math.pow(2,8*P)-1,0);var s=P-1,h=1;for(this[A+s]=255&v;--s>=0&&(h*=256);)this[A+s]=v/h&255;return A+P},e.prototype.writeUInt8=function(v,A,P){return v=+v,A>>>=0,P||V(this,v,A,1,255,0),this[A]=255&v,A+1},e.prototype.writeUInt16LE=function(v,A,P){return v=+v,A>>>=0,P||V(this,v,A,2,65535,0),this[A]=255&v,this[A+1]=v>>>8,A+2},e.prototype.writeUInt16BE=function(v,A,P){return v=+v,A>>>=0,P||V(this,v,A,2,65535,0),this[A]=v>>>8,this[A+1]=255&v,A+2},e.prototype.writeUInt32LE=function(v,A,P){return v=+v,A>>>=0,P||V(this,v,A,4,4294967295,0),this[A+3]=v>>>24,this[A+2]=v>>>16,this[A+1]=v>>>8,this[A]=255&v,A+4},e.prototype.writeUInt32BE=function(v,A,P){return v=+v,A>>>=0,P||V(this,v,A,4,4294967295,0),this[A]=v>>>24,this[A+1]=v>>>16,this[A+2]=v>>>8,this[A+3]=255&v,A+4},e.prototype.writeIntLE=function(v,A,P,X){if(v=+v,A>>>=0,!X){var s=Math.pow(2,8*P-1);V(this,v,A,P,s-1,-s)}var h=0,g=1,U=0;for(this[A]=255&v;++h<P&&(g*=256);)v<0&&U===0&&this[A+h-1]!==0&&(U=1),this[A+h]=(v/g>>0)-U&255;return A+P},e.prototype.writeIntBE=function(v,A,P,X){if(v=+v,A>>>=0,!X){var s=Math.pow(2,8*P-1);V(this,v,A,P,s-1,-s)}var h=P-1,g=1,U=0;for(this[A+h]=255&v;--h>=0&&(g*=256);)v<0&&U===0&&this[A+h+1]!==0&&(U=1),this[A+h]=(v/g>>0)-U&255;return A+P},e.prototype.writeInt8=function(v,A,P){return v=+v,A>>>=0,P||V(this,v,A,1,127,-128),v<0&&(v=255+v+1),this[A]=255&v,A+1},e.prototype.writeInt16LE=function(v,A,P){return v=+v,A>>>=0,P||V(this,v,A,2,32767,-32768),this[A]=255&v,this[A+1]=v>>>8,A+2},e.prototype.writeInt16BE=function(v,A,P){return v=+v,A>>>=0,P||V(this,v,A,2,32767,-32768),this[A]=v>>>8,this[A+1]=255&v,A+2},e.prototype.writeInt32LE=function(v,A,P){return v=+v,A>>>=0,P||V(this,v,A,4,2147483647,-2147483648),this[A]=255&v,this[A+1]=v>>>8,this[A+2]=v>>>16,this[A+3]=v>>>24,A+4},e.prototype.writeInt32BE=function(v,A,P){return v=+v,A>>>=0,P||V(this,v,A,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[A]=v>>>24,this[A+1]=v>>>16,this[A+2]=v>>>8,this[A+3]=255&v,A+4},e.prototype.writeFloatLE=function(v,A,P){return W(this,v,A,!0,P)},e.prototype.writeFloatBE=function(v,A,P){return W(this,v,A,!1,P)},e.prototype.writeDoubleLE=function(v,A,P){return L(this,v,A,!0,P)},e.prototype.writeDoubleBE=function(v,A,P){return L(this,v,A,!1,P)},e.prototype.copy=function(v,A,P,X){if(!e.isBuffer(v))throw new TypeError("argument should be a Buffer");if(P||(P=0),X||X===0||(X=this.length),A>=v.length&&(A=v.length),A||(A=0),X>0&&X<P&&(X=P),X===P||v.length===0||this.length===0)return 0;if(A<0)throw new RangeError("targetStart out of bounds");if(P<0||P>=this.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("sourceEnd out of bounds");X>this.length&&(X=this.length),v.length-A<X-P&&(X=v.length-A+P);var s=X-P;if(this===v&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(A,P,X);else if(this===v&&P<A&&A<X)for(var h=s-1;h>=0;--h)v[h+A]=this[h+P];else Uint8Array.prototype.set.call(v,this.subarray(P,X),A);return s},e.prototype.fill=function(v,A,P,X){if(typeof v=="string"){if(typeof A=="string"?(X=A,A=0,P=this.length):typeof P=="string"&&(X=P,P=this.length),X!==void 0&&typeof X!="string")throw new TypeError("encoding must be a string");if(typeof X=="string"&&!e.isEncoding(X))throw new TypeError("Unknown encoding: "+X);if(v.length===1){var s=v.charCodeAt(0);(X==="utf8"&&s<128||X==="latin1")&&(v=s)}}else typeof v=="number"&&(v&=255);if(A<0||this.length<A||this.length<P)throw new RangeError("Out of range index");if(P<=A)return this;var h;if(A>>>=0,P=P===void 0?this.length:P>>>0,v||(v=0),typeof v=="number")for(h=A;h<P;++h)this[h]=v;else{var g=e.isBuffer(v)?v:e.from(v,X),U=g.length;if(U===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(h=0;h<P-A;++h)this[h+A]=g[h%U]}return this};var Y=/[^+/0-9A-Za-z-_]/g;function O(v,A){var P;A=A||1/0;for(var X=v.length,s=null,h=[],g=0;g<X;++g){if((P=v.charCodeAt(g))>55295&&P<57344){if(!s){if(P>56319){(A-=3)>-1&&h.push(239,191,189);continue}if(g+1===X){(A-=3)>-1&&h.push(239,191,189);continue}s=P;continue}if(P<56320){(A-=3)>-1&&h.push(239,191,189),s=P;continue}P=65536+(s-55296<<10|P-56320)}else s&&(A-=3)>-1&&h.push(239,191,189);if(s=null,P<128){if((A-=1)<0)break;h.push(P)}else if(P<2048){if((A-=2)<0)break;h.push(P>>6|192,63&P|128)}else if(P<65536){if((A-=3)<0)break;h.push(P>>12|224,P>>6&63|128,63&P|128)}else{if(!(P<1114112))throw new Error("Invalid code point");if((A-=4)<0)break;h.push(P>>18|240,P>>12&63|128,P>>6&63|128,63&P|128)}}return h}function D(v){return l.toByteArray(function(A){if((A=(A=A.split("=")[0]).trim().replace(Y,"")).length<2)return"";for(;A.length%4!=0;)A+="=";return A}(v))}function re(v,A,P,X){for(var s=0;s<X&&!(s+P>=A.length||s>=v.length);++s)A[s+P]=v[s];return s}function ae(v,A){return v instanceof A||v!=null&&v.constructor!=null&&v.constructor.name!=null&&v.constructor.name===A.name}function he(v){return v!=v}},4181:(_e,ie)=>{ie.read=function(j,l,_,u,o){var e,n,r=8*o-u-1,t=(1<<r)-1,i=t>>1,f=-7,d=_?o-1:0,m=_?-1:1,a=j[l+d];for(d+=m,e=a&(1<<-f)-1,a>>=-f,f+=r;f>0;e=256*e+j[l+d],d+=m,f-=8);for(n=e&(1<<-f)-1,e>>=-f,f+=u;f>0;n=256*n+j[l+d],d+=m,f-=8);if(e===0)e=1-i;else{if(e===t)return n?NaN:1/0*(a?-1:1);n+=Math.pow(2,u),e-=i}return(a?-1:1)*n*Math.pow(2,e-u)},ie.write=function(j,l,_,u,o,e){var n,r,t,i=8*e-o-1,f=(1<<i)-1,d=f>>1,m=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,a=u?0:e-1,c=u?1:-1,p=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(r=isNaN(l)?1:0,n=f):(n=Math.floor(Math.log(l)/Math.LN2),l*(t=Math.pow(2,-n))<1&&(n--,t*=2),(l+=n+d>=1?m/t:m*Math.pow(2,1-d))*t>=2&&(n++,t/=2),n+d>=f?(r=0,n=f):n+d>=1?(r=(l*t-1)*Math.pow(2,o),n+=d):(r=l*Math.pow(2,d-1)*Math.pow(2,o),n=0));o>=8;j[_+a]=255&r,a+=c,r/=256,o-=8);for(n=n<<o|r,i+=o;i>0;j[_+a]=255&n,a+=c,n/=256,i-=8);j[_+a-c]|=128*p}},869:_e=>{_e.exports=null},2699:_e=>{var ie,j=typeof Reflect=="object"?Reflect:null,l=j&&typeof j.apply=="function"?j.apply:function(c,p,M){return Function.prototype.apply.call(c,p,M)};ie=j&&typeof j.ownKeys=="function"?j.ownKeys:Object.getOwnPropertySymbols?function(c){return Object.getOwnPropertyNames(c).concat(Object.getOwnPropertySymbols(c))}:function(c){return Object.getOwnPropertyNames(c)};var _=Number.isNaN||function(c){return c!=c};function u(){u.init.call(this)}_e.exports=u,_e.exports.once=function(c,p){return new Promise(function(M,I){function S(z){c.removeListener(p,G),I(z)}function G(){typeof c.removeListener=="function"&&c.removeListener("error",S),M([].slice.call(arguments))}a(c,p,G,{once:!0}),p!=="error"&&function(z,y,b){typeof z.on=="function"&&a(z,"error",y,{once:!0})}(c,S)})},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var o=10;function e(c){if(typeof c!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof c)}function n(c){return c._maxListeners===void 0?u.defaultMaxListeners:c._maxListeners}function r(c,p,M,I){var S,G,z,y;if(e(M),(G=c._events)===void 0?(G=c._events=Object.create(null),c._eventsCount=0):(G.newListener!==void 0&&(c.emit("newListener",p,M.listener?M.listener:M),G=c._events),z=G[p]),z===void 0)z=G[p]=M,++c._eventsCount;else if(typeof z=="function"?z=G[p]=I?[M,z]:[z,M]:I?z.unshift(M):z.push(M),(S=n(c))>0&&z.length>S&&!z.warned){z.warned=!0;var b=new Error("Possible EventEmitter memory leak detected. "+z.length+" "+String(p)+" listeners added. Use emitter.setMaxListeners() to increase limit");b.name="MaxListenersExceededWarning",b.emitter=c,b.type=p,b.count=z.length,y=b,console&&console.warn&&console.warn(y)}return c}function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i(c,p,M){var I={fired:!1,wrapFn:void 0,target:c,type:p,listener:M},S=t.bind(I);return S.listener=M,I.wrapFn=S,S}function f(c,p,M){var I=c._events;if(I===void 0)return[];var S=I[p];return S===void 0?[]:typeof S=="function"?M?[S.listener||S]:[S]:M?function(G){for(var z=new Array(G.length),y=0;y<z.length;++y)z[y]=G[y].listener||G[y];return z}(S):m(S,S.length)}function d(c){var p=this._events;if(p!==void 0){var M=p[c];if(typeof M=="function")return 1;if(M!==void 0)return M.length}return 0}function m(c,p){for(var M=new Array(p),I=0;I<p;++I)M[I]=c[I];return M}function a(c,p,M,I){if(typeof c.on=="function")I.once?c.once(p,M):c.on(p,M);else{if(typeof c.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof c);c.addEventListener(p,function S(G){I.once&&c.removeEventListener(p,S),M(G)})}}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(c){if(typeof c!="number"||c<0||_(c))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+c+".");o=c}}),u.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(c){if(typeof c!="number"||c<0||_(c))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+c+".");return this._maxListeners=c,this},u.prototype.getMaxListeners=function(){return n(this)},u.prototype.emit=function(c){for(var p=[],M=1;M<arguments.length;M++)p.push(arguments[M]);var I=c==="error",S=this._events;if(S!==void 0)I=I&&S.error===void 0;else if(!I)return!1;if(I){var G;if(p.length>0&&(G=p[0]),G instanceof Error)throw G;var z=new Error("Unhandled error."+(G?" ("+G.message+")":""));throw z.context=G,z}var y=S[c];if(y===void 0)return!1;if(typeof y=="function")l(y,this,p);else{var b=y.length,B=m(y,b);for(M=0;M<b;++M)l(B[M],this,p)}return!0},u.prototype.addListener=function(c,p){return r(this,c,p,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(c,p){return r(this,c,p,!0)},u.prototype.once=function(c,p){return e(p),this.on(c,i(this,c,p)),this},u.prototype.prependOnceListener=function(c,p){return e(p),this.prependListener(c,i(this,c,p)),this},u.prototype.removeListener=function(c,p){var M,I,S,G,z;if(e(p),(I=this._events)===void 0)return this;if((M=I[c])===void 0)return this;if(M===p||M.listener===p)--this._eventsCount==0?this._events=Object.create(null):(delete I[c],I.removeListener&&this.emit("removeListener",c,M.listener||p));else if(typeof M!="function"){for(S=-1,G=M.length-1;G>=0;G--)if(M[G]===p||M[G].listener===p){z=M[G].listener,S=G;break}if(S<0)return this;S===0?M.shift():function(y,b){for(;b+1<y.length;b++)y[b]=y[b+1];y.pop()}(M,S),M.length===1&&(I[c]=M[0]),I.removeListener!==void 0&&this.emit("removeListener",c,z||p)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(c){var p,M,I;if((M=this._events)===void 0)return this;if(M.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):M[c]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete M[c]),this;if(arguments.length===0){var S,G=Object.keys(M);for(I=0;I<G.length;++I)(S=G[I])!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(p=M[c])=="function")this.removeListener(c,p);else if(p!==void 0)for(I=p.length-1;I>=0;I--)this.removeListener(c,p[I]);return this},u.prototype.listeners=function(c){return f(this,c,!0)},u.prototype.rawListeners=function(c){return f(this,c,!1)},u.listenerCount=function(c,p){return typeof c.listenerCount=="function"?c.listenerCount(p):d.call(c,p)},u.prototype.listenerCount=d,u.prototype.eventNames=function(){return this._eventsCount>0?ie(this._events):[]}},6551:(_e,ie,j)=>{var l=j(453);_e.exports={create:function(_,u){if(_ instanceof(u=u||(0,eval)("this")).ArrayBuffer){var o=j(909);return new l(new o(_,0,_.byteLength,!0,u))}var e=j(3684);return new l(new e(_,0,_.length,!0))}}},3684:_e=>{function ie(j,l,_,u){this.buffer=j,this.offset=l||0,_=typeof _=="number"?_:j.length,this.endPosition=this.offset+_,this.setBigEndian(u)}ie.prototype={setBigEndian:function(j){this.bigEndian=!!j},nextUInt8:function(){var j=this.buffer.readUInt8(this.offset);return this.offset+=1,j},nextInt8:function(){var j=this.buffer.readInt8(this.offset);return this.offset+=1,j},nextUInt16:function(){var j=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,j},nextUInt32:function(){var j=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,j},nextInt16:function(){var j=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,j},nextInt32:function(){var j=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,j},nextFloat:function(){var j=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,j},nextDouble:function(){var j=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,j},nextBuffer:function(j){var l=this.buffer.slice(this.offset,this.offset+j);return this.offset+=j,l},remainingLength:function(){return this.endPosition-this.offset},nextString:function(j){var l=this.buffer.toString("utf8",this.offset,this.offset+j);return this.offset+=j,l},mark:function(){var j=this;return{openWithOffset:function(l){return l=(l||0)+this.offset,new ie(j.buffer,l,j.endPosition-l,j.bigEndian)},offset:this.offset}},offsetFrom:function(j){return this.offset-j.offset},skip:function(j){this.offset+=j},branch:function(j,l){return l=typeof l=="number"?l:this.endPosition-(this.offset+j),new ie(this.buffer,this.offset+j,l,this.bigEndian)}},_e.exports=ie},565:_e=>{function ie(e){return parseInt(e,10)}var j=3600,l=60;function _(e,n){e=e.map(ie),n=n.map(ie);var r=e[0],t=e[1]-1,i=e[2],f=n[0],d=n[1],m=n[2];return Date.UTC(r,t,i,f,d,m,0)/1e3}function u(e){var n=e.substr(0,10).split("-"),r=e.substr(11,8).split(":"),t=e.substr(19,6).split(":").map(ie),i=t[0]*j+t[1]*l,f=_(n,r);if(typeof(f-=i)=="number"&&!isNaN(f))return f}function o(e){var n=e.split(" "),r=_(n[0].split(":"),n[1].split(":"));if(typeof r=="number"&&!isNaN(r))return r}_e.exports={parseDateWithSpecFormat:o,parseDateWithTimezoneFormat:u,parseExifDate:function(e){var n=e.length===19&&e.charAt(4)===":";return e.length===25&&e.charAt(10)==="T"?u(e):n?o(e):void 0}}},909:_e=>{function ie(j,l,_,u,o,e){this.global=o,l=l||0,_=_||j.byteLength-l,this.arrayBuffer=j.slice(l,l+_),this.view=new o.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(u),this.offset=0,this.parentOffset=(e||0)+l}ie.prototype={setBigEndian:function(j){this.littleEndian=!j},nextUInt8:function(){var j=this.view.getUint8(this.offset);return this.offset+=1,j},nextInt8:function(){var j=this.view.getInt8(this.offset);return this.offset+=1,j},nextUInt16:function(){var j=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,j},nextUInt32:function(){var j=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,j},nextInt16:function(){var j=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,j},nextInt32:function(){var j=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,j},nextFloat:function(){var j=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,j},nextDouble:function(){var j=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,j},nextBuffer:function(j){var l=this.arrayBuffer.slice(this.offset,this.offset+j);return this.offset+=j,l},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(j){var l=this.arrayBuffer.slice(this.offset,this.offset+j);return l=String.fromCharCode.apply(null,new this.global.Uint8Array(l)),this.offset+=j,l},mark:function(){var j=this;return{openWithOffset:function(l){return l=(l||0)+this.offset,new ie(j.arrayBuffer,l,j.arrayBuffer.byteLength-l,!j.littleEndian,j.global,j.parentOffset)},offset:this.offset,getParentOffset:function(){return j.parentOffset}}},offsetFrom:function(j){return this.parentOffset+this.offset-(j.offset+j.getParentOffset())},skip:function(j){this.offset+=j},branch:function(j,l){return l=typeof l=="number"?l:this.arrayBuffer.byteLength-(this.offset+j),new ie(this.arrayBuffer,this.offset+j,l,!this.littleEndian,this.global,this.parentOffset)}},_e.exports=ie},3332:_e=>{_e.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},592:_e=>{function ie(_,u){switch(_){case 1:return u.nextUInt8();case 3:case 8:return u.nextUInt16();case 4:case 9:return u.nextUInt32();case 5:return[u.nextUInt32(),u.nextUInt32()];case 6:return u.nextInt8();case 10:return[u.nextInt32(),u.nextInt32()];case 11:return u.nextFloat();case 12:return u.nextDouble();default:throw new Error("Invalid format while decoding: "+_)}}function j(_,u){var o,e,n=u.nextUInt16(),r=u.nextUInt16(),t=function(m){switch(m){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}(r),i=u.nextUInt32(),f=t*i;if(f>4&&(u=_.openWithOffset(u.nextUInt32())),r===2){var d=(o=u.nextString(i)).indexOf("\0");d!==-1&&(o=o.substr(0,d))}else if(r===7)o=u.nextBuffer(i);else if(r!==0)for(o=[],e=0;e<i;++e)o.push(ie(r,u));return f<4&&u.skip(4-f),[n,o,r]}function l(_,u,o){var e,n,r=u.nextUInt16();for(n=0;n<r;++n)o((e=j(_,u))[0],e[1],e[2])}_e.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(_,u){var o,e,n,r;try{o=function(M){if(M.nextString(6)!=="Exif\0\0")throw new Error("Invalid EXIF header");var I=M.mark(),S=M.nextUInt16();if(S===18761)M.setBigEndian(!1);else{if(S!==19789)throw new Error("Invalid TIFF header");M.setBigEndian(!0)}if(M.nextUInt16()!==42)throw new Error("Invalid TIFF data");return I}(_)}catch{return!1}var t=o.openWithOffset(_.nextUInt32()),i=this.IFD0;l(o,t,function(M,I,S){switch(M){case 34853:n=I[0];break;case 34665:e=I[0];break;default:u(i,M,I,S)}});var f=t.nextUInt32();if(f!==0){var d=o.openWithOffset(f);l(o,d,u.bind(null,this.IFD1))}if(n){var m=o.openWithOffset(n);l(o,m,u.bind(null,this.GPSIFD))}if(e){var a=o.openWithOffset(e),c=this.InteropIFD;l(o,a,function(M,I,S){M===40965?r=I[0]:u(c,M,I,S)})}if(r){var p=o.openWithOffset(r);l(o,p,u.bind(null,this.InteropIFD))}return!0}}},656:_e=>{_e.exports={parseSections:function(ie,j){var l,_;for(ie.setBigEndian(!0);ie.remainingLength()>0&&_!==218;){if(ie.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");l=(_=ie.nextUInt8())>=208&&_<=217||_===218?0:ie.nextUInt16()-2,j(_,ie.branch(0,l)),ie.skip(l)}},getSizeFromSOFSection:function(ie){return ie.skip(1),{height:ie.nextUInt16(),width:ie.nextUInt16()}},getSectionName:function(ie){var j,l;switch(ie){case 216:j="SOI";break;case 196:j="DHT";break;case 219:j="DQT";break;case 221:j="DRI";break;case 218:j="SOS";break;case 254:j="COM";break;case 217:j="EOI";break;default:ie>=224&&ie<=239?(j="APP",l=ie-224):ie>=192&&ie<=207&&ie!==196&&ie!==200&&ie!==204?(j="SOF",l=ie-192):ie>=208&&ie<=215&&(j="RST",l=ie-208)}var _={name:j};return typeof l=="number"&&(_.index=l),_}}},453:(_e,ie,j)=>{var l=j(656),_=j(592),u=j(3814);function o(n,r,t,i,f,d,m){this.startMarker=n,this.tags=r,this.imageSize=t,this.thumbnailOffset=i,this.thumbnailLength=f,this.thumbnailType=d,this.app1Offset=m}function e(n){this.stream=n,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}o.prototype={hasThumbnail:function(n){return!(!this.thumbnailOffset||!this.thumbnailLength||typeof n=="string"&&(n.toLowerCase().trim()==="image/jpeg"?this.thumbnailType!==6:n.toLowerCase().trim()!=="image/tiff"||this.thumbnailType!==1))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var n,r=this._getThumbnailStream();return l.parseSections(r,function(t,i){l.getSectionName(t).name==="SOF"&&(n=l.getSizeFromSOFSection(i))}),n}},e.prototype={enableBinaryFields:function(n){return this.flags.readBinaryTags=!!n,this},enablePointers:function(n){return this.flags.hidePointers=!n,this},enableTagNames:function(n){return this.flags.resolveTagNames=!!n,this},enableImageSize:function(n){return this.flags.imageSize=!!n,this},enableReturnTags:function(n){return this.flags.returnTags=!!n,this},enableSimpleValues:function(n){return this.flags.simplifyValues=!!n,this},parse:function(){var n,r,t,i,f,d,m,a,c,p=this.stream.mark(),M=p.openWithOffset(0),I=this.flags;return I.resolveTagNames&&(m=j(3332)),I.resolveTagNames?(n={},a=function(S){return n[S.name]},c=function(S,G){n[S.name]=G}):(n=[],a=function(S){var G;for(G=0;G<n.length;++G)if(n[G].type===S.type&&n[G].section===S.section)return n.value},c=function(S,G){var z;for(z=0;z<n.length;++z)if(n[z].type===S.type&&n[z].section===S.section)return void(n.value=G)}),l.parseSections(M,function(S,G){var z=G.offsetFrom(p);S===225?_.parseTags(G,function(y,b,B,H){if(I.readBinaryTags||H!==7){if(b===513){if(t=B[0],I.hidePointers)return}else if(b===514){if(i=B[0],I.hidePointers)return}else if(b===259&&(f=B[0],I.hidePointers))return;if(I.returnTags)if(I.simplifyValues&&(B=u.simplifyValue(B,H)),I.resolveTagNames){var R=(y===_.GPSIFD?m.gps:m.exif)[b];R||(R=m.exif[b]),n.hasOwnProperty(R)||(n[R]=B)}else n.push({section:y,type:b,value:B})}})&&(d=z):I.imageSize&&l.getSectionName(S).name==="SOF"&&(r=l.getSizeFromSOFSection(G))}),I.simplifyValues&&(u.castDegreeValues(a,c),u.castDateValues(a,c)),new o(p,n,r,t,i,f,d)}},_e.exports=e},3814:(_e,ie,j)=>{var l=j(592),_=j(565),u=[{section:l.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:l.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],o=[{section:l.SubIFD,type:306,name:"ModifyDate"},{section:l.SubIFD,type:36867,name:"DateTimeOriginal"},{section:l.SubIFD,type:36868,name:"CreateDate"},{section:l.SubIFD,type:306,name:"ModifyDate"}];_e.exports={castDegreeValues:function(e,n){u.forEach(function(r){var t=e(r);if(t){var i=e({section:r.section,type:r.refType,name:r.refName})===r.posVal?1:-1,f=(t[0]+t[1]/60+t[2]/3600)*i;n(r,f)}})},castDateValues:function(e,n){o.forEach(function(r){var t=e(r);if(t){var i=_.parseExifDate(t);i!==void 0&&n(r,i)}})},simplifyValue:function(e,n){return Array.isArray(e)&&(e=e.map(function(r){return n===10||n===5?r[0]/r[1]:r})).length===1&&(e=e[0]),e}}},8789:(module,__unused_webpack_exports,__webpack_require__)=>{var Buffer=__webpack_require__(8834).lW;const Token=__webpack_require__(5010),strtok3=__webpack_require__(7378),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=__webpack_require__(7044),supported=__webpack_require__(4078),minimumBytes=4100;async function fromStream(_e){const ie=await strtok3.fromStream(_e);try{return await fromTokenizer(ie)}finally{await ie.close()}}async function fromBuffer(_e){if(!(_e instanceof Uint8Array||_e instanceof ArrayBuffer||Buffer.isBuffer(_e)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof _e}\``);const ie=_e instanceof Buffer?_e:Buffer.from(_e);if(ie&&ie.length>1)return fromTokenizer(strtok3.fromBuffer(ie))}function _check(_e,ie,j){j={offset:0,...j};for(const[l,_]of ie.entries())if(j.mask){if(_!==(j.mask[l]&_e[l+j.offset]))return!1}else if(_!==_e[l+j.offset])return!1;return!0}async function fromTokenizer(_e){try{return _fromTokenizer(_e)}catch(ie){if(!(ie instanceof strtok3.EndOfStreamError))throw ie}}async function _fromTokenizer(_e){let ie=Buffer.alloc(minimumBytes);const j=(_,u)=>_check(ie,_,u),l=(_,u)=>j(stringToBytes(_),u);if(_e.fileInfo.size||(_e.fileInfo.size=Number.MAX_SAFE_INTEGER),await _e.peekBuffer(ie,{length:12,mayBeLess:!0}),j([66,77]))return{ext:"bmp",mime:"image/bmp"};if(j([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(j([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(j([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(j([37,33]))return await _e.peekBuffer(ie,{length:24,mayBeLess:!0}),l("PS-Adobe-",{offset:2})&&l(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(j([31,160])||j([31,157]))return{ext:"Z",mime:"application/x-compress"};if(j([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(j([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(j([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(j([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(l("ID3")){await _e.ignore(6);const _=await _e.readToken(uint32SyncSafeToken);return _e.position+_>_e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await _e.ignore(_),fromTokenizer(_e))}if(l("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((ie[0]===67||ie[0]===70)&&j([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(j([71,73,70]))return{ext:"gif",mime:"image/gif"};if(l("FLIF"))return{ext:"flif",mime:"image/flif"};if(l("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(l("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(l("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(l("FORM"))return{ext:"aif",mime:"audio/aiff"};if(l("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(j([80,75,3,4])){try{for(;_e.position+30<_e.fileInfo.size;){await _e.readBuffer(ie,{length:30});const _={compressedSize:ie.readUInt32LE(18),uncompressedSize:ie.readUInt32LE(22),filenameLength:ie.readUInt16LE(26),extraFieldLength:ie.readUInt16LE(28)};if(_.filename=await _e.readToken(new Token.StringType(_.filenameLength,"utf-8")),await _e.ignore(_.extraFieldLength),_.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(_.filename.endsWith(".rels")||_.filename.endsWith(".xml"))switch(_.filename.split("/")[0]){case"_rels":default:break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(_.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(_.filename.startsWith("3D/")&&_.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(_.filename==="mimetype"&&_.compressedSize===_.uncompressedSize)switch(await _e.readToken(new Token.StringType(_.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}if(_.compressedSize===0){let u=-1;for(;u<0&&_e.position<_e.fileInfo.size;)await _e.peekBuffer(ie,{mayBeLess:!0}),u=ie.indexOf("504B0304",0,"hex"),await _e.ignore(u>=0?u:ie.length)}else await _e.ignore(_.compressedSize)}}catch(_){if(!(_ instanceof strtok3.EndOfStreamError))throw _}return{ext:"zip",mime:"application/zip"}}if(l("OggS")){await _e.ignore(28);const _=Buffer.alloc(8);return await _e.readBuffer(_),_check(_,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(_,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(_,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(_,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(_,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(_,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(j([80,75])&&(ie[2]===3||ie[2]===5||ie[2]===7)&&(ie[3]===4||ie[3]===6||ie[3]===8))return{ext:"zip",mime:"application/zip"};if(l("ftyp",{offset:4})&&96&ie[8]){const _=ie.toString("binary",8,12).replace("\0"," ").trim();switch(_){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return _.startsWith("3g")?_.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(l("MThd"))return{ext:"mid",mime:"audio/midi"};if(l("wOFF")&&(j([0,1,0,0],{offset:4})||l("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(l("wOF2")&&(j([0,1,0,0],{offset:4})||l("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(j([212,195,178,161])||j([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(l("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(l("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(l("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(j([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(l("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(l("%PDF")){await _e.ignore(1350);const _=10485760,u=Buffer.alloc(Math.min(_,_e.fileInfo.size));return await _e.readBuffer(u,{mayBeLess:!0}),u.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(j([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(j([73,73,42,0]))return l("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:j([28,0,254,0],{offset:8})||j([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:j([8,0,0,0],{offset:4})&&(j([45,0,254,0],{offset:8})||j([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(ie=Buffer.alloc(24),await _e.peekBuffer(ie),(j([16,251,134,1],{offset:4})||j([8,0,0,0],{offset:4}))&&j([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(j([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(l("MAC "))return{ext:"ape",mime:"audio/ape"};if(j([26,69,223,163])){async function _(){const n=await _e.peekNumber(Token.UINT8);let r=128,t=0;for(;!(n&r)&&r!==0;)++t,r>>=1;const i=Buffer.alloc(t+1);return await _e.readBuffer(i),i}async function u(){const n=await _(),r=await _();r[0]^=128>>r.length-1;const t=Math.min(6,r.length);return{id:n.readUIntBE(0,n.length),len:r.readUIntBE(r.length-t,t)}}async function o(n,r){for(;r>0;){const t=await u();if(t.id===17026)return _e.readToken(new Token.StringType(t.len,"utf-8"));await _e.ignore(t.len),--r}}const e=await u();switch(await o(0,e.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(j([82,73,70,70])){if(j([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(j([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(j([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(l("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(j([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(l("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(l("MSCF")||l("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(j([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(j([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(j([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(j([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(l("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(l("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(j([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(l("IMPM"))return{ext:"it",mime:"audio/x-it"};if(l("-lh0-",{offset:2})||l("-lh1-",{offset:2})||l("-lh2-",{offset:2})||l("-lh3-",{offset:2})||l("-lh4-",{offset:2})||l("-lh5-",{offset:2})||l("-lh6-",{offset:2})||l("-lh7-",{offset:2})||l("-lzs-",{offset:2})||l("-lz4-",{offset:2})||l("-lz5-",{offset:2})||l("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(j([0,0,1,186])){if(j([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(j([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(l("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(j([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(l("<?xml "))return{ext:"xml",mime:"application/xml"};if(j([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(j([82,97,114,33,26,7])&&(ie[6]===0||ie[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(l("solid "))return{ext:"stl",mime:"model/stl"};if(l("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(l("!<arch>"))return await _e.ignore(8),await _e.readToken(new Token.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(j([137,80,78,71,13,10,26,10])){async function _(){return{length:await _e.readToken(Token.INT32_BE),type:await _e.readToken(new Token.StringType(4,"binary"))}}await _e.ignore(8);do{const u=await _();if(u.length<0)return;switch(u.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await _e.ignore(u.length+4)}}while(_e.position+8<_e.fileInfo.size);return{ext:"png",mime:"image/png"}}if(j([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(j([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(j([102,114,101,101],{offset:4})||j([109,100,97,116],{offset:4})||j([109,111,111,118],{offset:4})||j([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(j([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(l("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(j([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(j([48,38,178,117,142,102,207,17,166,217])){async function _(){const u=Buffer.alloc(16);return await _e.readBuffer(u),{id:u,size:Number(await _e.readToken(Token.UINT64_LE))}}for(await _e.ignore(30);_e.position+24<_e.fileInfo.size;){const u=await _();let o=u.size-24;if(_check(u.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const e=Buffer.alloc(16);if(o-=await _e.readBuffer(e),_check(e,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(e,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await _e.ignore(o)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(j([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((j([126,16,4])||j([126,24,4]))&&j([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(j([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(j([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await _e.ignore(20),await _e.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(j([255,10])||j([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(j([0,0,1,186])||j([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(j([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(j([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(j([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(j([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await _e.peekBuffer(ie,{length:Math.min(256,_e.fileInfo.size),mayBeLess:!0}),l("BEGIN:")){if(l("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(l("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(l("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(l("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(l("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(j([4,0,0,0])&&ie.length>=16){const _=ie.readUInt32LE(12);if(_>12&&ie.length>=_+16)try{const u=ie.slice(16,_+16).toString();if(JSON.parse(u).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(j([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(l("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(j([71],{offset:4})&&(j([71],{offset:192})||j([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(j([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(j([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(j([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(j([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(j([76,80],{offset:34})&&(j([0,0,1],{offset:8})||j([1,0,2],{offset:8})||j([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(j([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await _e.peekBuffer(ie,{length:Math.min(512,_e.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(ie))return{ext:"tar",mime:"application/x-tar"};if(j([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(l("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(ie.length>=2&&j([255,224],{offset:0,mask:[255,224]})){if(j([16],{offset:1,mask:[22]}))return j([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(j([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(j([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(j([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const _e=new stream.PassThrough;let ie;ie=stream.pipeline?stream.pipeline(readableStream,_e,()=>{}):readableStream.pipe(_e);const j=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const l=await fromBuffer(j);_e.fileType=l}catch(l){reject(l)}resolve(ie)})}),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)}),module.exports=fileType},5025:(_e,ie,j)=>{const l=j(3569),_=j(8789),u={fromFile:async function(o){const e=await l.fromFile(o);try{return await _.fromTokenizer(e)}finally{await e.close()}}};Object.assign(u,_),Object.defineProperty(u,"extensions",{get:()=>_.extensions}),Object.defineProperty(u,"mimeTypes",{get:()=>_.mimeTypes}),_e.exports=u},4078:_e=>{_e.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},7044:(_e,ie)=>{ie.stringToBytes=j=>[...j].map(l=>l.charCodeAt(0)),ie.tarHeaderChecksumMatches=(j,l=0)=>{const _=parseInt(j.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(_))return!1;let u=256;for(let o=l;o<l+148;o++)u+=j[o];for(let o=l+156;o<l+512;o++)u+=j[o];return _===u},ie.uint32SyncSafeToken={get:(j,l)=>127&j[l+3]|j[l+2]<<7|j[l+1]<<14|j[l]<<21,len:4}},3243:(_e,ie,j)=>{var l=j(9680),_=Object.prototype.toString,u=Object.prototype.hasOwnProperty,o=function(r,t,i){for(var f=0,d=r.length;f<d;f++)u.call(r,f)&&(i==null?t(r[f],f,r):t.call(i,r[f],f,r))},e=function(r,t,i){for(var f=0,d=r.length;f<d;f++)i==null?t(r.charAt(f),f,r):t.call(i,r.charAt(f),f,r)},n=function(r,t,i){for(var f in r)u.call(r,f)&&(i==null?t(r[f],f,r):t.call(i,r[f],f,r))};_e.exports=function(r,t,i){if(!l(t))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=i),_.call(r)==="[object Array]"?o(r,t,f):typeof r=="string"?e(r,t,f):n(r,t,f)}},2855:(_e,ie)=>{function j(l,_,u,o){for(var e=l[_++],n=1<<e,r=n+1,t=r+1,i=e+1,f=(1<<i)-1,d=0,m=0,a=0,c=l[_++],p=new Int32Array(4096),M=null;;){for(;d<16&&c!==0;)m|=l[_++]<<d,d+=8,c===1?c=l[_++]:--c;if(d<i)break;var I=m&f;if(m>>=i,d-=i,I!==n){if(I===r)break;for(var S=I<t?I:M,G=0,z=S;z>n;)z=p[z]>>8,++G;var y=z;if(a+G+(S!==I?1:0)>o)return void console.log("Warning, gif stream longer than expected.");u[a++]=y;var b=a+=G;for(S!==I&&(u[a++]=y),z=S;G--;)z=p[z],u[--b]=255&z,z>>=8;M!==null&&t<4096&&(p[t++]=M<<8|y,t>=f+1&&i<12&&(++i,f=f<<1|1)),M=I}else t=r+1,f=(1<<(i=e+1))-1,M=null}return a!==o&&console.log("Warning, gif stream shorter than expected."),u}try{ie.GifWriter=function(l,_,u,o){var e=0,n=(o=o===void 0?{}:o).loop===void 0?null:o.loop,r=o.palette===void 0?null:o.palette;if(_<=0||u<=0||_>65535||u>65535)throw new Error("Width/Height invalid.");function t(M){var I=M.length;if(I<2||I>256||I&I-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return I}l[e++]=71,l[e++]=73,l[e++]=70,l[e++]=56,l[e++]=57,l[e++]=97;var i=0,f=0;if(r!==null){for(var d=t(r);d>>=1;)++i;if(d=1<<i,--i,o.background!==void 0){if((f=o.background)>=d)throw new Error("Background index out of range.");if(f===0)throw new Error("Background index explicitly passed as 0.")}}if(l[e++]=255&_,l[e++]=_>>8&255,l[e++]=255&u,l[e++]=u>>8&255,l[e++]=(r!==null?128:0)|i,l[e++]=f,l[e++]=0,r!==null)for(var m=0,a=r.length;m<a;++m){var c=r[m];l[e++]=c>>16&255,l[e++]=c>>8&255,l[e++]=255&c}if(n!==null){if(n<0||n>65535)throw new Error("Loop count invalid.");l[e++]=33,l[e++]=255,l[e++]=11,l[e++]=78,l[e++]=69,l[e++]=84,l[e++]=83,l[e++]=67,l[e++]=65,l[e++]=80,l[e++]=69,l[e++]=50,l[e++]=46,l[e++]=48,l[e++]=3,l[e++]=1,l[e++]=255&n,l[e++]=n>>8&255,l[e++]=0}var p=!1;this.addFrame=function(M,I,S,G,z,y){if(p===!0&&(--e,p=!1),y=y===void 0?{}:y,M<0||I<0||M>65535||I>65535)throw new Error("x/y invalid.");if(S<=0||G<=0||S>65535||G>65535)throw new Error("Width/Height invalid.");if(z.length<S*G)throw new Error("Not enough pixels for the frame size.");var b=!0,B=y.palette;if(B==null&&(b=!1,B=r),B==null)throw new Error("Must supply either a local or global palette.");for(var H=t(B),R=0;H>>=1;)++R;H=1<<R;var T=y.delay===void 0?0:y.delay,C=y.disposal===void 0?0:y.disposal;if(C<0||C>3)throw new Error("Disposal out of range.");var k=!1,te=0;if(y.transparent!==void 0&&y.transparent!==null&&(k=!0,(te=y.transparent)<0||te>=H))throw new Error("Transparent color index.");if((C!==0||k||T!==0)&&(l[e++]=33,l[e++]=249,l[e++]=4,l[e++]=C<<2|(k===!0?1:0),l[e++]=255&T,l[e++]=T>>8&255,l[e++]=te,l[e++]=0),l[e++]=44,l[e++]=255&M,l[e++]=M>>8&255,l[e++]=255&I,l[e++]=I>>8&255,l[e++]=255&S,l[e++]=S>>8&255,l[e++]=255&G,l[e++]=G>>8&255,l[e++]=b===!0?128|R-1:0,b===!0)for(var V=0,Q=B.length;V<Q;++V){var W=B[V];l[e++]=W>>16&255,l[e++]=W>>8&255,l[e++]=255&W}return e=function(L,Y,O,D){L[Y++]=O;var re=Y++,ae=1<<O,he=ae-1,v=ae+1,A=v+1,P=O+1,X=0,s=0;function h(ge){for(;X>=ge;)L[Y++]=255&s,s>>=8,X-=8,Y===re+256&&(L[re]=255,re=Y++)}function g(ge){s|=ge<<X,X+=P,h(8)}var U=D[0]&he,K={};g(ae);for(var E=1,J=D.length;E<J;++E){var oe=D[E]&he,Z=U<<8|oe,de=K[Z];if(de===void 0){for(s|=U<<X,X+=P;X>=8;)L[Y++]=255&s,s>>=8,X-=8,Y===re+256&&(L[re]=255,re=Y++);A===4096?(g(ae),A=v+1,P=O+1,K={}):(A>=1<<P&&++P,K[Z]=A++),U=oe}else U=de}return g(U),g(v),h(1),re+1===Y?L[re]=0:(L[re]=Y-re-1,L[Y++]=0),Y}(l,e,R<2?2:R,z),e},this.end=function(){return p===!1&&(l[e++]=59,p=!0),e},this.getOutputBuffer=function(){return l},this.setOutputBuffer=function(M){l=M},this.getOutputBufferPosition=function(){return e},this.setOutputBufferPosition=function(M){e=M}},ie.GifReader=function(l){var _=0;if(l[_++]!==71||l[_++]!==73||l[_++]!==70||l[_++]!==56||(l[_++]+1&253)!=56||l[_++]!==97)throw new Error("Invalid GIF 87a/89a header.");var u=l[_++]|l[_++]<<8,o=l[_++]|l[_++]<<8,e=l[_++],n=e>>7,r=1<<1+(7&e);l[_++],l[_++];var t=null,i=null;n&&(t=_,i=r,_+=3*r);var f=!0,d=[],m=0,a=null,c=0,p=null;for(this.width=u,this.height=o;f&&_<l.length;)switch(l[_++]){case 33:switch(l[_++]){case 255:if(l[_]!==11||l[_+1]==78&&l[_+2]==69&&l[_+3]==84&&l[_+4]==83&&l[_+5]==67&&l[_+6]==65&&l[_+7]==80&&l[_+8]==69&&l[_+9]==50&&l[_+10]==46&&l[_+11]==48&&l[_+12]==3&&l[_+13]==1&&l[_+16]==0)_+=14,p=l[_++]|l[_++]<<8,_++;else for(_+=12;;){if(!((k=l[_++])>=0))throw Error("Invalid block size");if(k===0)break;_+=k}break;case 249:if(l[_++]!==4||l[_+4]!==0)throw new Error("Invalid graphics extension block.");var M=l[_++];m=l[_++]|l[_++]<<8,a=l[_++],!(1&M)&&(a=null),c=M>>2&7,_++;break;case 254:for(;;){if(!((k=l[_++])>=0))throw Error("Invalid block size");if(k===0)break;_+=k}break;default:throw new Error("Unknown graphic control label: 0x"+l[_-1].toString(16))}break;case 44:var I=l[_++]|l[_++]<<8,S=l[_++]|l[_++]<<8,G=l[_++]|l[_++]<<8,z=l[_++]|l[_++]<<8,y=l[_++],b=y>>6&1,B=1<<1+(7&y),H=t,R=i,T=!1;y>>7&&(T=!0,H=_,R=B,_+=3*B);var C=_;for(_++;;){var k;if(!((k=l[_++])>=0))throw Error("Invalid block size");if(k===0)break;_+=k}d.push({x:I,y:S,width:G,height:z,has_local_palette:T,palette_offset:H,palette_size:R,data_offset:C,data_length:_-C,transparent_index:a,interlaced:!!b,delay:m,disposal:c});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+l[_-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return p},this.frameInfo=function(te){if(te<0||te>=d.length)throw new Error("Frame index out of range.");return d[te]},this.decodeAndBlitFrameBGRA=function(te,V){var Q=this.frameInfo(te),W=Q.width*Q.height,L=new Uint8Array(W);j(l,Q.data_offset,L,W);var Y=Q.palette_offset,O=Q.transparent_index;O===null&&(O=256);var D=Q.width,re=u-D,ae=D,he=4*(Q.y*u+Q.x),v=4*((Q.y+Q.height)*u+Q.x),A=he,P=4*re;Q.interlaced===!0&&(P+=4*u*7);for(var X=8,s=0,h=L.length;s<h;++s){var g=L[s];if(ae===0&&(ae=D,(A+=P)>=v&&(P=4*re+4*u*(X-1),A=he+(D+re)*(X<<1),X>>=1)),g===O)A+=4;else{var U=l[Y+3*g],K=l[Y+3*g+1],E=l[Y+3*g+2];V[A++]=E,V[A++]=K,V[A++]=U,V[A++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(te,V){var Q=this.frameInfo(te),W=Q.width*Q.height,L=new Uint8Array(W);j(l,Q.data_offset,L,W);var Y=Q.palette_offset,O=Q.transparent_index;O===null&&(O=256);var D=Q.width,re=u-D,ae=D,he=4*(Q.y*u+Q.x),v=4*((Q.y+Q.height)*u+Q.x),A=he,P=4*re;Q.interlaced===!0&&(P+=4*u*7);for(var X=8,s=0,h=L.length;s<h;++s){var g=L[s];if(ae===0&&(ae=D,(A+=P)>=v&&(P=4*re+4*u*(X-1),A=he+(D+re)*(X<<1),X>>=1)),g===O)A+=4;else{var U=l[Y+3*g],K=l[Y+3*g+1],E=l[Y+3*g+2];V[A++]=U,V[A++]=K,V[A++]=E,V[A++]=255}--ae}}}}catch{}},7604:(_e,ie,j)=>{var l=j(8834).lW;class _{constructor(...o){if(o.length===0)throw new Error("constructor requires parameters");const e=o[0];if(e!==null&&typeof e=="object")if(e instanceof _){const n=e.bitmap;this.bitmap={width:n.width,height:n.height,data:new l(n.width*n.height*4)},n.data.copy(this.bitmap.data)}else{if(!(e.width&&e.height&&e.data))throw new Error("unrecognized constructor parameters");this.bitmap=e}else{if(typeof e!="number"||typeof o[1]!="number")throw new Error("unrecognized constructor parameters");{const n=e,r=o[1],t=o[2];this.bitmap={width:n,height:r},l.isBuffer(t)?this.bitmap.data=t:(this.bitmap.data=new l(n*r*4),typeof t=="number"&&this.fillRGBA(t))}}}blit(o,e,n,r,t,i,f){if(r+i>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(e+i>o.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(t+f>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(n+f>o.bitmap.height)throw new Erro("copy exceeds height of target bitmap");const d=this.bitmap.data,m=o.bitmap.data,a=4*this.bitmap.width,c=4*o.bitmap.width,p=4*i;let M=t*a+4*r,I=n*c+4*e;for(;--f>=0;)d.copy(m,I,M,M+p),M+=a,I+=c;return this}fillRGBA(o){const e=this.bitmap.data,n=4*this.bitmap.height;let r=0;for(;r<n;)e.writeUInt32BE(o,r),r+=4;for(;r<e.length;)e.copy(e,r,0,n),r+=n;return this}getRGBA(o,e){const n=4*(e*this.bitmap.width+o);return this.bitmap.data.readUInt32BE(n)}getRGBASet(){const o=new Set,e=this.bitmap.data;for(let n=0;n<e.length;n+=4)o.add(e.readUInt32BE(n,!0));return o}greyscale(){const o=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(e,n,r)=>{const t=Math.round(.299*o[r]+.587*o[r+1]+.114*o[r+2]);o[r]=t,o[r+1]=t,o[r+2]=t}),this}reframe(o,e,n,r,t){const i=o<0?0:o,f=e<0?0:e,d=n+i>this.bitmap.width?this.bitmap.width-i:n,m=r+f>this.bitmap.height?this.bitmap.height-f:r,a=o<0?-o:0,c=e<0?-e:0;let p;if(t===void 0){if(i!==o||f!=e||d!==n||m!==r)throw new GifError("fillRGBA required for this reframing");p=new _(n,r)}else p=new _(n,r,t);return this.blit(p,a,c,i,f,d,m),this.bitmap=p.bitmap,this}scale(o){if(o===1)return;if(!Number.isInteger(o)||o<1)throw new Error("the scale must be an integer >= 1");const e=this.bitmap.width,n=this.bitmap.height,r=e*o*4,t=this.bitmap.data,i=new l(n*r*o);let f,d=0,m=0;for(let a=0;a<n;++a){f=m;for(let c=0;c<e;++c){const p=t.readUInt32BE(d,!0);for(let M=0;M<o;++M)i.writeUInt32BE(p,m),m+=4;d+=4}for(let c=1;c<o;++c)i.copy(i,m,f,m),m+=r,f+=r}return this.bitmap={width:e*o,height:n*o,data:i},this}scanAllCoords(o){const e=this.bitmap.width,n=this.bitmap.data.length;let r=0,t=0;for(let i=0;i<n;i+=4)o(r,t,i),++r===e&&(r=0,++t)}scanAllIndexes(o){const e=this.bitmap.data.length;for(let n=0;n<e;n+=4)o(n)}}_e.exports=_},4364:(_e,ie)=>{class j{constructor(u,o,e){this.width=e.width,this.height=e.height,this.loops=e.loops,this.usesTransparency=e.usesTransparency,this.colorScope=e.colorScope,this.frames=o,this.buffer=u}}j.GlobalColorsPreferred=0,j.GlobalColorsOnly=1,j.LocalColorsOnly=2;class l extends Error{constructor(u){super(u),u instanceof Error&&(this.stack="Gif"+u.stack)}}ie.Gif=j,ie.GifError=l},6512:(_e,ie,j)=>{var l=j(4406),_=j(8834).lW;const u=j(2855),{Gif:o,GifError:e}=j(4364);let n;l.nextTick(()=>{n=j(4602)});const{GifFrame:r}=j(5585),t=100;function i(p,M){const I=p.indexOf(M);return I===-1?null:I}function f(p,M){for(var I,S=0,G=p.length-1;S<=G;)if(p[I=Math.floor((S+G)/2)]>M)G=I-1;else{if(!(p[I]<M))return I;S=I+1}return null}function d(p){const M=p.colors;p.usesTransparency&&M.push(0);const I=M.length;let S=2;for(;I>S;)S<<=1;M.length=S,M.fill(0,I)}function m(p,M){let I=p.bitmap.width*p.bitmap.height;return I=Math.ceil(I*M/8),I+=Math.ceil(I/255),t+I+768}function a(p){let M=p.indexCount,I=0;for(--M;M;)++I,M>>=1;return I>0?I:1}function c(p,M,I,S,G){if(I.interlaced)throw new e("writing interlaced GIFs is not supported");const z=function(b,B,H){const R=H.colors,T=R.length<=8?i:f,C=B.bitmap.data,k=new _(C.length/4);let te=R.length,V=0,Q=0;for(;V<C.length;){if(C[V+3]!==0){const W=C.readUInt32BE(V,!0)>>8&16777215;k[Q]=T(R,W)}else k[Q]=te;V+=4,++Q}if(H.usesTransparency){if(te===256)throw new e(`Frame ${b} already has 256 colorsand so can't use transparency`)}else te=null;return{buffer:k,transparentIndex:te}}(M,I,S),y={delay:I.delayCentisecs,disposal:I.disposalMethod,transparent:z.transparentIndex};G&&(d(S),y.palette=S.colors);try{let b,B=p.getOutputBuffer(),H=p.getOutputBufferPosition(),R=!0;for(;R;)if(b=p.addFrame(I.xOffset,I.yOffset,I.bitmap.width,I.bitmap.height,z.buffer,y),R=!1,b>=B.length-1){const T=new _(1.5*B.length);B.copy(T),p.setOutputBuffer(T),p.setOutputBufferPosition(H),B=T,R=!0}return B}catch(b){throw new e(b)}}ie.GifCodec=class{constructor(p={}){this._transparentRGB=null,typeof p.transparentRGB=="number"&&p.transparentRGB!==0&&(this._transparentRGBA=256*p.transparentRGB),this._testInitialBufferSize=0}decodeGif(p){try{let M;try{M=new u.GifReader(p)}catch(z){throw new e(z)}const I=M.numFrames(),S=[],G={width:M.width,height:M.height,loops:M.loopCount(),usesTransparency:!1};for(let z=0;z<I;++z){const y=this._decodeFrame(M,z,G.usesTransparency);S.push(y.frame),y.usesTransparency&&(G.usesTransparency=!0)}return Promise.resolve(new o(p,S,G))}catch(M){return Promise.reject(M)}}encodeGif(p,M={}){try{if(p===null||p.length===0)throw new e("there are no frames");const I=n.getMaxDimensions(p);return(M=Object.assign({},M)).width=I.maxWidth,M.height=I.maxHeight,M.loops=M.loops||0,M.colorScope=M.colorScope||o.GlobalColorsPreferred,Promise.resolve(this._encodeGif(p,M))}catch(I){return Promise.reject(I)}}_decodeFrame(p,M,I){let S,G;try{if(S=p.frameInfo(M),G=new _(p.width*p.height*4),p.decodeAndBlitFrameRGBA(M,G),S.width!==p.width||S.height!==p.height){if(S.y&&(G=G.slice(S.y*p.width*4)),p.width>S.width)for(let y=0;y<S.height;++y)G.copy(G,y*S.width*4,4*(S.x+y*p.width),4*(S.x+y*p.width)+4*S.width);G=G.slice(0,S.width*S.height*4)}}catch(y){throw new e(y)}let z=!1;if(this._transparentRGBA===null){if(!I)for(let y=3;y<G.length;y+=4)G[y]===0&&(z=!0,y=G.length)}else for(let y=3;y<G.length;y+=4)G[y]===0&&(G.writeUInt32BE(this._transparentRGBA,y-3),z=!0);return{frame:new r(S.width,S.height,G,{xOffset:S.x,yOffset:S.y,disposalMethod:S.disposal,interlaced:S.interlaced,delayCentisecs:S.delay}),usesTransparency:z}}_encodeGif(p,M){let I;if(M.colorScope===o.LocalColorsOnly)I=n.getColorInfo(p,0);else if(I=n.getColorInfo(p,256),!I.colors){if(M.colorScope===o.GlobalColorsOnly)throw new e("Too many color indexes for global color table");M.colorScope=o.LocalColorsOnly}M.usesTransparency=I.usesTransparency;const S=I.palettes;return M.colorScope===o.LocalColorsOnly?function(G,z,y,b){const B={loop:z.loops};let H,R=new _(2e3);try{H=new u.GifWriter(R,z.width,z.height,B)}catch(T){throw new e(T)}for(let T=0;T<G.length;++T)R=c(H,T,G[T],b[T],!0);return new o(R.slice(0,H.end()),G,z)}(p,M,0,S):function(G,z,y,b){const B={colors:b.colors.slice(),usesTransparency:b.usesTransparency};d(B);const H={palette:B.colors,loop:z.loops};let R,T=new _(2e3);try{R=new u.GifWriter(T,z.width,z.height,H)}catch(C){throw new e(C)}for(let C=0;C<G.length;++C)T=c(R,C,G[C],b,!1);return new o(T.slice(0,R.end()),G,z)}(p,M,0,I)}_getSizeEstimateGlobal(p,M){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let I=968;const S=a(p);return M.forEach(G=>{I+=m(G,S)}),I}_getSizeEstimateLocal(p,M){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let I=200;for(let S=0;S<M.length;++S){const G=a(p[S]);I+=m(M[S],G)}return I}}},5585:(_e,ie,j)=>{const l=j(7604);j(4364);class _ extends l{constructor(...o){if(super(...o),o[0]instanceof _){const e=o[0];this.xOffset=e.xOffset,this.yOffset=e.yOffset,this.disposalMethod=e.disposalMethod,this.delayCentisecs=e.delayCentisecs,this.interlaced=e.interlaced}else{const e=o[o.length-1];let n={};typeof e!="object"||e instanceof l||(n=e),this.xOffset=n.xOffset||0,this.yOffset=n.yOffset||0,this.disposalMethod=n.disposalMethod!==void 0?n.disposalMethod:_.DisposeToBackgroundColor,this.delayCentisecs=n.delayCentisecs||8,this.interlaced=n.interlaced||!1}}getPalette(){const o=new Set,e=this.bitmap.data;let n=0,r=!1;for(;n<e.length;){if(e[n+3]===0)r=!0;else{const d=e.readUInt32BE(n,!0)>>8&16777215;o.add(d)}n+=4}const t=new Array(o.size),i=o.values();for(n=0;n<t.length;++n)t[n]=i.next().value;t.sort((d,m)=>d-m);let f=t.length;return r&&++f,{colors:t,usesTransparency:r,indexCount:f}}}_.DisposeToAnything=0,_.DisposeNothing=1,_.DisposeToBackgroundColor=2,_.DisposeToPrevious=3,ie.GifFrame=_},4602:(_e,ie,j)=>{var l=j(8834).lW;const _=j(8522),u=j(443),o=j(7604),{GifFrame:e}=j(5585),{GifError:n}=j(4364),{GifCodec:r}=j(6512),t=[".jpg",".jpeg",".png",".bmp"],i=new r;function f(d,m,a,c,p){const M=Array.isArray(d)?d:[d];if(p){if(["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"].indexOf(p.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${p.ditherAlgorithm}'`);p.serpentine===void 0&&(p.serpentine=!0),p.minimumColorDistanceToDither===void 0&&(p.minimumColorDistanceToDither=0),p.calculateErrorLikeGIMP===void 0&&(p.calculateErrorLikeGIMP=!1)}const I=new u.distance.Euclidean,S=new u.palette[m](I,a,c);let G;G=p?new u.image.ErrorDiffusionArray(I,u.image.ErrorDiffusionArrayKernel[p.ditherAlgorithm],p.serpentine,p.minimumColorDistanceToDither,p.calculateErrorLikeGIMP):new u.image.NearestColor(I);const z=[];M.forEach(b=>{const B=b.bitmap.data,H=new ArrayBuffer(B.length),R=new Uint32Array(H);for(let C=0,k=0;C<B.length;C+=4,++k)R[k]=B.readUInt32LE(C,!0);const T=u.utils.PointContainer.fromUint32Array(R,b.bitmap.width,b.bitmap.height);S.sample(T),z.push(T)});const y=S.quantize();for(let b=0;b<M.length;++b){const B=M[b].bitmap.data,H=G.quantize(z[b],y).toUint32Array();for(let R=0,T=0;R<B.length;R+=4,++T)B.writeUInt32LE(H[T],R)}}ie.cloneFrames=function(d){let m=[];return d.forEach(a=>{m.push(new e(a))}),m},ie.getColorInfo=function(d,m){let a=!1;const c=[];for(let G=0;G<d.length;++G){let z=d[G].getPalette();if(z.usesTransparency&&(a=!0),z.indexCount>256)throw new n(`Frame ${G} uses more than 256 color indexes`);c.push(z)}if(m===0)return{usesTransparency:a,palettes:c};const p=new Set;c.forEach(G=>{G.colors.forEach(z=>{p.add(z)})});let M=p.size;if(a&&++M,m&&M>m)return{usesTransparency:a,palettes:c};const I=new Array(p.size),S=p.values();for(let G=0;G<I.length;++G)I[G]=S.next().value;return I.sort((G,z)=>G-z),{colors:I,indexCount:M,usesTransparency:a,palettes:c}},ie.copyAsJimp=function(d,m){return ie.shareAsJimp(d,new o(m))},ie.getMaxDimensions=function(d){let m=0,a=0;return d.forEach(c=>{const p=c.xOffset+c.bitmap.width;p>m&&(m=p);const M=c.yOffset+c.bitmap.height;M>a&&(a=M)}),{maxWidth:m,maxHeight:a}},ie.quantizeDekker=function(d,m,a){f(d,"NeuQuantFloat",m=m||256,0,a)},ie.quantizeSorokin=function(d,m,a,c){let p;switch(m=m||256,a=a||"min-pop"){case"min-pop":p=2;break;case"top-pop":p=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${a}'`)}f(d,"RGBQuant",m,p,c)},ie.quantizeWu=function(d,m,a,c){if(m=m||256,(a=a||5)<1||a>8)throw new Error("Invalid quantization quality");f(d,"WuQuant",m,a,c)},ie.read=function(d,m){return m=m||i,l.isBuffer(d)?m.decodeGif(d):(a=d,new Promise((c,p)=>{_.readFile(a,(M,I)=>M?p(M):c(I))})).then(c=>m.decodeGif(c));var a},ie.shareAsJimp=function(d,m){const a=new d(m.bitmap.width,m.bitmap.height,0);return a.bitmap.data=m.bitmap.data,a},ie.write=function(d,m,a,c){c=c||i;const p=d.match(/\.[a-zA-Z]+$/);if(p!==null&&t.includes(p[0].toLowerCase()))throw new Error(`GIF '${d}' has an unexpected suffix`);return c.encodeGif(m,a).then(M=>function(I,S){return new Promise((G,z)=>{_.writeFile(I,S,y=>y?z(y):G())})}(d,M.buffer).then(()=>M))}},9455:(_e,ie,j)=>{const l=j(7604),{Gif:_,GifError:u}=j(4364),{GifCodec:o}=j(6512),{GifFrame:e}=j(5585),n=j(4602);_e.exports={BitmapImage:l,Gif:_,GifCodec:o,GifFrame:e,GifUtil:n,GifError:u}},5048:(_e,ie,j)=>{var l;l=typeof window<"u"?window:j.g!==void 0?j.g:typeof self<"u"?self:{},_e.exports=l},2333:(_e,ie)=>{ie.read=function(j,l,_,u,o){var e,n,r=8*o-u-1,t=(1<<r)-1,i=t>>1,f=-7,d=_?o-1:0,m=_?-1:1,a=j[l+d];for(d+=m,e=a&(1<<-f)-1,a>>=-f,f+=r;f>0;e=256*e+j[l+d],d+=m,f-=8);for(n=e&(1<<-f)-1,e>>=-f,f+=u;f>0;n=256*n+j[l+d],d+=m,f-=8);if(e===0)e=1-i;else{if(e===t)return n?NaN:1/0*(a?-1:1);n+=Math.pow(2,u),e-=i}return(a?-1:1)*n*Math.pow(2,e-u)},ie.write=function(j,l,_,u,o,e){var n,r,t,i=8*e-o-1,f=(1<<i)-1,d=f>>1,m=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,a=u?0:e-1,c=u?1:-1,p=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(r=isNaN(l)?1:0,n=f):(n=Math.floor(Math.log(l)/Math.LN2),l*(t=Math.pow(2,-n))<1&&(n--,t*=2),(l+=n+d>=1?m/t:m*Math.pow(2,1-d))*t>=2&&(n++,t/=2),n+d>=f?(r=0,n=f):n+d>=1?(r=(l*t-1)*Math.pow(2,o),n+=d):(r=l*Math.pow(2,d-1)*Math.pow(2,o),n=0));o>=8;j[_+a]=255&r,a+=c,r/=256,o-=8);for(n=n<<o|r,i+=o;i>0;j[_+a]=255&n,a+=c,n/=256,i-=8);j[_+a-c]|=128*p}},443:function(_e){var ie;ie=function(){return function(j){var l={};function _(u){if(l[u])return l[u].exports;var o=l[u]={exports:{},id:u,loaded:!1};return j[u].call(o.exports,o,o.exports,_),o.loaded=!0,o.exports}return _.m=j,_.c=l,_.p="",_(0)}([function(j,l,_){var u=_(1);l.constants=u;var o=_(3);l.conversion=o;var e=_(12);l.distance=e;var n=_(20);l.palette=n;var r=_(30);l.image=r;var t=_(35);l.quality=t;var i=_(37);l.utils=i},function(j,l,_){var u=_(2);l.bt709=u},function(j,l){var _,u,o;(function(e){e[e.RED=.2126]="RED",e[e.GREEN=.7152]="GREEN",e[e.BLUE=.0722]="BLUE",e[e.WHITE=1]="WHITE"})(_||(_={})),l.Y=_,function(e){e[e.RED=.64]="RED",e[e.GREEN=.3]="GREEN",e[e.BLUE=.15]="BLUE",e[e.WHITE=.3127]="WHITE"}(u||(u={})),l.x=u,function(e){e[e.RED=.33]="RED",e[e.GREEN=.6]="GREEN",e[e.BLUE=.06]="BLUE",e[e.WHITE=.329]="WHITE"}(o||(o={})),l.y=o},function(j,l,_){var u=_(4);l.rgb2xyz=u.rgb2xyz;var o=_(5);l.rgb2hsl=o.rgb2hsl;var e=_(7);l.rgb2lab=e.rgb2lab;var n=_(9);l.lab2xyz=n.lab2xyz;var r=_(10);l.lab2rgb=r.lab2rgb;var t=_(8);l.xyz2lab=t.xyz2lab;var i=_(11);l.xyz2rgb=i.xyz2rgb},function(j,l){function _(u){return u>.04045?Math.pow((u+.055)/1.055,2.4):u/12.92}l.rgb2xyz=function(u,o,e){return{x:.4124*(u=_(u/255))+.3576*(o=_(o/255))+.1805*(e=_(e/255)),y:.2126*u+.7152*o+.0722*e,z:.0193*u+.1192*o+.9505*e}}},function(j,l,_){var u=_(6);l.rgb2hsl=function(o,e,n){var r=u.min3(o,e,n),t=u.max3(o,e,n),i=t-r,f=(r+t)/510,d=0;f>0&&f<1&&(d=i/(f<.5?t+r:510-t-r));var m=0;return i>0&&(m=t===o?(e-n)/i:t===e?2+(n-o)/i:4+(o-e)/i,(m*=60)<0&&(m+=360)),{h:m,s:d,l:f}}},function(j,l){l.degrees2radians=function(_){return _*(Math.PI/180)},l.max3=function(_,u,o){var e=_;return e<u&&(e=u),e<o&&(e=o),e},l.min3=function(_,u,o){var e=_;return e>u&&(e=u),e>o&&(e=o),e},l.intInRange=function(_,u,o){return _>o&&(_=o),_<u&&(_=u),0|_},l.inRange0to255Rounded=function(_){return(_=Math.round(_))>255?_=255:_<0&&(_=0),_},l.inRange0to255=function(_){return _>255?_=255:_<0&&(_=0),_},l.stableSort=function(_,u){var o,e=typeof _[0];if(e==="number"||e==="string"){for(var n=Object.create(null),r=0,t=_.length;r<t;r++){var i=_[r];n[i]||n[i]===0||(n[i]=r)}o=_.sort(function(d,m){return u(d,m)||n[d]-n[m]})}else{var f=_.slice(0);o=_.sort(function(d,m){return u(d,m)||f.indexOf(d)-f.indexOf(m)})}return o}},function(j,l,_){var u=_(4),o=_(8);l.rgb2lab=function(e,n,r){var t=u.rgb2xyz(e,n,r);return o.xyz2lab(t.x,t.y,t.z)}},function(j,l){function _(u){return u>.008856?Math.pow(u,.3333333333333333):7.787*u+.13793103448275862}l.xyz2lab=function(u,o,e){if(u=_(u/.95047),o=_(o/1),e=_(e/1.08883),116*o-16<0)throw new Error("xxx");return{L:Math.max(0,116*o-16),a:500*(u-o),b:200*(o-e)}}},function(j,l){function _(u){return u>.206893034?Math.pow(u,3):(u-.13793103448275862)/7.787}l.lab2xyz=function(u,o,e){var n=(u+16)/116,r=n-e/200;return{x:.95047*_(o/500+n),y:1*_(n),z:1.08883*_(r)}}},function(j,l,_){var u=_(9),o=_(11);l.lab2rgb=function(e,n,r){var t=u.lab2xyz(e,n,r);return o.xyz2rgb(t.x,t.y,t.z)}},function(j,l,_){var u=_(6);function o(e){return e>.0031308?1.055*Math.pow(e,.4166666666666667)-.055:12.92*e}l.xyz2rgb=function(e,n,r){var t=o(3.2406*e+-1.5372*n+-.4986*r),i=o(-.9689*e+1.8758*n+.0415*r),f=o(.0557*e+-.204*n+1.057*r);return{r:u.inRange0to255Rounded(255*t),g:u.inRange0to255Rounded(255*i),b:u.inRange0to255Rounded(255*f)}}},function(j,l,_){var u=_(13);l.AbstractDistanceCalculator=u.AbstractDistanceCalculator;var o=_(14);l.CIE94Textiles=o.CIE94Textiles,l.CIE94GraphicArts=o.CIE94GraphicArts;var e=_(15);l.CIEDE2000=e.CIEDE2000;var n=_(16);l.CMETRIC=n.CMETRIC;var r=_(17);l.AbstractEuclidean=r.AbstractEuclidean,l.Euclidean=r.Euclidean,l.EuclideanRgbQuantWOAlpha=r.EuclideanRgbQuantWOAlpha,l.EuclideanRgbQuantWithAlpha=r.EuclideanRgbQuantWithAlpha;var t=_(18);l.AbstractManhattan=t.AbstractManhattan,l.Manhattan=t.Manhattan,l.ManhattanSRGB=t.ManhattanSRGB,l.ManhattanNommyde=t.ManhattanNommyde;var i=_(19);l.PNGQUANT=i.PNGQUANT},function(j,l){var _=function(){function u(){this._setDefaults(),this.setWhitePoint(255,255,255,255)}return u.prototype.setWhitePoint=function(o,e,n,r){this._whitePoint={r:o>0?255/o:0,g:e>0?255/e:0,b:n>0?255/n:0,a:r>0?255/r:0},this._maxDistance=this.calculateRaw(o,e,n,r,0,0,0,0)},u.prototype.calculateNormalized=function(o,e){return this.calculateRaw(o.r,o.g,o.b,o.a,e.r,e.g,e.b,e.a)/this._maxDistance},u.prototype._setDefaults=function(){},u}();l.AbstractDistanceCalculator=_},function(j,l,_){var u=this&&this.__extends||function(f,d){for(var m in d)d.hasOwnProperty(m)&&(f[m]=d[m]);function a(){this.constructor=f}f.prototype=d===null?Object.create(d):(a.prototype=d.prototype,new a)},o=_(13),e=_(7),n=_(6),r=function(f){function d(){f.apply(this,arguments)}return u(d,f),d.prototype.calculateRaw=function(m,a,c,p,M,I,S,G){var z=e.rgb2lab(n.inRange0to255(m*this._whitePoint.r),n.inRange0to255(a*this._whitePoint.g),n.inRange0to255(c*this._whitePoint.b)),y=e.rgb2lab(n.inRange0to255(M*this._whitePoint.r),n.inRange0to255(I*this._whitePoint.g),n.inRange0to255(S*this._whitePoint.b)),b=z.L-y.L,B=z.a-y.a,H=z.b-y.b,R=Math.sqrt(z.a*z.a+z.b*z.b),T=R-Math.sqrt(y.a*y.a+y.b*y.b),C=B*B+H*H-T*T;C=C<0?0:Math.sqrt(C);var k=(G-p)*this._whitePoint.a*this._kA;return Math.sqrt(Math.pow(b/this._Kl,2)+Math.pow(T/(1+this._K1*R),2)+Math.pow(C/(1+this._K2*R),2)+Math.pow(k,2))},d}(o.AbstractDistanceCalculator);l.AbstractCIE94=r;var t=function(f){function d(){f.apply(this,arguments)}return u(d,f),d.prototype._setDefaults=function(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255},d}(r);l.CIE94Textiles=t;var i=function(f){function d(){f.apply(this,arguments)}return u(d,f),d.prototype._setDefaults=function(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255},d}(r);l.CIE94GraphicArts=i},function(j,l,_){var u=this&&this.__extends||function(t,i){for(var f in i)i.hasOwnProperty(f)&&(t[f]=i[f]);function d(){this.constructor=t}t.prototype=i===null?Object.create(i):(d.prototype=i.prototype,new d)},o=_(13),e=_(7),n=_(6),r=function(t){function i(){t.apply(this,arguments)}return u(i,t),i.prototype.calculateRaw=function(f,d,m,a,c,p,M,I){var S=e.rgb2lab(n.inRange0to255(f*this._whitePoint.r),n.inRange0to255(d*this._whitePoint.g),n.inRange0to255(m*this._whitePoint.b)),G=e.rgb2lab(n.inRange0to255(c*this._whitePoint.r),n.inRange0to255(p*this._whitePoint.g),n.inRange0to255(M*this._whitePoint.b)),z=(I-a)*this._whitePoint.a*i._kA,y=this.calculateRawInLab(S,G);return Math.sqrt(y+z*z)},i.prototype.calculateRawInLab=function(f,d){var m=f.L,a=f.a,c=f.b,p=d.L,M=d.a,I=d.b,S=Math.sqrt(a*a+c*c),G=Math.sqrt(M*M+I*I),z=Math.pow((S+G)/2,7),y=.5*(1-Math.sqrt(z/(z+i._pow25to7))),b=(1+y)*a,B=(1+y)*M,H=Math.sqrt(b*b+c*c),R=Math.sqrt(B*B+I*I),T=H*R,C=i._calculatehp(c,b),k=i._calculatehp(I,B),te=Math.abs(C-k),V=p-m,Q=R-H,W=i._calculate_dHp(T,te,k,C),L=i._calculate_ahp(T,te,C,k),Y=i._calculateT(L),O=(H+R)/2,D=Math.pow((m+p)/2-50,2),re=1+.015*D/Math.sqrt(20+D),ae=1+.045*O,he=1+.015*Y*O,v=i._calculateRT(L,O),A=V/re,P=Q/ae,X=W/he;return Math.pow(A,2)+Math.pow(P,2)+Math.pow(X,2)+v*P*X},i._calculatehp=function(f,d){var m=Math.atan2(f,d);return m>=0?m:m+i._deg360InRad},i._calculateRT=function(f,d){var m=Math.pow(d,7),a=2*Math.sqrt(m/(m+i._pow25to7)),c=i._deg30InRad*Math.exp(-Math.pow((f-i._deg275InRad)/i._deg25InRad,2));return-Math.sin(2*c)*a},i._calculateT=function(f){return 1-.17*Math.cos(f-i._deg30InRad)+.24*Math.cos(2*f)+.32*Math.cos(3*f+i._deg6InRad)-.2*Math.cos(4*f-i._deg63InRad)},i._calculate_ahp=function(f,d,m,a){var c=m+a;return f==0?c:d<=i._deg180InRad?c/2:c<i._deg360InRad?(c+i._deg360InRad)/2:(c-i._deg360InRad)/2},i._calculate_dHp=function(f,d,m,a){var c;return c=f==0?0:d<=i._deg180InRad?m-a:m<=a?m-a+i._deg360InRad:m-a-i._deg360InRad,2*Math.sqrt(f)*Math.sin(c/2)},i._kA=25/255,i._pow25to7=Math.pow(25,7),i._deg360InRad=n.degrees2radians(360),i._deg180InRad=n.degrees2radians(180),i._deg30InRad=n.degrees2radians(30),i._deg6InRad=n.degrees2radians(6),i._deg63InRad=n.degrees2radians(63),i._deg275InRad=n.degrees2radians(275),i._deg25InRad=n.degrees2radians(25),i}(o.AbstractDistanceCalculator);l.CIEDE2000=r},function(j,l,_){var u=this&&this.__extends||function(e,n){for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)},o=function(e){function n(){e.apply(this,arguments)}return u(n,e),n.prototype.calculateRaw=function(r,t,i,f,d,m,a,c){var p=(r+d)/2*this._whitePoint.r,M=(r-d)*this._whitePoint.r,I=(t-m)*this._whitePoint.g,S=(i-a)*this._whitePoint.b,G=((512+p)*M*M>>8)+4*I*I+((767-p)*S*S>>8),z=(c-f)*this._whitePoint.a;return Math.sqrt(G+z*z)},n}(_(13).AbstractDistanceCalculator);l.CMETRIC=o},function(j,l,_){var u=this&&this.__extends||function(f,d){for(var m in d)d.hasOwnProperty(m)&&(f[m]=d[m]);function a(){this.constructor=f}f.prototype=d===null?Object.create(d):(a.prototype=d.prototype,new a)},o=_(13),e=_(2),n=function(f){function d(){f.apply(this,arguments)}return u(d,f),d.prototype.calculateRaw=function(m,a,c,p,M,I,S,G){var z=M-m,y=I-a,b=S-c,B=G-p;return Math.sqrt(this._kR*z*z+this._kG*y*y+this._kB*b*b+this._kA*B*B)},d}(o.AbstractDistanceCalculator);l.AbstractEuclidean=n;var r=function(f){function d(){f.apply(this,arguments)}return u(d,f),d.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},d}(n);l.Euclidean=r;var t=function(f){function d(){f.apply(this,arguments)}return u(d,f),d.prototype._setDefaults=function(){this._kR=e.Y.RED,this._kG=e.Y.GREEN,this._kB=e.Y.BLUE,this._kA=1},d}(n);l.EuclideanRgbQuantWithAlpha=t;var i=function(f){function d(){f.apply(this,arguments)}return u(d,f),d.prototype._setDefaults=function(){this._kR=e.Y.RED,this._kG=e.Y.GREEN,this._kB=e.Y.BLUE,this._kA=0},d}(n);l.EuclideanRgbQuantWOAlpha=i},function(j,l,_){var u=this&&this.__extends||function(f,d){for(var m in d)d.hasOwnProperty(m)&&(f[m]=d[m]);function a(){this.constructor=f}f.prototype=d===null?Object.create(d):(a.prototype=d.prototype,new a)},o=_(13),e=_(2),n=function(f){function d(){f.apply(this,arguments)}return u(d,f),d.prototype.calculateRaw=function(m,a,c,p,M,I,S,G){var z=M-m,y=I-a,b=S-c,B=G-p;return z<0&&(z=0-z),y<0&&(y=0-y),b<0&&(b=0-b),B<0&&(B=0-B),this._kR*z+this._kG*y+this._kB*b+this._kA*B},d}(o.AbstractDistanceCalculator);l.AbstractManhattan=n;var r=function(f){function d(){f.apply(this,arguments)}return u(d,f),d.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},d}(n);l.Manhattan=r;var t=function(f){function d(){f.apply(this,arguments)}return u(d,f),d.prototype._setDefaults=function(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1},d}(n);l.ManhattanNommyde=t;var i=function(f){function d(){f.apply(this,arguments)}return u(d,f),d.prototype._setDefaults=function(){this._kR=e.Y.RED,this._kG=e.Y.GREEN,this._kB=e.Y.BLUE,this._kA=1},d}(n);l.ManhattanSRGB=i},function(j,l,_){var u=this&&this.__extends||function(e,n){for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)},o=function(e){function n(){e.apply(this,arguments)}return u(n,e),n.prototype.calculateRaw=function(r,t,i,f,d,m,a,c){var p=(c-f)*this._whitePoint.a;return this._colordifference_ch(r*this._whitePoint.r,d*this._whitePoint.r,p)+this._colordifference_ch(t*this._whitePoint.g,m*this._whitePoint.g,p)+this._colordifference_ch(i*this._whitePoint.b,a*this._whitePoint.b,p)},n.prototype._colordifference_ch=function(r,t,i){var f=r-t,d=f+i;return f*f+d*d},n}(_(13).AbstractDistanceCalculator);l.PNGQUANT=o},function(j,l,_){var u=_(21);l.NeuQuant=u.NeuQuant;var o=_(25);l.NeuQuantFloat=o.NeuQuantFloat;var e=_(26);l.RGBQuant=e.RGBQuant;var n=_(27);l.ColorHistogram=n.ColorHistogram;var r=_(29);l.WuQuant=r.WuQuant,l.WuColorCube=r.WuColorCube},function(j,l,_){var u=_(22),o=_(24),e=3,n=function(){function t(i){this.r=this.g=this.b=this.a=i}return t.prototype.toPoint=function(){return o.Point.createByRGBA(this.r>>e,this.g>>e,this.b>>e,this.a>>e)},t.prototype.subtract=function(i,f,d,m){this.r-=0|i,this.g-=0|f,this.b-=0|d,this.a-=0|m},t}(),r=function(){function t(i,f){f===void 0&&(f=256),this._distance=i,this._pointArray=[],this._sampleFactor=1,this._networkSize=f,this._distance.setWhitePoint(255<<e,255<<e,255<<e,255<<e)}return t.prototype.sample=function(i){this._pointArray=this._pointArray.concat(i.getPointArray())},t.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},t.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var i=0;i<this._networkSize;i++)this._network[i]=new n((i<<e+8)/this._networkSize|0),this._freq[i]=t._initialBias/this._networkSize|0,this._bias[i]=0},t.prototype._learn=function(){var i=this._sampleFactor,f=this._pointArray.length;f<t._minpicturebytes&&(i=1);var d,m=30+(i-1)/3|0,a=f/i|0,c=a/t._nCycles|0,p=t._initAlpha,M=(this._networkSize>>3)*t._radiusBias,I=M>>t._radiusBiasShift;I<=1&&(I=0);for(var S=0;S<I;S++)this._radPower[S]=p*((I*I-S*S)*t._radBias/(I*I))>>>0;d=f<t._minpicturebytes?1:f%t._prime1!=0?t._prime1:f%t._prime2!=0?t._prime2:f%t._prime3!=0?t._prime3:t._prime4,S=0;for(var G=0;S<a;){var z=this._pointArray[G],y=z.b<<e,b=z.g<<e,B=z.r<<e,H=z.a<<e,R=this._contest(y,b,B,H);if(this._alterSingle(p,R,y,b,B,H),I!==0&&this._alterNeighbour(I,R,y,b,B,H),(G+=d)>=f&&(G-=f),c===0&&(c=1),++S%c==0){p-=p/m|0,(I=(M-=M/t._radiusDecrease|0)>>t._radiusBiasShift)<=1&&(I=0);for(var T=0;T<I;T++)this._radPower[T]=p*((I*I-T*T)*t._radBias/(I*I))>>>0}}},t.prototype._buildPalette=function(){var i=new u.Palette;return this._network.forEach(function(f){i.add(f.toPoint())}),i.sort(),i},t.prototype._alterNeighbour=function(i,f,d,m,a,c){var p=f-i;p<-1&&(p=-1);var M=f+i;M>this._networkSize&&(M=this._networkSize);for(var I=f+1,S=f-1,G=1;I<M||S>p;){var z,y=this._radPower[G++]/t._alphaRadBias;I<M&&(z=this._network[I++]).subtract(y*(z.r-a),y*(z.g-m),y*(z.b-d),y*(z.a-c)),S>p&&(z=this._network[S--]).subtract(y*(z.r-a),y*(z.g-m),y*(z.b-d),y*(z.a-c))}},t.prototype._alterSingle=function(i,f,d,m,a,c){i/=t._initAlpha;var p=this._network[f];p.subtract(i*(p.r-a),i*(p.g-m),i*(p.b-d),i*(p.a-c))},t.prototype._contest=function(i,f,d,m){for(var a=1020<<e,c=~(1<<31),p=c,M=-1,I=M,S=0;S<this._networkSize;S++){var G=this._network[S],z=this._distance.calculateNormalized(G,{r:d,g:f,b:i,a:m})*a|0;z<c&&(c=z,M=S);var y=z-(this._bias[S]>>t._initialBiasShift-e);y<p&&(p=y,I=S);var b=this._freq[S]>>t._betaShift;this._freq[S]-=b,this._bias[S]+=b<<t._gammaShift}return this._freq[M]+=t._beta,this._bias[M]-=t._betaGamma,I},t._prime1=499,t._prime2=491,t._prime3=487,t._prime4=503,t._minpicturebytes=t._prime4,t._nCycles=100,t._initialBiasShift=16,t._initialBias=1<<t._initialBiasShift,t._gammaShift=10,t._betaShift=10,t._beta=t._initialBias>>t._betaShift,t._betaGamma=t._initialBias<<t._gammaShift-t._betaShift,t._radiusBiasShift=6,t._radiusBias=1<<t._radiusBiasShift,t._radiusDecrease=30,t._alphaBiasShift=10,t._initAlpha=1<<t._alphaBiasShift,t._radBiasShift=8,t._radBias=1<<t._radBiasShift,t._alphaRadBiasShift=t._alphaBiasShift+t._radBiasShift,t._alphaRadBias=1<<t._alphaRadBiasShift,t}();l.NeuQuant=r},function(j,l,_){var u=_(23),o=_(5);function e(r,t){for(var i=360/t,f=1,d=i-i/2;f<t;f++,d+=i)if(r>=d&&r<d+i)return f;return 0}l.hueGroup=e;var n=function(){function r(){this._pointArray=[],this._i32idx={},this._pointContainer=new u.PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}return r.prototype.add=function(t){this._pointArray.push(t),this._pointContainer.setWidth(this._pointArray.length)},r.prototype.has=function(t){for(var i=this._pointArray.length-1;i>=0;i--)if(t.uint32===this._pointArray[i].uint32)return!0;return!1},r.prototype.getNearestColor=function(t,i){return this._pointArray[0|this.getNearestIndex(t,i)]},r.prototype.getPointContainer=function(){return this._pointContainer},r.prototype._nearestPointFromCache=function(t){return typeof this._i32idx[t]=="number"?this._i32idx[t]:-1},r.prototype.getNearestIndex=function(t,i){var f=this._nearestPointFromCache(""+i.uint32);if(f>=0)return f;var d=Number.MAX_VALUE;f=0;for(var m=0,a=this._pointArray.length;m<a;m++){var c=this._pointArray[m],p=t.calculateRaw(i.r,i.g,i.b,i.a,c.r,c.g,c.b,c.a);p<d&&(d=p,f=m)}return this._i32idx[i.uint32]=f,f},r.prototype.sort=function(){this._i32idx={},this._pointArray.sort(function(t,i){var f=o.rgb2hsl(t.r,t.g,t.b),d=o.rgb2hsl(i.r,i.g,i.b),m=t.r===t.g&&t.g===t.b?0:1+e(f.h,10),a=(i.r===i.g&&i.g===i.b?0:1+e(d.h,10))-m;if(a)return-a;var c=t.getLuminosity(!0),p=i.getLuminosity(!0);if(p-c!=0)return p-c;var M=(100*d.s|0)-(100*f.s|0);return M?-M:0})},r}();l.Palette=n},function(j,l,_){var u=_(24),o=function(){function e(){this._width=0,this._height=0,this._pointArray=[]}return e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.setWidth=function(n){this._width=n},e.prototype.setHeight=function(n){this._height=n},e.prototype.getPointArray=function(){return this._pointArray},e.prototype.clone=function(){var n=new e;n._width=this._width,n._height=this._height;for(var r=0,t=this._pointArray.length;r<t;r++)n._pointArray[r]=u.Point.createByUint32(0|this._pointArray[r].uint32);return n},e.prototype.toUint32Array=function(){for(var n=this._pointArray.length,r=new Uint32Array(n),t=0;t<n;t++)r[t]=this._pointArray[t].uint32;return r},e.prototype.toUint8Array=function(){return new Uint8Array(this.toUint32Array().buffer)},e.fromHTMLImageElement=function(n){var r=n.naturalWidth,t=n.naturalHeight,i=document.createElement("canvas");return i.width=r,i.height=t,i.getContext("2d").drawImage(n,0,0,r,t,0,0,r,t),e.fromHTMLCanvasElement(i)},e.fromHTMLCanvasElement=function(n){var r=n.width,t=n.height,i=n.getContext("2d").getImageData(0,0,r,t);return e.fromImageData(i)},e.fromNodeCanvas=function(n){return e.fromHTMLCanvasElement(n)},e.fromImageData=function(n){var r=n.width,t=n.height;return e.fromCanvasPixelArray(n.data,r,t)},e.fromArray=function(n,r,t){var i=new Uint8Array(n);return e.fromUint8Array(i,r,t)},e.fromCanvasPixelArray=function(n,r,t){return e.fromArray(n,r,t)},e.fromUint8Array=function(n,r,t){return e.fromUint32Array(new Uint32Array(n.buffer),r,t)},e.fromUint32Array=function(n,r,t){var i=new e;i._width=r,i._height=t;for(var f=0,d=n.length;f<d;f++)i._pointArray[f]=u.Point.createByUint32(0|n[f]);return i},e}();l.PointContainer=o},function(j,l,_){var u=_(2),o=function(){function e(){this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}return e.createByQuadruplet=function(n){var r=new e;return r.r=0|n[0],r.g=0|n[1],r.b=0|n[2],r.a=0|n[3],r._loadUINT32(),r._loadQuadruplet(),r},e.createByRGBA=function(n,r,t,i){var f=new e;return f.r=0|n,f.g=0|r,f.b=0|t,f.a=0|i,f._loadUINT32(),f._loadQuadruplet(),f},e.createByUint32=function(n){var r=new e;return r.uint32=n>>>0,r._loadRGBA(),r._loadQuadruplet(),r},e.prototype.from=function(n){this.r=n.r,this.g=n.g,this.b=n.b,this.a=n.a,this.uint32=n.uint32,this.rgba[0]=n.r,this.rgba[1]=n.g,this.rgba[2]=n.b,this.rgba[3]=n.a},e.prototype.getLuminosity=function(n){var r=this.r,t=this.g,i=this.b;return n&&(r=Math.min(255,255-this.a+this.a*r/255),t=Math.min(255,255-this.a+this.a*t/255),i=Math.min(255,255-this.a+this.a*i/255)),r*u.Y.RED+t*u.Y.GREEN+i*u.Y.BLUE},e.prototype._loadUINT32=function(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0},e.prototype._loadRGBA=function(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255},e.prototype._loadQuadruplet=function(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a},e}();l.Point=o},function(j,l,_){var u=_(22),o=_(24),e=3,n=function(){function t(i){this.r=this.g=this.b=this.a=i}return t.prototype.toPoint=function(){return o.Point.createByRGBA(this.r>>e,this.g>>e,this.b>>e,this.a>>e)},t.prototype.subtract=function(i,f,d,m){this.r-=i,this.g-=f,this.b-=d,this.a-=m},t}(),r=function(){function t(i,f){f===void 0&&(f=256),this._distance=i,this._pointArray=[],this._sampleFactor=1,this._networkSize=f,this._distance.setWhitePoint(255<<e,255<<e,255<<e,255<<e)}return t.prototype.sample=function(i){this._pointArray=this._pointArray.concat(i.getPointArray())},t.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},t.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var i=0;i<this._networkSize;i++)this._network[i]=new n((i<<e+8)/this._networkSize),this._freq[i]=t._initialBias/this._networkSize,this._bias[i]=0},t.prototype._learn=function(){var i=this._sampleFactor,f=this._pointArray.length;f<t._minpicturebytes&&(i=1);var d,m=30+(i-1)/3,a=f/i,c=a/t._nCycles|0,p=t._initAlpha,M=(this._networkSize>>3)*t._radiusBias,I=M>>t._radiusBiasShift;I<=1&&(I=0);for(var S=0;S<I;S++)this._radPower[S]=p*((I*I-S*S)*t._radBias/(I*I));d=f<t._minpicturebytes?1:f%t._prime1!=0?t._prime1:f%t._prime2!=0?t._prime2:f%t._prime3!=0?t._prime3:t._prime4,S=0;for(var G=0;S<a;){var z=this._pointArray[G],y=z.b<<e,b=z.g<<e,B=z.r<<e,H=z.a<<e,R=this._contest(y,b,B,H);if(this._alterSingle(p,R,y,b,B,H),I!=0&&this._alterNeighbour(I,R,y,b,B,H),(G+=d)>=f&&(G-=f),c==0&&(c=1),++S%c==0){p-=p/m,(I=(M-=M/t._radiusDecrease)>>t._radiusBiasShift)<=1&&(I=0);for(var T=0;T<I;T++)this._radPower[T]=p*((I*I-T*T)*t._radBias/(I*I))}}},t.prototype._buildPalette=function(){var i=new u.Palette;return this._network.forEach(function(f){i.add(f.toPoint())}),i.sort(),i},t.prototype._alterNeighbour=function(i,f,d,m,a,c){var p=f-i;p<-1&&(p=-1);var M=f+i;M>this._networkSize&&(M=this._networkSize);for(var I=f+1,S=f-1,G=1;I<M||S>p;){var z,y=this._radPower[G++]/t._alphaRadBias;I<M&&(z=this._network[I++]).subtract(y*(z.r-a),y*(z.g-m),y*(z.b-d),y*(z.a-c)),S>p&&(z=this._network[S--]).subtract(y*(z.r-a),y*(z.g-m),y*(z.b-d),y*(z.a-c))}},t.prototype._alterSingle=function(i,f,d,m,a,c){i/=t._initAlpha;var p=this._network[f];p.subtract(i*(p.r-a),i*(p.g-m),i*(p.b-d),i*(p.a-c))},t.prototype._contest=function(i,f,d,m){for(var a=1020<<e,c=~(1<<31),p=c,M=-1,I=M,S=0;S<this._networkSize;S++){var G=this._network[S],z=this._distance.calculateNormalized(G,{r:d,g:f,b:i,a:m})*a;z<c&&(c=z,M=S);var y=z-(this._bias[S]>>t._initialBiasShift-e);y<p&&(p=y,I=S);var b=this._freq[S]>>t._betaShift;this._freq[S]-=b,this._bias[S]+=b<<t._gammaShift}return this._freq[M]+=t._beta,this._bias[M]-=t._betaGamma,I},t._prime1=499,t._prime2=491,t._prime3=487,t._prime4=503,t._minpicturebytes=t._prime4,t._nCycles=100,t._initialBiasShift=16,t._initialBias=1<<t._initialBiasShift,t._gammaShift=10,t._betaShift=10,t._beta=t._initialBias>>t._betaShift,t._betaGamma=t._initialBias<<t._gammaShift-t._betaShift,t._radiusBiasShift=6,t._radiusBias=1<<t._radiusBiasShift,t._radiusDecrease=30,t._alphaBiasShift=10,t._initAlpha=1<<t._alphaBiasShift,t._radBiasShift=8,t._radBias=1<<t._radBiasShift,t._alphaRadBiasShift=t._alphaBiasShift+t._radBiasShift,t._alphaRadBias=1<<t._alphaRadBiasShift,t}();l.NeuQuantFloat=r},function(j,l,_){var u=_(22),o=_(24),e=_(27),n=_(6),r=function(i,f,d){this.index=i,this.color=f,this.distance=d},t=function(){function i(f,d,m){d===void 0&&(d=256),m===void 0&&(m=2),this._distance=f,this._colors=d,this._histogram=new e.ColorHistogram(m,d),this._initialDistance=.01,this._distanceIncrement=.005}return i.prototype.sample=function(f){this._histogram.sample(f)},i.prototype.quantize=function(){var f=this._histogram.getImportanceSortedColorsIDXI32();if(f.length===0)throw new Error("No colors in image");var d=this._buildPalette(f);return d.sort(),d},i.prototype._buildPalette=function(f){for(var d=new u.Palette,m=d.getPointContainer().getPointArray(),a=new Array(f.length),c=0;c<f.length;c++)m.push(o.Point.createByUint32(f[c])),a[c]=1;for(var p=m.length,M=[],I=p,S=this._initialDistance;I>this._colors;){for(M.length=0,c=0;c<p;c++)if(a[c]!==0){for(var G=m[c],z=c+1;z<p;z++)if(a[z]!==0){var y=m[z],b=this._distance.calculateNormalized(G,y);b<S&&(M.push(new r(z,y,b)),a[z]=0,I--)}}S+=I>3*this._colors?this._initialDistance:this._distanceIncrement}if(I<this._colors){n.stableSort(M,function(T,C){return C.distance-T.distance});for(var B=0;I<this._colors&&B<M.length;)a[M[B].index]=1,I++,B++}for(var H=m.length,R=H-1;R>=0;R--)a[R]===0&&(R!==H-1&&(m[R]=m[H-1]),--H);return m.length=H,d},i}();l.RGBQuant=t},function(j,l,_){var u=_(28),o=_(6),e=function(){function n(r,t){this._method=r,this._minHueCols=t<<2,this._initColors=t<<2,this._hueStats=new u.HueStatistics(n._hueGroups,this._minHueCols),this._histogram=Object.create(null)}return n.prototype.sample=function(r){switch(this._method){case 1:this._colorStats1D(r);break;case 2:this._colorStats2D(r)}},n.prototype.getImportanceSortedColorsIDXI32=function(){var r,t=this,i=o.stableSort(Object.keys(this._histogram),function(p,M){return t._histogram[M]-t._histogram[p]});if(i.length===0)return[];switch(this._method){case 1:var f=Math.min(i.length,this._initColors),d=i[f-1],m=this._histogram[d];r=i.slice(0,f);for(var a=f,c=i.length;a<c&&this._histogram[i[a]]==m;)r.push(i[a++]);this._hueStats.injectIntoArray(r);break;case 2:r=i;break;default:throw new Error("Incorrect method")}return r.map(function(p){return+p})},n.prototype._colorStats1D=function(r){for(var t=this._histogram,i=r.getPointArray(),f=i.length,d=0;d<f;d++){var m=i[d].uint32;this._hueStats.check(m),m in t?t[m]++:t[m]=1}},n.prototype._colorStats2D=function(r){var t=this,i=r.getWidth(),f=r.getHeight(),d=r.getPointArray(),m=n._boxSize[0],a=n._boxSize[1],c=m*a,p=this._makeBoxes(i,f,m,a),M=this._histogram;p.forEach(function(I){var S=Math.round(I.w*I.h/c)*n._boxPixels;S<2&&(S=2);var G={};t._iterateBox(I,i,function(z){var y=d[z].uint32;t._hueStats.check(y),y in M?M[y]++:y in G?++G[y]>=S&&(M[y]=G[y]):G[y]=1})}),this._hueStats.injectIntoDictionary(M)},n.prototype._iterateBox=function(r,t,i){var f=r,d=f.y*t+f.x,m=(f.y+f.h-1)*t+(f.x+f.w-1),a=t-f.w+1,c=0,p=d;do i.call(this,p),p+=++c%f.w==0?a:1;while(p<=m)},n.prototype._makeBoxes=function(r,t,i,f){for(var d=r%i,m=t%f,a=r-d,c=t-m,p=[],M=0;M<t;M+=f)for(var I=0;I<r;I+=i)p.push({x:I,y:M,w:I==a?d:i,h:M==c?m:f});return p},n._boxSize=[64,64],n._boxPixels=2,n._hueGroups=10,n}();l.ColorHistogram=e},function(j,l,_){var u=_(5),o=_(22),e=function(){this.num=0,this.cols=[]},n=function(){function r(t,i){this._numGroups=t,this._minCols=i,this._stats=[];for(var f=0;f<=t;f++)this._stats[f]=new e;this._groupsFull=0}return r.prototype.check=function(t){this._groupsFull==this._numGroups+1&&(this.check=function(){});var i=255&t,f=t>>>8&255,d=t>>>16&255,m=i==f&&f==d?0:1+o.hueGroup(u.rgb2hsl(i,f,d).h,this._numGroups),a=this._stats[m],c=this._minCols;a.num++,a.num>c||(a.num==c&&this._groupsFull++,a.num<=c&&this._stats[m].cols.push(t))},r.prototype.injectIntoDictionary=function(t){for(var i=0;i<=this._numGroups;i++)this._stats[i].num<=this._minCols&&this._stats[i].cols.forEach(function(f){t[f]?t[f]++:t[f]=1})},r.prototype.injectIntoArray=function(t){for(var i=0;i<=this._numGroups;i++)this._stats[i].num<=this._minCols&&this._stats[i].cols.forEach(function(f){t.indexOf(f)==-1&&t.push(f)})},r}();l.HueStatistics=n},function(j,l,_){var u=_(22),o=_(24);function e(m){for(var a=[],c=0;c<m;c++)a[c]=0;return a}function n(m,a,c,p){for(var M=new Array(m),I=0;I<m;I++){M[I]=new Array(a);for(var S=0;S<a;S++){M[I][S]=new Array(c);for(var G=0;G<c;G++){M[I][S][G]=new Array(p);for(var z=0;z<p;z++)M[I][S][G][z]=0}}}return M}function r(m,a,c){for(var p=new Array(m),M=0;M<m;M++){p[M]=new Array(a);for(var I=0;I<a;I++){p[M][I]=new Array(c);for(var S=0;S<c;S++)p[M][I][S]=0}}return p}function t(m,a,c,p,M){for(var I=0;I<a;I++){m[I]=[];for(var S=0;S<c;S++){m[I][S]=[];for(var G=0;G<p;G++)m[I][S][G]=M}}}function i(m,a,c){for(var p=0;p<a;p++)m[p]=c}var f=function(){};l.WuColorCube=f;var d=function(){function m(a,c,p){c===void 0&&(c=256),p===void 0&&(p=5),this._distance=a,this._setQuality(p),this._initialize(c)}return m.prototype.sample=function(a){for(var c=a.getPointArray(),p=0,M=c.length;p<M;p++)this._addColor(c[p]);this._pixels=this._pixels.concat(c)},m.prototype.quantize=function(){this._preparePalette();for(var a=new u.Palette,c=0;c<this._colors;c++)if(this._sums[c]>0){var p=this._sums[c],M=this._reds[c]/p,I=this._greens[c]/p,S=this._blues[c]/p,G=this._alphas[c]/p,z=o.Point.createByRGBA(0|M,0|I,0|S,0|G);a.add(z)}return a.sort(),a},m.prototype._preparePalette=function(){this._calculateMoments();for(var a=0,c=e(this._colors),p=1;p<this._colors;++p){this._cut(this._cubes[a],this._cubes[p])?(c[a]=this._cubes[a].volume>1?this._calculateVariance(this._cubes[a]):0,c[p]=this._cubes[p].volume>1?this._calculateVariance(this._cubes[p]):0):(c[a]=0,p--),a=0;for(var M=c[0],I=1;I<=p;++I)c[I]>M&&(M=c[I],a=I);if(M<=0){this._colors=p+1;break}}for(var S=[],G=[],z=[],y=[],b=0;b<this._colors;++b){var B=m._volume(this._cubes[b],this._weights);B>0?(S[b]=m._volume(this._cubes[b],this._momentsRed)/B|0,G[b]=m._volume(this._cubes[b],this._momentsGreen)/B|0,z[b]=m._volume(this._cubes[b],this._momentsBlue)/B|0,y[b]=m._volume(this._cubes[b],this._momentsAlpha)/B|0):(S[b]=0,G[b]=0,z[b]=0,y[b]=0)}this._reds=e(this._colors+1),this._greens=e(this._colors+1),this._blues=e(this._colors+1),this._alphas=e(this._colors+1),this._sums=e(this._colors+1),I=0;for(var H=this._pixels.length;I<H;I++){for(var R=this._pixels[I],T=-1,C=Number.MAX_VALUE,k=0;k<this._colors;k++){var te=S[k],V=G[k],Q=z[k],W=y[k],L=this._distance.calculateRaw(te,V,Q,W,R.r,R.g,R.b,R.a);L<C&&(C=L,T=k)}this._reds[T]+=R.r,this._greens[T]+=R.g,this._blues[T]+=R.b,this._alphas[T]+=R.a,this._sums[T]++}},m.prototype._addColor=function(a){var c=8-this._significantBitsPerChannel,p=1+(a.r>>c),M=1+(a.g>>c),I=1+(a.b>>c),S=1+(a.a>>c);this._weights[S][p][M][I]++,this._momentsRed[S][p][M][I]+=a.r,this._momentsGreen[S][p][M][I]+=a.g,this._momentsBlue[S][p][M][I]+=a.b,this._momentsAlpha[S][p][M][I]+=a.a,this._moments[S][p][M][I]+=this._table[a.r]+this._table[a.g]+this._table[a.b]+this._table[a.a]},m.prototype._calculateMoments=function(){for(var a=[],c=[],p=[],M=[],I=[],S=[],G=r(this._sideSize,this._sideSize,this._sideSize),z=r(this._sideSize,this._sideSize,this._sideSize),y=r(this._sideSize,this._sideSize,this._sideSize),b=r(this._sideSize,this._sideSize,this._sideSize),B=r(this._sideSize,this._sideSize,this._sideSize),H=r(this._sideSize,this._sideSize,this._sideSize),R=1;R<=this._alphaMaxSideIndex;++R){t(G,this._sideSize,this._sideSize,this._sideSize,0),t(z,this._sideSize,this._sideSize,this._sideSize,0),t(y,this._sideSize,this._sideSize,this._sideSize,0),t(b,this._sideSize,this._sideSize,this._sideSize,0),t(B,this._sideSize,this._sideSize,this._sideSize,0),t(H,this._sideSize,this._sideSize,this._sideSize,0);for(var T=1;T<=this._maxSideIndex;++T){i(a,this._sideSize,0),i(c,this._sideSize,0),i(p,this._sideSize,0),i(M,this._sideSize,0),i(I,this._sideSize,0),i(S,this._sideSize,0);for(var C=1;C<=this._maxSideIndex;++C)for(var k=0,te=0,V=0,Q=0,W=0,L=0,Y=1;Y<=this._maxSideIndex;++Y)k+=this._weights[R][T][C][Y],te+=this._momentsRed[R][T][C][Y],V+=this._momentsGreen[R][T][C][Y],Q+=this._momentsBlue[R][T][C][Y],W+=this._momentsAlpha[R][T][C][Y],L+=this._moments[R][T][C][Y],a[Y]+=k,c[Y]+=te,p[Y]+=V,M[Y]+=Q,I[Y]+=W,S[Y]+=L,G[T][C][Y]=G[T-1][C][Y]+a[Y],z[T][C][Y]=z[T-1][C][Y]+c[Y],y[T][C][Y]=y[T-1][C][Y]+p[Y],b[T][C][Y]=b[T-1][C][Y]+M[Y],B[T][C][Y]=B[T-1][C][Y]+I[Y],H[T][C][Y]=H[T-1][C][Y]+S[Y],this._weights[R][T][C][Y]=this._weights[R-1][T][C][Y]+G[T][C][Y],this._momentsRed[R][T][C][Y]=this._momentsRed[R-1][T][C][Y]+z[T][C][Y],this._momentsGreen[R][T][C][Y]=this._momentsGreen[R-1][T][C][Y]+y[T][C][Y],this._momentsBlue[R][T][C][Y]=this._momentsBlue[R-1][T][C][Y]+b[T][C][Y],this._momentsAlpha[R][T][C][Y]=this._momentsAlpha[R-1][T][C][Y]+B[T][C][Y],this._moments[R][T][C][Y]=this._moments[R-1][T][C][Y]+H[T][C][Y]}}},m._volumeFloat=function(a,c){return c[a.alphaMaximum][a.redMaximum][a.greenMaximum][a.blueMaximum]-c[a.alphaMaximum][a.redMaximum][a.greenMinimum][a.blueMaximum]-c[a.alphaMaximum][a.redMinimum][a.greenMaximum][a.blueMaximum]+c[a.alphaMaximum][a.redMinimum][a.greenMinimum][a.blueMaximum]-c[a.alphaMinimum][a.redMaximum][a.greenMaximum][a.blueMaximum]+c[a.alphaMinimum][a.redMaximum][a.greenMinimum][a.blueMaximum]+c[a.alphaMinimum][a.redMinimum][a.greenMaximum][a.blueMaximum]-c[a.alphaMinimum][a.redMinimum][a.greenMinimum][a.blueMaximum]-(c[a.alphaMaximum][a.redMaximum][a.greenMaximum][a.blueMinimum]-c[a.alphaMinimum][a.redMaximum][a.greenMaximum][a.blueMinimum]-c[a.alphaMaximum][a.redMaximum][a.greenMinimum][a.blueMinimum]+c[a.alphaMinimum][a.redMaximum][a.greenMinimum][a.blueMinimum]-c[a.alphaMaximum][a.redMinimum][a.greenMaximum][a.blueMinimum]+c[a.alphaMinimum][a.redMinimum][a.greenMaximum][a.blueMinimum]+c[a.alphaMaximum][a.redMinimum][a.greenMinimum][a.blueMinimum]-c[a.alphaMinimum][a.redMinimum][a.greenMinimum][a.blueMinimum])},m._volume=function(a,c){return 0|m._volumeFloat(a,c)},m._top=function(a,c,p,M){var I;switch(c){case m.alpha:I=M[p][a.redMaximum][a.greenMaximum][a.blueMaximum]-M[p][a.redMaximum][a.greenMinimum][a.blueMaximum]-M[p][a.redMinimum][a.greenMaximum][a.blueMaximum]+M[p][a.redMinimum][a.greenMinimum][a.blueMaximum]-(M[p][a.redMaximum][a.greenMaximum][a.blueMinimum]-M[p][a.redMaximum][a.greenMinimum][a.blueMinimum]-M[p][a.redMinimum][a.greenMaximum][a.blueMinimum]+M[p][a.redMinimum][a.greenMinimum][a.blueMinimum]);break;case m.red:I=M[a.alphaMaximum][p][a.greenMaximum][a.blueMaximum]-M[a.alphaMaximum][p][a.greenMinimum][a.blueMaximum]-M[a.alphaMinimum][p][a.greenMaximum][a.blueMaximum]+M[a.alphaMinimum][p][a.greenMinimum][a.blueMaximum]-(M[a.alphaMaximum][p][a.greenMaximum][a.blueMinimum]-M[a.alphaMaximum][p][a.greenMinimum][a.blueMinimum]-M[a.alphaMinimum][p][a.greenMaximum][a.blueMinimum]+M[a.alphaMinimum][p][a.greenMinimum][a.blueMinimum]);break;case m.green:I=M[a.alphaMaximum][a.redMaximum][p][a.blueMaximum]-M[a.alphaMaximum][a.redMinimum][p][a.blueMaximum]-M[a.alphaMinimum][a.redMaximum][p][a.blueMaximum]+M[a.alphaMinimum][a.redMinimum][p][a.blueMaximum]-(M[a.alphaMaximum][a.redMaximum][p][a.blueMinimum]-M[a.alphaMaximum][a.redMinimum][p][a.blueMinimum]-M[a.alphaMinimum][a.redMaximum][p][a.blueMinimum]+M[a.alphaMinimum][a.redMinimum][p][a.blueMinimum]);break;case m.blue:I=M[a.alphaMaximum][a.redMaximum][a.greenMaximum][p]-M[a.alphaMaximum][a.redMaximum][a.greenMinimum][p]-M[a.alphaMaximum][a.redMinimum][a.greenMaximum][p]+M[a.alphaMaximum][a.redMinimum][a.greenMinimum][p]-(M[a.alphaMinimum][a.redMaximum][a.greenMaximum][p]-M[a.alphaMinimum][a.redMaximum][a.greenMinimum][p]-M[a.alphaMinimum][a.redMinimum][a.greenMaximum][p]+M[a.alphaMinimum][a.redMinimum][a.greenMinimum][p]);break;default:throw new Error("impossible")}return 0|I},m._bottom=function(a,c,p){switch(c){case m.alpha:return-p[a.alphaMinimum][a.redMaximum][a.greenMaximum][a.blueMaximum]+p[a.alphaMinimum][a.redMaximum][a.greenMinimum][a.blueMaximum]+p[a.alphaMinimum][a.redMinimum][a.greenMaximum][a.blueMaximum]-p[a.alphaMinimum][a.redMinimum][a.greenMinimum][a.blueMaximum]-(-p[a.alphaMinimum][a.redMaximum][a.greenMaximum][a.blueMinimum]+p[a.alphaMinimum][a.redMaximum][a.greenMinimum][a.blueMinimum]+p[a.alphaMinimum][a.redMinimum][a.greenMaximum][a.blueMinimum]-p[a.alphaMinimum][a.redMinimum][a.greenMinimum][a.blueMinimum]);case m.red:return-p[a.alphaMaximum][a.redMinimum][a.greenMaximum][a.blueMaximum]+p[a.alphaMaximum][a.redMinimum][a.greenMinimum][a.blueMaximum]+p[a.alphaMinimum][a.redMinimum][a.greenMaximum][a.blueMaximum]-p[a.alphaMinimum][a.redMinimum][a.greenMinimum][a.blueMaximum]-(-p[a.alphaMaximum][a.redMinimum][a.greenMaximum][a.blueMinimum]+p[a.alphaMaximum][a.redMinimum][a.greenMinimum][a.blueMinimum]+p[a.alphaMinimum][a.redMinimum][a.greenMaximum][a.blueMinimum]-p[a.alphaMinimum][a.redMinimum][a.greenMinimum][a.blueMinimum]);case m.green:return-p[a.alphaMaximum][a.redMaximum][a.greenMinimum][a.blueMaximum]+p[a.alphaMaximum][a.redMinimum][a.greenMinimum][a.blueMaximum]+p[a.alphaMinimum][a.redMaximum][a.greenMinimum][a.blueMaximum]-p[a.alphaMinimum][a.redMinimum][a.greenMinimum][a.blueMaximum]-(-p[a.alphaMaximum][a.redMaximum][a.greenMinimum][a.blueMinimum]+p[a.alphaMaximum][a.redMinimum][a.greenMinimum][a.blueMinimum]+p[a.alphaMinimum][a.redMaximum][a.greenMinimum][a.blueMinimum]-p[a.alphaMinimum][a.redMinimum][a.greenMinimum][a.blueMinimum]);case m.blue:return-p[a.alphaMaximum][a.redMaximum][a.greenMaximum][a.blueMinimum]+p[a.alphaMaximum][a.redMaximum][a.greenMinimum][a.blueMinimum]+p[a.alphaMaximum][a.redMinimum][a.greenMaximum][a.blueMinimum]-p[a.alphaMaximum][a.redMinimum][a.greenMinimum][a.blueMinimum]-(-p[a.alphaMinimum][a.redMaximum][a.greenMaximum][a.blueMinimum]+p[a.alphaMinimum][a.redMaximum][a.greenMinimum][a.blueMinimum]+p[a.alphaMinimum][a.redMinimum][a.greenMaximum][a.blueMinimum]-p[a.alphaMinimum][a.redMinimum][a.greenMinimum][a.blueMinimum]);default:return 0}},m.prototype._calculateVariance=function(a){var c=m._volume(a,this._momentsRed),p=m._volume(a,this._momentsGreen),M=m._volume(a,this._momentsBlue),I=m._volume(a,this._momentsAlpha);return m._volumeFloat(a,this._moments)-(c*c+p*p+M*M+I*I)/m._volume(a,this._weights)},m.prototype._maximize=function(a,c,p,M,I,S,G,z,y){for(var b=0|m._bottom(a,c,this._momentsRed),B=0|m._bottom(a,c,this._momentsGreen),H=0|m._bottom(a,c,this._momentsBlue),R=0|m._bottom(a,c,this._momentsAlpha),T=0|m._bottom(a,c,this._weights),C=0,k=-1,te=p;te<M;++te){var V=b+m._top(a,c,te,this._momentsRed),Q=B+m._top(a,c,te,this._momentsGreen),W=H+m._top(a,c,te,this._momentsBlue),L=R+m._top(a,c,te,this._momentsAlpha),Y=T+m._top(a,c,te,this._weights);if(Y!=0){var O=V*V+Q*Q+W*W+L*L,D=O/Y;V=I-V,Q=S-Q,W=G-W,L=z-L,(Y=y-Y)!=0&&(D+=(O=V*V+Q*Q+W*W+L*L)/Y)>C&&(C=D,k=te)}}return{max:C,position:k}},m.prototype._cut=function(a,c){var p,M=m._volume(a,this._momentsRed),I=m._volume(a,this._momentsGreen),S=m._volume(a,this._momentsBlue),G=m._volume(a,this._momentsAlpha),z=m._volume(a,this._weights),y=this._maximize(a,m.red,a.redMinimum+1,a.redMaximum,M,I,S,G,z),b=this._maximize(a,m.green,a.greenMinimum+1,a.greenMaximum,M,I,S,G,z),B=this._maximize(a,m.blue,a.blueMinimum+1,a.blueMaximum,M,I,S,G,z),H=this._maximize(a,m.alpha,a.alphaMinimum+1,a.alphaMaximum,M,I,S,G,z);if(H.max>=y.max&&H.max>=b.max&&H.max>=B.max){if(p=m.alpha,H.position<0)return!1}else p=y.max>=H.max&&y.max>=b.max&&y.max>=B.max?m.red:b.max>=H.max&&b.max>=y.max&&b.max>=B.max?m.green:m.blue;switch(c.redMaximum=a.redMaximum,c.greenMaximum=a.greenMaximum,c.blueMaximum=a.blueMaximum,c.alphaMaximum=a.alphaMaximum,p){case m.red:c.redMinimum=a.redMaximum=y.position,c.greenMinimum=a.greenMinimum,c.blueMinimum=a.blueMinimum,c.alphaMinimum=a.alphaMinimum;break;case m.green:c.greenMinimum=a.greenMaximum=b.position,c.redMinimum=a.redMinimum,c.blueMinimum=a.blueMinimum,c.alphaMinimum=a.alphaMinimum;break;case m.blue:c.blueMinimum=a.blueMaximum=B.position,c.redMinimum=a.redMinimum,c.greenMinimum=a.greenMinimum,c.alphaMinimum=a.alphaMinimum;break;case m.alpha:c.alphaMinimum=a.alphaMaximum=H.position,c.blueMinimum=a.blueMinimum,c.redMinimum=a.redMinimum,c.greenMinimum=a.greenMinimum}return a.volume=(a.redMaximum-a.redMinimum)*(a.greenMaximum-a.greenMinimum)*(a.blueMaximum-a.blueMinimum)*(a.alphaMaximum-a.alphaMinimum),c.volume=(c.redMaximum-c.redMinimum)*(c.greenMaximum-c.greenMinimum)*(c.blueMaximum-c.blueMinimum)*(c.alphaMaximum-c.alphaMinimum),!0},m.prototype._initialize=function(a){this._colors=a,this._cubes=[];for(var c=0;c<a;c++)this._cubes[c]=new f;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=n(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=n(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=n(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=n(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=n(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=n(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(var p=0;p<256;++p)this._table[p]=p*p;this._pixels=[]},m.prototype._setQuality=function(a){a===void 0&&(a=5),this._significantBitsPerChannel=a,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1},m.alpha=3,m.red=2,m.green=1,m.blue=0,m}();l.WuQuant=d},function(j,l,_){var u=_(31);l.NearestColor=u.NearestColor;var o=_(32);l.ErrorDiffusionArray=o.ErrorDiffusionArray,l.ErrorDiffusionArrayKernel=o.ErrorDiffusionArrayKernel;var e=_(33);l.ErrorDiffusionRiemersma=e.ErrorDiffusionRiemersma},function(j,l){var _=function(){function u(o){this._distance=o}return u.prototype.quantize=function(o,e){for(var n=o.getPointArray(),r=o.getWidth(),t=o.getHeight(),i=0;i<t;i++)for(var f=0,d=i*r;f<r;f++,d++){var m=n[d];m.from(e.getNearestColor(this._distance,m))}return o},u}();l.NearestColor=_},function(j,l,_){var u=_(24),o=_(6);(function(r){r[r.FloydSteinberg=0]="FloydSteinberg",r[r.FalseFloydSteinberg=1]="FalseFloydSteinberg",r[r.Stucki=2]="Stucki",r[r.Atkinson=3]="Atkinson",r[r.Jarvis=4]="Jarvis",r[r.Burkes=5]="Burkes",r[r.Sierra=6]="Sierra",r[r.TwoSierra=7]="TwoSierra",r[r.SierraLite=8]="SierraLite"})(l.ErrorDiffusionArrayKernel||(l.ErrorDiffusionArrayKernel={}));var e=l.ErrorDiffusionArrayKernel,n=function(){function r(t,i,f,d,m){f===void 0&&(f=!0),d===void 0&&(d=0),m===void 0&&(m=!1),this._setKernel(i),this._distance=t,this._minColorDistance=d,this._serpentine=f,this._calculateErrorLikeGIMP=m}return r.prototype.quantize=function(t,i){for(var f=t.getPointArray(),d=new u.Point,m=t.getWidth(),a=t.getHeight(),c=[],p=1,M=1,I=0;I<this._kernel.length;I++){var S=this._kernel[I][2]+1;M<S&&(M=S)}for(I=0;I<M;I++)this._fillErrorLine(c[I]=[],m);for(var G=0;G<a;G++){this._serpentine&&(p*=-1);var z=G*m,y=p==1?0:m-1,b=p==1?m:-1;this._fillErrorLine(c[0],m),c.push(c.shift());for(var B=c[0],H=y,R=z+y;H!==b;H+=p,R+=p){var T=f[R],C=B[H];d.from(T);var k=u.Point.createByRGBA(o.inRange0to255Rounded(T.r+C[0]),o.inRange0to255Rounded(T.g+C[1]),o.inRange0to255Rounded(T.b+C[2]),o.inRange0to255Rounded(T.a+C[3])),te=i.getNearestColor(this._distance,k);if(T.from(te),!(this._minColorDistance&&this._distance.calculateNormalized(T,te)<this._minColorDistance)){var V=void 0,Q=void 0,W=void 0,L=void 0;this._calculateErrorLikeGIMP?(V=k.r-te.r,Q=k.g-te.g,W=k.b-te.b,L=k.a-te.a):(V=d.r-te.r,Q=d.g-te.g,W=d.b-te.b,L=d.a-te.a);var Y=p==1?0:this._kernel.length-1,O=p==1?this._kernel.length:-1;for(I=Y;I!==O;I+=p){var D=this._kernel[I][1]*p,re=this._kernel[I][2];if(D+H>=0&&D+H<m&&re+G>=0&&re+G<a){var ae=this._kernel[I][0],he=c[re][D+H];he[0]=he[0]+V*ae,he[1]=he[1]+Q*ae,he[2]=he[2]+W*ae,he[3]=he[3]+L*ae}}}}}return t},r.prototype._fillErrorLine=function(t,i){t.length>i&&(t.length=i);for(var f=t.length,d=0;d<f;d++){var m=t[d];m[0]=m[1]=m[2]=m[3]=0}for(d=f;d<i;d++)t[d]=[0,0,0,0]},r.prototype._setKernel=function(t){switch(t){case e.FloydSteinberg:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case e.FalseFloydSteinberg:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case e.Stucki:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case e.Atkinson:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case e.Jarvis:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case e.Burkes:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case e.Sierra:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case e.TwoSierra:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case e.SierraLite:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error("ErrorDiffusionArray: unknown kernel = "+t)}},r}();l.ErrorDiffusionArray=n},function(j,l,_){var u=_(34),o=_(24),e=_(6),n=function(){function r(t,i,f){i===void 0&&(i=16),f===void 0&&(f=1),this._distance=t,this._errorPropagation=f,this._errorQueueSize=i,this._max=this._errorQueueSize,this._createWeights()}return r.prototype.quantize=function(t,i){for(var f=this,d=new u.HilbertCurveBase,m=t.getPointArray(),a=t.getWidth(),c=t.getHeight(),p=[],M=0,I=0;I<this._errorQueueSize;I++)p[I]={r:0,g:0,b:0,a:0};return d.walk(a,c,function(S,G){for(var z=m[S+G*a],y=z.r,b=z.g,B=z.b,H=z.a,R=0;R<f._errorQueueSize;R++){var T=f._weights[R],C=p[(R+M)%f._errorQueueSize];y+=C.r*T,b+=C.g*T,B+=C.b*T,H+=C.a*T}var k=o.Point.createByRGBA(e.inRange0to255Rounded(y),e.inRange0to255Rounded(b),e.inRange0to255Rounded(B),e.inRange0to255Rounded(H)),te=i.getNearestColor(f._distance,k),V=((M=(M+1)%f._errorQueueSize)+f._errorQueueSize-1)%f._errorQueueSize;p[V].r=z.r-te.r,p[V].g=z.g-te.g,p[V].b=z.b-te.b,p[V].a=z.a-te.a,z.from(te)}),t},r.prototype._createWeights=function(){this._weights=[];for(var t=Math.exp(Math.log(this._max)/(this._errorQueueSize-1)),i=0,f=1;i<this._errorQueueSize;i++)this._weights[i]=(f+.5|0)/this._max*this._errorPropagation,f*=t},r}();l.ErrorDiffusionRiemersma=n},function(j,l){var _;(function(o){o[o.NONE=0]="NONE",o[o.UP=1]="UP",o[o.LEFT=2]="LEFT",o[o.RIGHT=3]="RIGHT",o[o.DOWN=4]="DOWN"})(_||(_={}));var u=function(){function o(){}return o.prototype.walk=function(e,n,r){this._x=0,this._y=0,this._d=0,this._width=e,this._height=n,this._callback=r;var t=Math.max(e,n);this._level=Math.log(t)/Math.log(2)+1|0,this._walkHilbert(_.UP),this._visit(_.NONE)},o.prototype._walkHilbert=function(e){if(!(this._level<1)){switch(this._level--,e){case _.LEFT:this._walkHilbert(_.UP),this._visit(_.RIGHT),this._walkHilbert(_.LEFT),this._visit(_.DOWN),this._walkHilbert(_.LEFT),this._visit(_.LEFT),this._walkHilbert(_.DOWN);break;case _.RIGHT:this._walkHilbert(_.DOWN),this._visit(_.LEFT),this._walkHilbert(_.RIGHT),this._visit(_.UP),this._walkHilbert(_.RIGHT),this._visit(_.RIGHT),this._walkHilbert(_.UP);break;case _.UP:this._walkHilbert(_.LEFT),this._visit(_.DOWN),this._walkHilbert(_.UP),this._visit(_.RIGHT),this._walkHilbert(_.UP),this._visit(_.UP),this._walkHilbert(_.RIGHT);break;case _.DOWN:this._walkHilbert(_.RIGHT),this._visit(_.UP),this._walkHilbert(_.DOWN),this._visit(_.LEFT),this._walkHilbert(_.DOWN),this._visit(_.DOWN),this._walkHilbert(_.LEFT)}this._level++}},o.prototype._visit=function(e){switch(this._x>=0&&this._x<this._width&&this._y>=0&&this._y<this._height&&(this._callback(this._x,this._y,this._d),this._d++),e){case _.LEFT:this._x--;break;case _.RIGHT:this._x++;break;case _.UP:this._y--;break;case _.DOWN:this._y++}},o}();l.HilbertCurveBase=u},function(j,l,_){var u=_(36);l.SSIM=u.SSIM},function(j,l,_){var u=_(2),o=function(){function e(){}return e.prototype.compare=function(n,r){if(n.getHeight()!==r.getHeight()||n.getWidth()!==r.getWidth())throw new Error("Images have different sizes!");var t=Math.pow(.01*255,2),i=Math.pow(.03*255,2),f=0,d=0;return this._iterate(n,r,function(m,a,c,p){for(var M=0,I=0,S=0,G=0;G<m.length;G++)I+=Math.pow(m[G]-c,2),S+=Math.pow(a[G]-p,2),M+=(m[G]-c)*(a[G]-p);var z=m.length-1;I/=z,S/=z;var y=(2*c*p+t)*(2*(M/=z)+i),b=(Math.pow(c,2)+Math.pow(p,2)+t)*(I+S+i);d+=y/b,f++}),d/f},e.prototype._iterate=function(n,r,t){for(var i=n.getWidth(),f=n.getHeight(),d=0;d<f;d+=8)for(var m=0;m<i;m+=8){var a=Math.min(8,i-m),c=Math.min(8,f-d),p=this._calculateLumaValuesForWindow(n,m,d,a,c),M=this._calculateLumaValuesForWindow(r,m,d,a,c);t(p,M,this._calculateAverageLuma(p),this._calculateAverageLuma(M))}},e.prototype._calculateLumaValuesForWindow=function(n,r,t,i,f){for(var d=n.getPointArray(),m=[],a=0,c=t;c<t+f;c++)for(var p=c*n.getWidth(),M=r;M<r+i;M++){var I=d[p+M];m[a]=I.r*u.Y.RED+I.g*u.Y.GREEN+I.b*u.Y.BLUE,a++}return m},e.prototype._calculateAverageLuma=function(n){for(var r=0,t=0;t<n.length;t++)r+=n[t];return r/n.length},e}();l.SSIM=o},function(j,l,_){var u=_(6);l.arithmetic=u;var o=_(28);l.HueStatistics=o.HueStatistics;var e=_(22);l.Palette=e.Palette;var n=_(24);l.Point=n.Point;var r=_(23);l.PointContainer=r.PointContainer}])},_e.exports=ie()},9680:_e=>{var ie=Function.prototype.toString,j=/^\s*class\b/,l=function(o){try{var e=ie.call(o);return j.test(e)}catch{return!1}},_=Object.prototype.toString,u=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";_e.exports=function(o){if(!o||typeof o!="function"&&typeof o!="object")return!1;if(typeof o=="function"&&!o.prototype)return!0;if(u)return function(n){try{return!l(n)&&(ie.call(n),!0)}catch{return!1}}(o);if(l(o))return!1;var e=_.call(o);return e==="[object Function]"||e==="[object GeneratorFunction]"}},9748:_e=>{_e.exports=function(j){var l=ie.call(j);return l==="[object Function]"||typeof j=="function"&&l!=="[object RegExp]"||typeof window<"u"&&(j===window.setTimeout||j===window.alert||j===window.confirm||j===window.prompt)};var ie=Object.prototype.toString},9307:(_e,ie,j)=>{j(6168),_e.exports=self.fetch.bind(self)},2691:(_e,ie,j)=>{var l=j(706),_=j(770);_e.exports={encode:l,decode:_}},770:(_e,ie,j)=>{var l=j(8834).lW,_=function(){var u=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),o=4017,e=799,n=3406,r=2276,t=1567,i=3784,f=5793,d=2896;function m(){}function a(z,y){for(var b,B,H=0,R=[],T=16;T>0&&!z[T-1];)T--;R.push({children:[],index:0});var C,k=R[0];for(b=0;b<T;b++){for(B=0;B<z[b];B++){for((k=R.pop()).children[k.index]=y[H];k.index>0;){if(R.length===0)throw new Error("Could not recreate Huffman Table");k=R.pop()}for(k.index++,R.push(k);R.length<=b;)R.push(C={children:[],index:0}),k.children[k.index]=C.children,k=C;H++}b+1<T&&(R.push(C={children:[],index:0}),k.children[k.index]=C.children,k=C)}return R[0].children}function c(z,y,b,B,H,R,T,C,k,te){b.precision,b.samplesPerLine,b.scanLines;var V=b.mcusPerLine,Q=b.progressive,W=(b.maxH,b.maxV,y),L=0,Y=0;function O(){if(Y>0)return Y--,L>>Y&1;if((L=z[y++])==255){var we=z[y++];if(we)throw new Error("unexpected marker: "+(L<<8|we).toString(16))}return Y=7,L>>>7}function D(we){for(var ne,fe=we;(ne=O())!==null;){if(typeof(fe=fe[ne])=="number")return fe;if(typeof fe!="object")throw new Error("invalid huffman sequence")}return null}function re(we){for(var ne=0;we>0;){var fe=O();if(fe===null)return;ne=ne<<1|fe,we--}return ne}function ae(we){var ne=re(we);return ne>=1<<we-1?ne:ne+(-1<<we)+1}var he,v=0,A=0;function P(we,ne,fe,be,Se){var me=fe%V,Me=(fe/V|0)*we.v+be,ke=me*we.h+Se;we.blocks[Me]===void 0&&te.tolerantDecoding||ne(we,we.blocks[Me][ke])}function X(we,ne,fe){var be=fe/we.blocksPerLine|0,Se=fe%we.blocksPerLine;we.blocks[be]===void 0&&te.tolerantDecoding||ne(we,we.blocks[be][Se])}var s,h,g,U,K,E,J=B.length;E=Q?R===0?C===0?function(we,ne){var fe=D(we.huffmanTableDC),be=fe===0?0:ae(fe)<<k;ne[0]=we.pred+=be}:function(we,ne){ne[0]|=O()<<k}:C===0?function(we,ne){if(v>0)v--;else for(var fe=R,be=T;fe<=be;){var Se=D(we.huffmanTableAC),me=15&Se,Me=Se>>4;if(me!==0)ne[u[fe+=Me]]=ae(me)*(1<<k),fe++;else{if(Me<15){v=re(Me)+(1<<Me)-1;break}fe+=16}}}:function(we,ne){for(var fe=R,be=T,Se=0;fe<=be;){var me=u[fe],Me=ne[me]<0?-1:1;switch(A){case 0:var ke=D(we.huffmanTableAC),Re=15&ke;if(Se=ke>>4,Re===0)Se<15?(v=re(Se)+(1<<Se),A=4):(Se=16,A=1);else{if(Re!==1)throw new Error("invalid ACn encoding");he=ae(Re),A=Se?2:3}continue;case 1:case 2:ne[me]?ne[me]+=(O()<<k)*Me:--Se==0&&(A=A==2?3:0);break;case 3:ne[me]?ne[me]+=(O()<<k)*Me:(ne[me]=he<<k,A=0);break;case 4:ne[me]&&(ne[me]+=(O()<<k)*Me)}fe++}A===4&&--v==0&&(A=0)}:function(we,ne){var fe=D(we.huffmanTableDC),be=fe===0?0:ae(fe);ne[0]=we.pred+=be;for(var Se=1;Se<64;){var me=D(we.huffmanTableAC),Me=15&me,ke=me>>4;if(Me!==0)ne[u[Se+=ke]]=ae(Me),Se++;else{if(ke<15)break;Se+=16}}};var oe,Z,de,ge,xe=0;for(Z=J==1?B[0].blocksPerLine*B[0].blocksPerColumn:V*b.mcusPerColumn,H||(H=Z);xe<Z;){for(h=0;h<J;h++)B[h].pred=0;if(v=0,J==1)for(s=B[0],K=0;K<H;K++)X(s,E,xe),xe++;else for(K=0;K<H;K++){for(h=0;h<J;h++)for(de=(s=B[h]).h,ge=s.v,g=0;g<ge;g++)for(U=0;U<de;U++)P(s,E,xe,g,U);if(++xe===Z)break}if(xe===Z)do{if(z[y]===255&&z[y+1]!==0)break;y+=1}while(y<z.length-2);if(Y=0,(oe=z[y]<<8|z[y+1])<65280)throw new Error("marker was not found");if(!(oe>=65488&&oe<=65495))break;y+=2}return y-W}function p(z,y){var b,B,H=[],R=y.blocksPerLine,T=y.blocksPerColumn,C=R<<3,k=new Int32Array(64),te=new Uint8Array(64);function V(re,ae,he){var v,A,P,X,s,h,g,U,K,E,J=y.quantizationTable,oe=he;for(E=0;E<64;E++)oe[E]=re[E]*J[E];for(E=0;E<8;++E){var Z=8*E;oe[1+Z]!=0||oe[2+Z]!=0||oe[3+Z]!=0||oe[4+Z]!=0||oe[5+Z]!=0||oe[6+Z]!=0||oe[7+Z]!=0?(v=f*oe[0+Z]+128>>8,A=f*oe[4+Z]+128>>8,P=oe[2+Z],X=oe[6+Z],s=d*(oe[1+Z]-oe[7+Z])+128>>8,U=d*(oe[1+Z]+oe[7+Z])+128>>8,h=oe[3+Z]<<4,g=oe[5+Z]<<4,K=v-A+1>>1,v=v+A+1>>1,A=K,K=P*i+X*t+128>>8,P=P*t-X*i+128>>8,X=K,K=s-g+1>>1,s=s+g+1>>1,g=K,K=U+h+1>>1,h=U-h+1>>1,U=K,K=v-X+1>>1,v=v+X+1>>1,X=K,K=A-P+1>>1,A=A+P+1>>1,P=K,K=s*r+U*n+2048>>12,s=s*n-U*r+2048>>12,U=K,K=h*e+g*o+2048>>12,h=h*o-g*e+2048>>12,g=K,oe[0+Z]=v+U,oe[7+Z]=v-U,oe[1+Z]=A+g,oe[6+Z]=A-g,oe[2+Z]=P+h,oe[5+Z]=P-h,oe[3+Z]=X+s,oe[4+Z]=X-s):(K=f*oe[0+Z]+512>>10,oe[0+Z]=K,oe[1+Z]=K,oe[2+Z]=K,oe[3+Z]=K,oe[4+Z]=K,oe[5+Z]=K,oe[6+Z]=K,oe[7+Z]=K)}for(E=0;E<8;++E){var de=E;oe[8+de]!=0||oe[16+de]!=0||oe[24+de]!=0||oe[32+de]!=0||oe[40+de]!=0||oe[48+de]!=0||oe[56+de]!=0?(v=f*oe[0+de]+2048>>12,A=f*oe[32+de]+2048>>12,P=oe[16+de],X=oe[48+de],s=d*(oe[8+de]-oe[56+de])+2048>>12,U=d*(oe[8+de]+oe[56+de])+2048>>12,h=oe[24+de],g=oe[40+de],K=v-A+1>>1,v=v+A+1>>1,A=K,K=P*i+X*t+2048>>12,P=P*t-X*i+2048>>12,X=K,K=s-g+1>>1,s=s+g+1>>1,g=K,K=U+h+1>>1,h=U-h+1>>1,U=K,K=v-X+1>>1,v=v+X+1>>1,X=K,K=A-P+1>>1,A=A+P+1>>1,P=K,K=s*r+U*n+2048>>12,s=s*n-U*r+2048>>12,U=K,K=h*e+g*o+2048>>12,h=h*o-g*e+2048>>12,g=K,oe[0+de]=v+U,oe[56+de]=v-U,oe[8+de]=A+g,oe[48+de]=A-g,oe[16+de]=P+h,oe[40+de]=P-h,oe[24+de]=X+s,oe[32+de]=X-s):(K=f*he[E+0]+8192>>14,oe[0+de]=K,oe[8+de]=K,oe[16+de]=K,oe[24+de]=K,oe[32+de]=K,oe[40+de]=K,oe[48+de]=K,oe[56+de]=K)}for(E=0;E<64;++E){var ge=128+(oe[E]+8>>4);ae[E]=ge<0?0:ge>255?255:ge}}G(C*T*8);for(var Q=0;Q<T;Q++){var W=Q<<3;for(b=0;b<8;b++)H.push(new Uint8Array(C));for(var L=0;L<R;L++){V(y.blocks[Q][L],te,k);var Y=0,O=L<<3;for(B=0;B<8;B++){var D=H[W+B];for(b=0;b<8;b++)D[O+b]=te[Y++]}}}return H}function M(z){return z<0?0:z>255?255:z}m.prototype={load:function(z){var y=new XMLHttpRequest;y.open("GET",z,!0),y.responseType="arraybuffer",y.onload=function(){var b=new Uint8Array(y.response||y.mozResponseArrayBuffer);this.parse(b),this.onload&&this.onload()}.bind(this),y.send(null)},parse:function(z){var y=1e3*this.opts.maxResolutionInMP*1e3,b=0;function B(){var Ce=z[b]<<8|z[b+1];return b+=2,Ce}function H(Ce){var Ne,qe,F=1,ye=1;for(qe in Ce.components)Ce.components.hasOwnProperty(qe)&&(F<(Ne=Ce.components[qe]).h&&(F=Ne.h),ye<Ne.v&&(ye=Ne.v));var $=Math.ceil(Ce.samplesPerLine/8/F),ce=Math.ceil(Ce.scanLines/8/ye);for(qe in Ce.components)if(Ce.components.hasOwnProperty(qe)){Ne=Ce.components[qe];var De=Math.ceil(Math.ceil(Ce.samplesPerLine/8)*Ne.h/F),Pe=Math.ceil(Math.ceil(Ce.scanLines/8)*Ne.v/ye),Ye=$*Ne.h,Te=ce*Ne.v,ze=[];G(Te*Ye*256);for(var Be=0;Be<Te;Be++){for(var Ee=[],He=0;He<Ye;He++)Ee.push(new Int32Array(64));ze.push(Ee)}Ne.blocksPerLine=De,Ne.blocksPerColumn=Pe,Ne.blocks=ze}Ce.maxH=F,Ce.maxV=ye,Ce.mcusPerLine=$,Ce.mcusPerColumn=ce}z.length;var R,T,C,k,te=null,V=null,Q=[],W=[],L=[],Y=[],O=B(),D=-1;if(this.comments=[],O!=65496)throw new Error("SOI not found");for(O=B();O!=65497;){switch(O){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var re=(C=void 0,k=void 0,C=B(),k=z.subarray(b,b+C-2),b+=k.length,k);if(O===65534){var ae=String.fromCharCode.apply(null,re);this.comments.push(ae)}O===65504&&re[0]===74&&re[1]===70&&re[2]===73&&re[3]===70&&re[4]===0&&(te={version:{major:re[5],minor:re[6]},densityUnits:re[7],xDensity:re[8]<<8|re[9],yDensity:re[10]<<8|re[11],thumbWidth:re[12],thumbHeight:re[13],thumbData:re.subarray(14,14+3*re[12]*re[13])}),O===65505&&re[0]===69&&re[1]===120&&re[2]===105&&re[3]===102&&re[4]===0&&(this.exifBuffer=re.subarray(5,re.length)),O===65518&&re[0]===65&&re[1]===100&&re[2]===111&&re[3]===98&&re[4]===101&&re[5]===0&&(V={version:re[6],flags0:re[7]<<8|re[8],flags1:re[9]<<8|re[10],transformCode:re[11]});break;case 65499:for(var he=B()+b-2;b<he;){var v=z[b++];G(256);var A=new Int32Array(64);if(v>>4){if(v>>4!=1)throw new Error("DQT: invalid table spec");for(ke=0;ke<64;ke++)A[u[ke]]=B()}else for(ke=0;ke<64;ke++)A[u[ke]]=z[b++];Q[15&v]=A}break;case 65472:case 65473:case 65474:B(),(R={}).extended=O===65473,R.progressive=O===65474,R.precision=z[b++],R.scanLines=B(),R.samplesPerLine=B(),R.components={},R.componentsOrder=[];var P=R.scanLines*R.samplesPerLine;if(P>y){var X=Math.ceil((P-y)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${X}MP`)}var s,h=z[b++];for(me=0;me<h;me++){s=z[b];var g=z[b+1]>>4,U=15&z[b+1],K=z[b+2];if(g<=0||U<=0)throw new Error("Invalid sampling factor, expected values above 0");R.componentsOrder.push(s),R.components[s]={h:g,v:U,quantizationIdx:K},b+=3}H(R),W.push(R);break;case 65476:var E=B();for(me=2;me<E;){var J=z[b++],oe=new Uint8Array(16),Z=0;for(ke=0;ke<16;ke++,b++)Z+=oe[ke]=z[b];G(16+Z);var de=new Uint8Array(Z);for(ke=0;ke<Z;ke++,b++)de[ke]=z[b];me+=17+Z,(J>>4?L:Y)[15&J]=a(oe,de)}break;case 65501:B(),T=B();break;case 65500:B(),B();break;case 65498:B();var ge=z[b++],xe=[];for(me=0;me<ge;me++){Re=R.components[z[b++]];var we=z[b++];Re.huffmanTableDC=Y[we>>4],Re.huffmanTableAC=L[15&we],xe.push(Re)}var ne=z[b++],fe=z[b++],be=z[b++],Se=c(z,b,R,xe,T,ne,fe,be>>4,15&be,this.opts);b+=Se;break;case 65535:z[b]!==255&&b--;break;default:if(z[b-3]==255&&z[b-2]>=192&&z[b-2]<=254){b-=3;break}if(O===224||O==225){if(D!==-1)throw new Error(`first unknown JPEG marker at offset ${D.toString(16)}, second unknown JPEG marker ${O.toString(16)} at offset ${(b-1).toString(16)}`);D=b-1;const Ce=B();if(z[b+Ce-2]===255){b+=Ce-2;break}}throw new Error("unknown JPEG marker "+O.toString(16))}O=B()}if(W.length!=1)throw new Error("only single frame JPEGs supported");for(var me=0;me<W.length;me++){var Me=W[me].components;for(var ke in Me)Me[ke].quantizationTable=Q[Me[ke].quantizationIdx],delete Me[ke].quantizationIdx}for(this.width=R.samplesPerLine,this.height=R.scanLines,this.jfif=te,this.adobe=V,this.components=[],me=0;me<R.componentsOrder.length;me++){var Re=R.components[R.componentsOrder[me]];this.components.push({lines:p(0,Re),scaleX:Re.h/R.maxH,scaleY:Re.v/R.maxV})}},getData:function(z,y){var b,B,H,R,T,C,k,te,V,Q,W,L,Y,O,D,re,ae,he,v,A,P,X=this.width/z,s=this.height/y,h=0,g=z*y*this.components.length;G(g);var U=new Uint8Array(g);switch(this.components.length){case 1:for(b=this.components[0],Q=0;Q<y;Q++)for(T=b.lines[0|Q*b.scaleY*s],V=0;V<z;V++)W=T[0|V*b.scaleX*X],U[h++]=W;break;case 2:for(b=this.components[0],B=this.components[1],Q=0;Q<y;Q++)for(T=b.lines[0|Q*b.scaleY*s],C=B.lines[0|Q*B.scaleY*s],V=0;V<z;V++)W=T[0|V*b.scaleX*X],U[h++]=W,W=C[0|V*B.scaleX*X],U[h++]=W;break;case 3:for(P=!0,this.adobe&&this.adobe.transformCode?P=!0:this.opts.colorTransform!==void 0&&(P=!!this.opts.colorTransform),b=this.components[0],B=this.components[1],H=this.components[2],Q=0;Q<y;Q++)for(T=b.lines[0|Q*b.scaleY*s],C=B.lines[0|Q*B.scaleY*s],k=H.lines[0|Q*H.scaleY*s],V=0;V<z;V++)P?(W=T[0|V*b.scaleX*X],L=C[0|V*B.scaleX*X],he=M(W+1.402*((Y=k[0|V*H.scaleX*X])-128)),v=M(W-.3441363*(L-128)-.71413636*(Y-128)),A=M(W+1.772*(L-128))):(he=T[0|V*b.scaleX*X],v=C[0|V*B.scaleX*X],A=k[0|V*H.scaleX*X]),U[h++]=he,U[h++]=v,U[h++]=A;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(P=!1,this.adobe&&this.adobe.transformCode?P=!0:this.opts.colorTransform!==void 0&&(P=!!this.opts.colorTransform),b=this.components[0],B=this.components[1],H=this.components[2],R=this.components[3],Q=0;Q<y;Q++)for(T=b.lines[0|Q*b.scaleY*s],C=B.lines[0|Q*B.scaleY*s],k=H.lines[0|Q*H.scaleY*s],te=R.lines[0|Q*R.scaleY*s],V=0;V<z;V++)P?(W=T[0|V*b.scaleX*X],L=C[0|V*B.scaleX*X],Y=k[0|V*H.scaleX*X],O=te[0|V*R.scaleX*X],D=255-M(W+1.402*(Y-128)),re=255-M(W-.3441363*(L-128)-.71413636*(Y-128)),ae=255-M(W+1.772*(L-128))):(D=T[0|V*b.scaleX*X],re=C[0|V*B.scaleX*X],ae=k[0|V*H.scaleX*X],O=te[0|V*R.scaleX*X]),U[h++]=255-D,U[h++]=255-re,U[h++]=255-ae,U[h++]=255-O;break;default:throw new Error("Unsupported color mode")}return U},copyToImageData:function(z,y){var b,B,H,R,T,C,k,te,V,Q=z.width,W=z.height,L=z.data,Y=this.getData(Q,W),O=0,D=0;switch(this.components.length){case 1:for(B=0;B<W;B++)for(b=0;b<Q;b++)H=Y[O++],L[D++]=H,L[D++]=H,L[D++]=H,y&&(L[D++]=255);break;case 3:for(B=0;B<W;B++)for(b=0;b<Q;b++)k=Y[O++],te=Y[O++],V=Y[O++],L[D++]=k,L[D++]=te,L[D++]=V,y&&(L[D++]=255);break;case 4:for(B=0;B<W;B++)for(b=0;b<Q;b++)T=Y[O++],C=Y[O++],H=Y[O++],k=255-M(T*(1-(R=Y[O++])/255)+R),te=255-M(C*(1-R/255)+R),V=255-M(H*(1-R/255)+R),L[D++]=k,L[D++]=te,L[D++]=V,y&&(L[D++]=255);break;default:throw new Error("Unsupported color mode")}}};var I=0,S=0;function G(z=0){var y=I+z;if(y>S){var b=Math.ceil((y-S)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${b}MB`)}I=y}return m.resetMaxMemoryUsage=function(z){I=0,S=z},m.getBytesAllocated=function(){return I},m.requestMemoryAllocation=G,m}();_e.exports=function(u,o={}){var e={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512,...o},n=new Uint8Array(u),r=new _;r.opts=e,_.resetMaxMemoryUsage(1024*e.maxMemoryUsageInMB*1024),r.parse(n);var t=e.formatAsRGBA?4:3,i=r.width*r.height*t;try{_.requestMemoryAllocation(i);var f={width:r.width,height:r.height,exifBuffer:r.exifBuffer,data:e.useTArray?new Uint8Array(i):l.alloc(i)};r.comments.length>0&&(f.comments=r.comments)}catch(d){throw d instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+i):d instanceof ReferenceError&&d.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):d}return r.copyToImageData(f,e.formatAsRGBA),f}},706:(_e,ie,j)=>{var l=j(8834).lW;function _(u){var o,e,n,r,t,i=Math.floor,f=new Array(64),d=new Array(64),m=new Array(64),a=new Array(64),c=new Array(65535),p=new Array(65535),M=new Array(64),I=new Array(64),S=[],G=0,z=7,y=new Array(64),b=new Array(64),B=new Array(64),H=new Array(256),R=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],V=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function O(A,P){for(var X=0,s=0,h=new Array,g=1;g<=16;g++){for(var U=1;U<=A[g];U++)h[P[s]]=[],h[P[s]][0]=X,h[P[s]][1]=g,s++,X++;X*=2}return h}function D(A){for(var P=A[0],X=A[1]-1;X>=0;)P&1<<X&&(G|=1<<z),X--,--z<0&&(G==255?(re(255),re(0)):re(G),z=7,G=0)}function re(A){S.push(A)}function ae(A){re(A>>8&255),re(255&A)}function he(A,P,X,s,h){for(var g,U=h[0],K=h[240],E=function(fe,be){var Se,me,Me,ke,Re,Ce,Ne,qe,F,ye,$=0;for(F=0;F<8;++F){Se=fe[$],me=fe[$+1],Me=fe[$+2],ke=fe[$+3],Re=fe[$+4],Ce=fe[$+5],Ne=fe[$+6];var ce=Se+(qe=fe[$+7]),De=Se-qe,Pe=me+Ne,Ye=me-Ne,Te=Me+Ce,ze=Me-Ce,Be=ke+Re,Ee=ke-Re,He=ce+Be,We=ce-Be,je=Pe+Te,Xe=Pe-Te;fe[$]=He+je,fe[$+4]=He-je;var ft=.707106781*(Xe+We);fe[$+2]=We+ft,fe[$+6]=We-ft;var Je=.382683433*((He=Ee+ze)-(Xe=Ye+De)),rt=.5411961*He+Je,st=1.306562965*Xe+Je,ut=.707106781*(je=ze+Ye),ht=De+ut,bt=De-ut;fe[$+5]=bt+rt,fe[$+3]=bt-rt,fe[$+1]=ht+st,fe[$+7]=ht-st,$+=8}for($=0,F=0;F<8;++F){Se=fe[$],me=fe[$+8],Me=fe[$+16],ke=fe[$+24],Re=fe[$+32],Ce=fe[$+40],Ne=fe[$+48];var at=Se+(qe=fe[$+56]),lt=Se-qe,mt=me+Ne,pt=me-Ne,dt=Me+Ce,ct=Me-Ce,Et=ke+Re,Tt=ke-Re,Mt=at+Et,It=at-Et,_t=mt+dt,yt=mt-dt;fe[$]=Mt+_t,fe[$+32]=Mt-_t;var Rt=.707106781*(yt+It);fe[$+16]=It+Rt,fe[$+48]=It-Rt;var Lt=.382683433*((Mt=Tt+ct)-(yt=pt+lt)),xt=.5411961*Mt+Lt,Pt=1.306562965*yt+Lt,Ot=.707106781*(_t=ct+pt),Ct=lt+Ot,Ut=lt-Ot;fe[$+40]=Ut+xt,fe[$+24]=Ut-xt,fe[$+8]=Ct+Pt,fe[$+56]=Ct-Pt,$++}for(F=0;F<64;++F)ye=fe[F]*be[F],M[F]=ye>0?ye+.5|0:ye-.5|0;return M}(A,P),J=0;J<64;++J)I[T[J]]=E[J];var oe=I[0]-X;X=I[0],oe==0?D(s[0]):(D(s[p[g=32767+oe]]),D(c[g]));for(var Z=63;Z>0&&I[Z]==0;Z--);if(Z==0)return D(U),X;for(var de,ge=1;ge<=Z;){for(var xe=ge;I[ge]==0&&ge<=Z;++ge);var we=ge-xe;if(we>=16){de=we>>4;for(var ne=1;ne<=de;++ne)D(K);we&=15}g=32767+I[ge],D(h[(we<<4)+p[g]]),D(c[g]),ge++}return Z!=63&&D(U),X}function v(A){A<=0&&(A=1),A>100&&(A=100),t!=A&&(function(P){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],s=0;s<64;s++){var h=i((X[s]*P+50)/100);h<1?h=1:h>255&&(h=255),f[T[s]]=h}for(var g=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],U=0;U<64;U++){var K=i((g[U]*P+50)/100);K<1?K=1:K>255&&(K=255),d[T[U]]=K}for(var E=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],J=0,oe=0;oe<8;oe++)for(var Z=0;Z<8;Z++)m[J]=1/(f[T[J]]*E[oe]*E[Z]*8),a[J]=1/(d[T[J]]*E[oe]*E[Z]*8),J++}(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),t=A)}this.encode=function(A,P){var X;new Date().getTime(),P&&v(P),S=new Array,G=0,z=7,ae(65496),ae(65504),ae(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),ae(1),ae(1),re(0),re(0),(X=A.comments)!==void 0&&X.constructor===Array&&X.forEach(Me=>{if(typeof Me=="string"){ae(65534);var ke,Re=Me.length;for(ae(Re+2),ke=0;ke<Re;ke++)re(Me.charCodeAt(ke))}}),function(Me){if(Me){ae(65505),Me[0]===69&&Me[1]===120&&Me[2]===105&&Me[3]===102?ae(Me.length+2):(ae(Me.length+5+2),re(69),re(120),re(105),re(102),re(0));for(var ke=0;ke<Me.length;ke++)re(Me[ke])}}(A.exifBuffer),function(){ae(65499),ae(132),re(0);for(var Me=0;Me<64;Me++)re(f[Me]);re(1);for(var ke=0;ke<64;ke++)re(d[ke])}(),function(Me,ke){ae(65472),ae(17),re(8),ae(ke),ae(Me),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)}(A.width,A.height),function(){ae(65476),ae(418),re(0);for(var Me=0;Me<16;Me++)re(C[Me+1]);for(var ke=0;ke<=11;ke++)re(k[ke]);re(16);for(var Re=0;Re<16;Re++)re(te[Re+1]);for(var Ce=0;Ce<=161;Ce++)re(V[Ce]);re(1);for(var Ne=0;Ne<16;Ne++)re(Q[Ne+1]);for(var qe=0;qe<=11;qe++)re(W[qe]);re(17);for(var F=0;F<16;F++)re(L[F+1]);for(var ye=0;ye<=161;ye++)re(Y[ye])}(),ae(65498),ae(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var s=0,h=0,g=0;G=0,z=7,this.encode.displayName="_encode_";for(var U,K,E,J,oe,Z,de,ge,xe,we=A.data,ne=A.width,fe=A.height,be=4*ne,Se=0;Se<fe;){for(U=0;U<be;){for(Z=oe=be*Se+U,de=-1,ge=0,xe=0;xe<64;xe++)Z=oe+(ge=xe>>3)*be+(de=4*(7&xe)),Se+ge>=fe&&(Z-=be*(Se+1+ge-fe)),U+de>=be&&(Z-=U+de-be+4),K=we[Z++],E=we[Z++],J=we[Z++],y[xe]=(R[K]+R[E+256>>0]+R[J+512>>0]>>16)-128,b[xe]=(R[K+768>>0]+R[E+1024>>0]+R[J+1280>>0]>>16)-128,B[xe]=(R[K+1280>>0]+R[E+1536>>0]+R[J+1792>>0]>>16)-128;s=he(y,m,s,o,n),h=he(b,a,h,e,r),g=he(B,a,g,e,r),U+=32}Se+=8}if(z>=0){var me=[];me[1]=z+1,me[0]=(1<<z+1)-1,D(me)}return ae(65497),l.from(S)},new Date().getTime(),u||(u=50),function(){for(var A=String.fromCharCode,P=0;P<256;P++)H[P]=A(P)}(),o=O(C,k),e=O(Q,W),n=O(te,V),r=O(L,Y),function(){for(var A=1,P=2,X=1;X<=15;X++){for(var s=A;s<P;s++)p[32767+s]=X,c[32767+s]=[],c[32767+s][1]=X,c[32767+s][0]=s;for(var h=-(P-1);h<=-A;h++)p[32767+h]=X,c[32767+h]=[],c[32767+h][1]=X,c[32767+h][0]=P-1+h;A<<=1,P<<=1}}(),function(){for(var A=0;A<256;A++)R[A]=19595*A,R[A+256>>0]=38470*A,R[A+512>>0]=7471*A+32768,R[A+768>>0]=-11059*A,R[A+1024>>0]=-21709*A,R[A+1280>>0]=32768*A+8421375,R[A+1536>>0]=-27439*A,R[A+1792>>0]=-5329*A}(),v(u),new Date().getTime()}_e.exports=function(u,o){return o===void 0&&(o=50),{data:new _(o).encode(u,o),width:u.width,height:u.height}}},8058:(_e,ie,j)=>{var l=j(8834).lW,_=j(6290),u=function(){},o=j(4398),e=j(5947),n=j(8438),r=j(5565),t=j(1960),i=self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;_e.exports=function(f,d){d=typeof d=="function"?d:u,typeof f=="string"?f={uri:f}:f||(f={}),f.binary&&(f=function(m){if(i)return t(m,{responseType:"arraybuffer"});if(self.XMLHttpRequest===void 0)throw new Error("your browser does not support XHR loading");var a=new self.XMLHttpRequest;return a.overrideMimeType("text/plain; charset=x-user-defined"),t({xhr:a},m)}(f)),_(f,function(m,a,c){if(m)return d(m);if(!/^2/.test(a.statusCode))return d(new Error("http status code: "+a.statusCode));if(!c)return d(new Error("no body result"));var p,M,I=!1;if(p=c,Object.prototype.toString.call(p)==="[object ArrayBuffer]"){var S=new Uint8Array(c);c=l.from(S,"binary")}r(c)&&(I=!0,typeof c=="string"&&(c=l.from(c,"binary"))),I||(l.isBuffer(c)&&(c=c.toString(f.encoding)),c=c.trim());try{var G=a.headers["content-type"];M=I?n(c):/json/.test(G)||c.charAt(0)==="{"?JSON.parse(c):/xml/.test(G)||c.charAt(0)==="<"?e(c):o(c)}catch(z){d(new Error("error parsing font "+z.message)),d=u}d(null,M)})}},5565:(_e,ie,j)=>{var l=j(8834).lW,_=j(5137),u=l.from([66,77,70,3]);_e.exports=function(o){return typeof o=="string"?o.substring(0,3)==="BMF":o.length>4&&_(o.slice(0,4),u)}},63:(_e,ie)=>{function j(l,_,u,o){for(var e=l[_++],n=1<<e,r=n+1,t=r+1,i=e+1,f=(1<<i)-1,d=0,m=0,a=0,c=l[_++],p=new Int32Array(4096),M=null;;){for(;d<16&&c!==0;)m|=l[_++]<<d,d+=8,c===1?c=l[_++]:--c;if(d<i)break;var I=m&f;if(m>>=i,d-=i,I!==n){if(I===r)break;for(var S=I<t?I:M,G=0,z=S;z>n;)z=p[z]>>8,++G;var y=z;if(a+G+(S!==I?1:0)>o)return void console.log("Warning, gif stream longer than expected.");u[a++]=y;var b=a+=G;for(S!==I&&(u[a++]=y),z=S;G--;)z=p[z],u[--b]=255&z,z>>=8;M!==null&&t<4096&&(p[t++]=M<<8|y,t>=f+1&&i<12&&(++i,f=f<<1|1)),M=I}else t=r+1,f=(1<<(i=e+1))-1,M=null}return a!==o&&console.log("Warning, gif stream shorter than expected."),u}try{ie.N=function(l){var _=0;if(l[_++]!==71||l[_++]!==73||l[_++]!==70||l[_++]!==56||(l[_++]+1&253)!=56||l[_++]!==97)throw new Error("Invalid GIF 87a/89a header.");var u=l[_++]|l[_++]<<8,o=l[_++]|l[_++]<<8,e=l[_++],n=e>>7,r=1<<1+(7&e);l[_++],l[_++];var t=null,i=null;n&&(t=_,i=r,_+=3*r);var f=!0,d=[],m=0,a=null,c=0,p=null;for(this.width=u,this.height=o;f&&_<l.length;)switch(l[_++]){case 33:switch(l[_++]){case 255:if(l[_]!==11||l[_+1]==78&&l[_+2]==69&&l[_+3]==84&&l[_+4]==83&&l[_+5]==67&&l[_+6]==65&&l[_+7]==80&&l[_+8]==69&&l[_+9]==50&&l[_+10]==46&&l[_+11]==48&&l[_+12]==3&&l[_+13]==1&&l[_+16]==0)_+=14,p=l[_++]|l[_++]<<8,_++;else for(_+=12;;){if(!((k=l[_++])>=0))throw Error("Invalid block size");if(k===0)break;_+=k}break;case 249:if(l[_++]!==4||l[_+4]!==0)throw new Error("Invalid graphics extension block.");var M=l[_++];m=l[_++]|l[_++]<<8,a=l[_++],!(1&M)&&(a=null),c=M>>2&7,_++;break;case 254:for(;;){if(!((k=l[_++])>=0))throw Error("Invalid block size");if(k===0)break;_+=k}break;default:throw new Error("Unknown graphic control label: 0x"+l[_-1].toString(16))}break;case 44:var I=l[_++]|l[_++]<<8,S=l[_++]|l[_++]<<8,G=l[_++]|l[_++]<<8,z=l[_++]|l[_++]<<8,y=l[_++],b=y>>6&1,B=1<<1+(7&y),H=t,R=i,T=!1;y>>7&&(T=!0,H=_,R=B,_+=3*B);var C=_;for(_++;;){var k;if(!((k=l[_++])>=0))throw Error("Invalid block size");if(k===0)break;_+=k}d.push({x:I,y:S,width:G,height:z,has_local_palette:T,palette_offset:H,palette_size:R,data_offset:C,data_length:_-C,transparent_index:a,interlaced:!!b,delay:m,disposal:c});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+l[_-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return p},this.frameInfo=function(te){if(te<0||te>=d.length)throw new Error("Frame index out of range.");return d[te]},this.decodeAndBlitFrameBGRA=function(te,V){var Q=this.frameInfo(te),W=Q.width*Q.height,L=new Uint8Array(W);j(l,Q.data_offset,L,W);var Y=Q.palette_offset,O=Q.transparent_index;O===null&&(O=256);var D=Q.width,re=u-D,ae=D,he=4*(Q.y*u+Q.x),v=4*((Q.y+Q.height)*u+Q.x),A=he,P=4*re;Q.interlaced===!0&&(P+=4*u*7);for(var X=8,s=0,h=L.length;s<h;++s){var g=L[s];if(ae===0&&(ae=D,(A+=P)>=v&&(P=4*re+4*u*(X-1),A=he+(D+re)*(X<<1),X>>=1)),g===O)A+=4;else{var U=l[Y+3*g],K=l[Y+3*g+1],E=l[Y+3*g+2];V[A++]=E,V[A++]=K,V[A++]=U,V[A++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(te,V){var Q=this.frameInfo(te),W=Q.width*Q.height,L=new Uint8Array(W);j(l,Q.data_offset,L,W);var Y=Q.palette_offset,O=Q.transparent_index;O===null&&(O=256);var D=Q.width,re=u-D,ae=D,he=4*(Q.y*u+Q.x),v=4*((Q.y+Q.height)*u+Q.x),A=he,P=4*re;Q.interlaced===!0&&(P+=4*u*7);for(var X=8,s=0,h=L.length;s<h;++s){var g=L[s];if(ae===0&&(ae=D,(A+=P)>=v&&(P=4*re+4*u*(X-1),A=he+(D+re)*(X<<1),X>>=1)),g===O)A+=4;else{var U=l[Y+3*g],K=l[Y+3*g+1],E=l[Y+3*g+2];V[A++]=U,V[A++]=K,V[A++]=E,V[A++]=255}--ae}}}}catch{}},2845:(_e,ie,j)=>{var l={};(0,j(9761).assign)(l,j(9880),j(1380),j(1271)),_e.exports=l},9880:(_e,ie,j)=>{var l=j(5789),_=j(9761),u=j(7944),o=j(2950),e=j(744),n=Object.prototype.toString,r=0,t=-1,i=0,f=8;function d(a){if(!(this instanceof d))return new d(a);this.options=_.assign({level:t,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:i,to:""},a||{});var c=this.options;c.raw&&c.windowBits>0?c.windowBits=-c.windowBits:c.gzip&&c.windowBits>0&&c.windowBits<16&&(c.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new e,this.strm.avail_out=0;var p=l.deflateInit2(this.strm,c.level,c.method,c.windowBits,c.memLevel,c.strategy);if(p!==r)throw new Error(o[p]);if(c.header&&l.deflateSetHeader(this.strm,c.header),c.dictionary){var M;if(M=typeof c.dictionary=="string"?u.string2buf(c.dictionary):n.call(c.dictionary)==="[object ArrayBuffer]"?new Uint8Array(c.dictionary):c.dictionary,(p=l.deflateSetDictionary(this.strm,M))!==r)throw new Error(o[p]);this._dict_set=!0}}function m(a,c){var p=new d(c);if(p.push(a,!0),p.err)throw p.msg||o[p.err];return p.result}d.prototype.push=function(a,c){var p,M,I=this.strm,S=this.options.chunkSize;if(this.ended)return!1;M=c===~~c?c:c===!0?4:0,typeof a=="string"?I.input=u.string2buf(a):n.call(a)==="[object ArrayBuffer]"?I.input=new Uint8Array(a):I.input=a,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new _.Buf8(S),I.next_out=0,I.avail_out=S),(p=l.deflate(I,M))!==1&&p!==r)return this.onEnd(p),this.ended=!0,!1;I.avail_out!==0&&(I.avail_in!==0||M!==4&&M!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(_.shrinkBuf(I.output,I.next_out))):this.onData(_.shrinkBuf(I.output,I.next_out)))}while((I.avail_in>0||I.avail_out===0)&&p!==1);return M===4?(p=l.deflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===r):M!==2||(this.onEnd(r),I.avail_out=0,!0)},d.prototype.onData=function(a){this.chunks.push(a)},d.prototype.onEnd=function(a){a===r&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},ie.Deflate=d,ie.deflate=m,ie.deflateRaw=function(a,c){return(c=c||{}).raw=!0,m(a,c)},ie.gzip=function(a,c){return(c=c||{}).gzip=!0,m(a,c)}},1380:(_e,ie,j)=>{var l=j(5020),_=j(9761),u=j(7944),o=j(1271),e=j(2950),n=j(744),r=j(7357),t=Object.prototype.toString;function i(d){if(!(this instanceof i))return new i(d);this.options=_.assign({chunkSize:16384,windowBits:0,to:""},d||{});var m=this.options;m.raw&&m.windowBits>=0&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(m.windowBits>=0&&m.windowBits<16)||d&&d.windowBits||(m.windowBits+=32),m.windowBits>15&&m.windowBits<48&&!(15&m.windowBits)&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new n,this.strm.avail_out=0;var a=l.inflateInit2(this.strm,m.windowBits);if(a!==o.Z_OK)throw new Error(e[a]);if(this.header=new r,l.inflateGetHeader(this.strm,this.header),m.dictionary&&(typeof m.dictionary=="string"?m.dictionary=u.string2buf(m.dictionary):t.call(m.dictionary)==="[object ArrayBuffer]"&&(m.dictionary=new Uint8Array(m.dictionary)),m.raw&&(a=l.inflateSetDictionary(this.strm,m.dictionary))!==o.Z_OK))throw new Error(e[a])}function f(d,m){var a=new i(m);if(a.push(d,!0),a.err)throw a.msg||e[a.err];return a.result}i.prototype.push=function(d,m){var a,c,p,M,I,S=this.strm,G=this.options.chunkSize,z=this.options.dictionary,y=!1;if(this.ended)return!1;c=m===~~m?m:m===!0?o.Z_FINISH:o.Z_NO_FLUSH,typeof d=="string"?S.input=u.binstring2buf(d):t.call(d)==="[object ArrayBuffer]"?S.input=new Uint8Array(d):S.input=d,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new _.Buf8(G),S.next_out=0,S.avail_out=G),(a=l.inflate(S,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&z&&(a=l.inflateSetDictionary(this.strm,z)),a===o.Z_BUF_ERROR&&y===!0&&(a=o.Z_OK,y=!1),a!==o.Z_STREAM_END&&a!==o.Z_OK)return this.onEnd(a),this.ended=!0,!1;S.next_out&&(S.avail_out!==0&&a!==o.Z_STREAM_END&&(S.avail_in!==0||c!==o.Z_FINISH&&c!==o.Z_SYNC_FLUSH)||(this.options.to==="string"?(p=u.utf8border(S.output,S.next_out),M=S.next_out-p,I=u.buf2string(S.output,p),S.next_out=M,S.avail_out=G-M,M&&_.arraySet(S.output,S.output,p,M,0),this.onData(I)):this.onData(_.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(y=!0)}while((S.avail_in>0||S.avail_out===0)&&a!==o.Z_STREAM_END);return a===o.Z_STREAM_END&&(c=o.Z_FINISH),c===o.Z_FINISH?(a=l.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===o.Z_OK):c!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),S.avail_out=0,!0)},i.prototype.onData=function(d){this.chunks.push(d)},i.prototype.onEnd=function(d){d===o.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},ie.Inflate=i,ie.inflate=f,ie.inflateRaw=function(d,m){return(m=m||{}).raw=!0,f(d,m)},ie.ungzip=f},9761:(_e,ie)=>{var j=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function l(o,e){return Object.prototype.hasOwnProperty.call(o,e)}ie.assign=function(o){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(var r in n)l(n,r)&&(o[r]=n[r])}}return o},ie.shrinkBuf=function(o,e){return o.length===e?o:o.subarray?o.subarray(0,e):(o.length=e,o)};var _={arraySet:function(o,e,n,r,t){if(e.subarray&&o.subarray)o.set(e.subarray(n,n+r),t);else for(var i=0;i<r;i++)o[t+i]=e[n+i]},flattenChunks:function(o){var e,n,r,t,i,f;for(r=0,e=0,n=o.length;e<n;e++)r+=o[e].length;for(f=new Uint8Array(r),t=0,e=0,n=o.length;e<n;e++)i=o[e],f.set(i,t),t+=i.length;return f}},u={arraySet:function(o,e,n,r,t){for(var i=0;i<r;i++)o[t+i]=e[n+i]},flattenChunks:function(o){return[].concat.apply([],o)}};ie.setTyped=function(o){o?(ie.Buf8=Uint8Array,ie.Buf16=Uint16Array,ie.Buf32=Int32Array,ie.assign(ie,_)):(ie.Buf8=Array,ie.Buf16=Array,ie.Buf32=Array,ie.assign(ie,u))},ie.setTyped(j)},7944:(_e,ie,j)=>{var l=j(9761),_=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{_=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var o=new l.Buf8(256),e=0;e<256;e++)o[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;function n(r,t){if(t<65534&&(r.subarray&&u||!r.subarray&&_))return String.fromCharCode.apply(null,l.shrinkBuf(r,t));for(var i="",f=0;f<t;f++)i+=String.fromCharCode(r[f]);return i}o[254]=o[254]=1,ie.string2buf=function(r){var t,i,f,d,m,a=r.length,c=0;for(d=0;d<a;d++)(64512&(i=r.charCodeAt(d)))==55296&&d+1<a&&(64512&(f=r.charCodeAt(d+1)))==56320&&(i=65536+(i-55296<<10)+(f-56320),d++),c+=i<128?1:i<2048?2:i<65536?3:4;for(t=new l.Buf8(c),m=0,d=0;m<c;d++)(64512&(i=r.charCodeAt(d)))==55296&&d+1<a&&(64512&(f=r.charCodeAt(d+1)))==56320&&(i=65536+(i-55296<<10)+(f-56320),d++),i<128?t[m++]=i:i<2048?(t[m++]=192|i>>>6,t[m++]=128|63&i):i<65536?(t[m++]=224|i>>>12,t[m++]=128|i>>>6&63,t[m++]=128|63&i):(t[m++]=240|i>>>18,t[m++]=128|i>>>12&63,t[m++]=128|i>>>6&63,t[m++]=128|63&i);return t},ie.buf2binstring=function(r){return n(r,r.length)},ie.binstring2buf=function(r){for(var t=new l.Buf8(r.length),i=0,f=t.length;i<f;i++)t[i]=r.charCodeAt(i);return t},ie.buf2string=function(r,t){var i,f,d,m,a=t||r.length,c=new Array(2*a);for(f=0,i=0;i<a;)if((d=r[i++])<128)c[f++]=d;else if((m=o[d])>4)c[f++]=65533,i+=m-1;else{for(d&=m===2?31:m===3?15:7;m>1&&i<a;)d=d<<6|63&r[i++],m--;m>1?c[f++]=65533:d<65536?c[f++]=d:(d-=65536,c[f++]=55296|d>>10&1023,c[f++]=56320|1023&d)}return n(c,f)},ie.utf8border=function(r,t){var i;for((t=t||r.length)>r.length&&(t=r.length),i=t-1;i>=0&&(192&r[i])==128;)i--;return i<0||i===0?t:i+o[r[i]]>t?i:t}},5562:_e=>{_e.exports=function(ie,j,l,_){for(var u=65535&ie|0,o=ie>>>16&65535|0,e=0;l!==0;){l-=e=l>2e3?2e3:l;do o=o+(u=u+j[_++]|0)|0;while(--e);u%=65521,o%=65521}return u|o<<16|0}},1271:_e=>{_e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},4299:_e=>{var ie=function(){for(var j,l=[],_=0;_<256;_++){j=_;for(var u=0;u<8;u++)j=1&j?3988292384^j>>>1:j>>>1;l[_]=j}return l}();_e.exports=function(j,l,_,u){var o=ie,e=u+_;j^=-1;for(var n=u;n<e;n++)j=j>>>8^o[255&(j^l[n])];return-1^j}},5789:(_e,ie,j)=>{var l,_=j(9761),u=j(9564),o=j(5562),e=j(4299),n=j(2950),r=0,t=4,i=0,f=-2,d=-1,m=1,a=4,c=2,p=8,M=9,I=286,S=30,G=19,z=2*I+1,y=15,b=3,B=258,H=B+b+1,R=42,T=103,C=113,k=666,te=1,V=2,Q=3,W=4;function L(E,J){return E.msg=n[J],J}function Y(E){return(E<<1)-(E>4?9:0)}function O(E){for(var J=E.length;--J>=0;)E[J]=0}function D(E){var J=E.state,oe=J.pending;oe>E.avail_out&&(oe=E.avail_out),oe!==0&&(_.arraySet(E.output,J.pending_buf,J.pending_out,oe,E.next_out),E.next_out+=oe,J.pending_out+=oe,E.total_out+=oe,E.avail_out-=oe,J.pending-=oe,J.pending===0&&(J.pending_out=0))}function re(E,J){u._tr_flush_block(E,E.block_start>=0?E.block_start:-1,E.strstart-E.block_start,J),E.block_start=E.strstart,D(E.strm)}function ae(E,J){E.pending_buf[E.pending++]=J}function he(E,J){E.pending_buf[E.pending++]=J>>>8&255,E.pending_buf[E.pending++]=255&J}function v(E,J){var oe,Z,de=E.max_chain_length,ge=E.strstart,xe=E.prev_length,we=E.nice_match,ne=E.strstart>E.w_size-H?E.strstart-(E.w_size-H):0,fe=E.window,be=E.w_mask,Se=E.prev,me=E.strstart+B,Me=fe[ge+xe-1],ke=fe[ge+xe];E.prev_length>=E.good_match&&(de>>=2),we>E.lookahead&&(we=E.lookahead);do if(fe[(oe=J)+xe]===ke&&fe[oe+xe-1]===Me&&fe[oe]===fe[ge]&&fe[++oe]===fe[ge+1]){ge+=2,oe++;do;while(fe[++ge]===fe[++oe]&&fe[++ge]===fe[++oe]&&fe[++ge]===fe[++oe]&&fe[++ge]===fe[++oe]&&fe[++ge]===fe[++oe]&&fe[++ge]===fe[++oe]&&fe[++ge]===fe[++oe]&&fe[++ge]===fe[++oe]&&ge<me);if(Z=B-(me-ge),ge=me-B,Z>xe){if(E.match_start=J,xe=Z,Z>=we)break;Me=fe[ge+xe-1],ke=fe[ge+xe]}}while((J=Se[J&be])>ne&&--de!=0);return xe<=E.lookahead?xe:E.lookahead}function A(E){var J,oe,Z,de,ge,xe,we,ne,fe,be,Se=E.w_size;do{if(de=E.window_size-E.lookahead-E.strstart,E.strstart>=Se+(Se-H)){_.arraySet(E.window,E.window,Se,Se,0),E.match_start-=Se,E.strstart-=Se,E.block_start-=Se,J=oe=E.hash_size;do Z=E.head[--J],E.head[J]=Z>=Se?Z-Se:0;while(--oe);J=oe=Se;do Z=E.prev[--J],E.prev[J]=Z>=Se?Z-Se:0;while(--oe);de+=Se}if(E.strm.avail_in===0)break;if(xe=E.strm,we=E.window,ne=E.strstart+E.lookahead,fe=de,be=void 0,(be=xe.avail_in)>fe&&(be=fe),oe=be===0?0:(xe.avail_in-=be,_.arraySet(we,xe.input,xe.next_in,be,ne),xe.state.wrap===1?xe.adler=o(xe.adler,we,be,ne):xe.state.wrap===2&&(xe.adler=e(xe.adler,we,be,ne)),xe.next_in+=be,xe.total_in+=be,be),E.lookahead+=oe,E.lookahead+E.insert>=b)for(ge=E.strstart-E.insert,E.ins_h=E.window[ge],E.ins_h=(E.ins_h<<E.hash_shift^E.window[ge+1])&E.hash_mask;E.insert&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[ge+b-1])&E.hash_mask,E.prev[ge&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=ge,ge++,E.insert--,!(E.lookahead+E.insert<b)););}while(E.lookahead<H&&E.strm.avail_in!==0)}function P(E,J){for(var oe,Z;;){if(E.lookahead<H){if(A(E),E.lookahead<H&&J===r)return te;if(E.lookahead===0)break}if(oe=0,E.lookahead>=b&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+b-1])&E.hash_mask,oe=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),oe!==0&&E.strstart-oe<=E.w_size-H&&(E.match_length=v(E,oe)),E.match_length>=b)if(Z=u._tr_tally(E,E.strstart-E.match_start,E.match_length-b),E.lookahead-=E.match_length,E.match_length<=E.max_lazy_match&&E.lookahead>=b){E.match_length--;do E.strstart++,E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+b-1])&E.hash_mask,oe=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart;while(--E.match_length!=0);E.strstart++}else E.strstart+=E.match_length,E.match_length=0,E.ins_h=E.window[E.strstart],E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+1])&E.hash_mask;else Z=u._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++;if(Z&&(re(E,!1),E.strm.avail_out===0))return te}return E.insert=E.strstart<b-1?E.strstart:b-1,J===t?(re(E,!0),E.strm.avail_out===0?Q:W):E.last_lit&&(re(E,!1),E.strm.avail_out===0)?te:V}function X(E,J){for(var oe,Z,de;;){if(E.lookahead<H){if(A(E),E.lookahead<H&&J===r)return te;if(E.lookahead===0)break}if(oe=0,E.lookahead>=b&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+b-1])&E.hash_mask,oe=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),E.prev_length=E.match_length,E.prev_match=E.match_start,E.match_length=b-1,oe!==0&&E.prev_length<E.max_lazy_match&&E.strstart-oe<=E.w_size-H&&(E.match_length=v(E,oe),E.match_length<=5&&(E.strategy===m||E.match_length===b&&E.strstart-E.match_start>4096)&&(E.match_length=b-1)),E.prev_length>=b&&E.match_length<=E.prev_length){de=E.strstart+E.lookahead-b,Z=u._tr_tally(E,E.strstart-1-E.prev_match,E.prev_length-b),E.lookahead-=E.prev_length-1,E.prev_length-=2;do++E.strstart<=de&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+b-1])&E.hash_mask,oe=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart);while(--E.prev_length!=0);if(E.match_available=0,E.match_length=b-1,E.strstart++,Z&&(re(E,!1),E.strm.avail_out===0))return te}else if(E.match_available){if((Z=u._tr_tally(E,0,E.window[E.strstart-1]))&&re(E,!1),E.strstart++,E.lookahead--,E.strm.avail_out===0)return te}else E.match_available=1,E.strstart++,E.lookahead--}return E.match_available&&(Z=u._tr_tally(E,0,E.window[E.strstart-1]),E.match_available=0),E.insert=E.strstart<b-1?E.strstart:b-1,J===t?(re(E,!0),E.strm.avail_out===0?Q:W):E.last_lit&&(re(E,!1),E.strm.avail_out===0)?te:V}function s(E,J,oe,Z,de){this.good_length=E,this.max_lazy=J,this.nice_length=oe,this.max_chain=Z,this.func=de}function h(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=p,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new _.Buf16(2*z),this.dyn_dtree=new _.Buf16(2*(2*S+1)),this.bl_tree=new _.Buf16(2*(2*G+1)),O(this.dyn_ltree),O(this.dyn_dtree),O(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new _.Buf16(y+1),this.heap=new _.Buf16(2*I+1),O(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new _.Buf16(2*I+1),O(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function g(E){var J;return E&&E.state?(E.total_in=E.total_out=0,E.data_type=c,(J=E.state).pending=0,J.pending_out=0,J.wrap<0&&(J.wrap=-J.wrap),J.status=J.wrap?R:C,E.adler=J.wrap===2?0:1,J.last_flush=r,u._tr_init(J),i):L(E,f)}function U(E){var J,oe=g(E);return oe===i&&((J=E.state).window_size=2*J.w_size,O(J.head),J.max_lazy_match=l[J.level].max_lazy,J.good_match=l[J.level].good_length,J.nice_match=l[J.level].nice_length,J.max_chain_length=l[J.level].max_chain,J.strstart=0,J.block_start=0,J.lookahead=0,J.insert=0,J.match_length=J.prev_length=b-1,J.match_available=0,J.ins_h=0),oe}function K(E,J,oe,Z,de,ge){if(!E)return f;var xe=1;if(J===d&&(J=6),Z<0?(xe=0,Z=-Z):Z>15&&(xe=2,Z-=16),de<1||de>M||oe!==p||Z<8||Z>15||J<0||J>9||ge<0||ge>a)return L(E,f);Z===8&&(Z=9);var we=new h;return E.state=we,we.strm=E,we.wrap=xe,we.gzhead=null,we.w_bits=Z,we.w_size=1<<we.w_bits,we.w_mask=we.w_size-1,we.hash_bits=de+7,we.hash_size=1<<we.hash_bits,we.hash_mask=we.hash_size-1,we.hash_shift=~~((we.hash_bits+b-1)/b),we.window=new _.Buf8(2*we.w_size),we.head=new _.Buf16(we.hash_size),we.prev=new _.Buf16(we.w_size),we.lit_bufsize=1<<de+6,we.pending_buf_size=4*we.lit_bufsize,we.pending_buf=new _.Buf8(we.pending_buf_size),we.d_buf=1*we.lit_bufsize,we.l_buf=3*we.lit_bufsize,we.level=J,we.strategy=ge,we.method=oe,U(E)}l=[new s(0,0,0,0,function(E,J){var oe=65535;for(oe>E.pending_buf_size-5&&(oe=E.pending_buf_size-5);;){if(E.lookahead<=1){if(A(E),E.lookahead===0&&J===r)return te;if(E.lookahead===0)break}E.strstart+=E.lookahead,E.lookahead=0;var Z=E.block_start+oe;if((E.strstart===0||E.strstart>=Z)&&(E.lookahead=E.strstart-Z,E.strstart=Z,re(E,!1),E.strm.avail_out===0)||E.strstart-E.block_start>=E.w_size-H&&(re(E,!1),E.strm.avail_out===0))return te}return E.insert=0,J===t?(re(E,!0),E.strm.avail_out===0?Q:W):(E.strstart>E.block_start&&(re(E,!1),E.strm.avail_out),te)}),new s(4,4,8,4,P),new s(4,5,16,8,P),new s(4,6,32,32,P),new s(4,4,16,16,X),new s(8,16,32,32,X),new s(8,16,128,128,X),new s(8,32,128,256,X),new s(32,128,258,1024,X),new s(32,258,258,4096,X)],ie.deflateInit=function(E,J){return K(E,J,p,15,8,0)},ie.deflateInit2=K,ie.deflateReset=U,ie.deflateResetKeep=g,ie.deflateSetHeader=function(E,J){return E&&E.state?E.state.wrap!==2?f:(E.state.gzhead=J,i):f},ie.deflate=function(E,J){var oe,Z,de,ge;if(!E||!E.state||J>5||J<0)return E?L(E,f):f;if(Z=E.state,!E.output||!E.input&&E.avail_in!==0||Z.status===k&&J!==t)return L(E,E.avail_out===0?-5:f);if(Z.strm=E,oe=Z.last_flush,Z.last_flush=J,Z.status===R)if(Z.wrap===2)E.adler=0,ae(Z,31),ae(Z,139),ae(Z,8),Z.gzhead?(ae(Z,(Z.gzhead.text?1:0)+(Z.gzhead.hcrc?2:0)+(Z.gzhead.extra?4:0)+(Z.gzhead.name?8:0)+(Z.gzhead.comment?16:0)),ae(Z,255&Z.gzhead.time),ae(Z,Z.gzhead.time>>8&255),ae(Z,Z.gzhead.time>>16&255),ae(Z,Z.gzhead.time>>24&255),ae(Z,Z.level===9?2:Z.strategy>=2||Z.level<2?4:0),ae(Z,255&Z.gzhead.os),Z.gzhead.extra&&Z.gzhead.extra.length&&(ae(Z,255&Z.gzhead.extra.length),ae(Z,Z.gzhead.extra.length>>8&255)),Z.gzhead.hcrc&&(E.adler=e(E.adler,Z.pending_buf,Z.pending,0)),Z.gzindex=0,Z.status=69):(ae(Z,0),ae(Z,0),ae(Z,0),ae(Z,0),ae(Z,0),ae(Z,Z.level===9?2:Z.strategy>=2||Z.level<2?4:0),ae(Z,3),Z.status=C);else{var xe=p+(Z.w_bits-8<<4)<<8;xe|=(Z.strategy>=2||Z.level<2?0:Z.level<6?1:Z.level===6?2:3)<<6,Z.strstart!==0&&(xe|=32),xe+=31-xe%31,Z.status=C,he(Z,xe),Z.strstart!==0&&(he(Z,E.adler>>>16),he(Z,65535&E.adler)),E.adler=1}if(Z.status===69)if(Z.gzhead.extra){for(de=Z.pending;Z.gzindex<(65535&Z.gzhead.extra.length)&&(Z.pending!==Z.pending_buf_size||(Z.gzhead.hcrc&&Z.pending>de&&(E.adler=e(E.adler,Z.pending_buf,Z.pending-de,de)),D(E),de=Z.pending,Z.pending!==Z.pending_buf_size));)ae(Z,255&Z.gzhead.extra[Z.gzindex]),Z.gzindex++;Z.gzhead.hcrc&&Z.pending>de&&(E.adler=e(E.adler,Z.pending_buf,Z.pending-de,de)),Z.gzindex===Z.gzhead.extra.length&&(Z.gzindex=0,Z.status=73)}else Z.status=73;if(Z.status===73)if(Z.gzhead.name){de=Z.pending;do{if(Z.pending===Z.pending_buf_size&&(Z.gzhead.hcrc&&Z.pending>de&&(E.adler=e(E.adler,Z.pending_buf,Z.pending-de,de)),D(E),de=Z.pending,Z.pending===Z.pending_buf_size)){ge=1;break}ge=Z.gzindex<Z.gzhead.name.length?255&Z.gzhead.name.charCodeAt(Z.gzindex++):0,ae(Z,ge)}while(ge!==0);Z.gzhead.hcrc&&Z.pending>de&&(E.adler=e(E.adler,Z.pending_buf,Z.pending-de,de)),ge===0&&(Z.gzindex=0,Z.status=91)}else Z.status=91;if(Z.status===91)if(Z.gzhead.comment){de=Z.pending;do{if(Z.pending===Z.pending_buf_size&&(Z.gzhead.hcrc&&Z.pending>de&&(E.adler=e(E.adler,Z.pending_buf,Z.pending-de,de)),D(E),de=Z.pending,Z.pending===Z.pending_buf_size)){ge=1;break}ge=Z.gzindex<Z.gzhead.comment.length?255&Z.gzhead.comment.charCodeAt(Z.gzindex++):0,ae(Z,ge)}while(ge!==0);Z.gzhead.hcrc&&Z.pending>de&&(E.adler=e(E.adler,Z.pending_buf,Z.pending-de,de)),ge===0&&(Z.status=T)}else Z.status=T;if(Z.status===T&&(Z.gzhead.hcrc?(Z.pending+2>Z.pending_buf_size&&D(E),Z.pending+2<=Z.pending_buf_size&&(ae(Z,255&E.adler),ae(Z,E.adler>>8&255),E.adler=0,Z.status=C)):Z.status=C),Z.pending!==0){if(D(E),E.avail_out===0)return Z.last_flush=-1,i}else if(E.avail_in===0&&Y(J)<=Y(oe)&&J!==t)return L(E,-5);if(Z.status===k&&E.avail_in!==0)return L(E,-5);if(E.avail_in!==0||Z.lookahead!==0||J!==r&&Z.status!==k){var we=Z.strategy===2?function(ne,fe){for(var be;;){if(ne.lookahead===0&&(A(ne),ne.lookahead===0)){if(fe===r)return te;break}if(ne.match_length=0,be=u._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++,be&&(re(ne,!1),ne.strm.avail_out===0))return te}return ne.insert=0,fe===t?(re(ne,!0),ne.strm.avail_out===0?Q:W):ne.last_lit&&(re(ne,!1),ne.strm.avail_out===0)?te:V}(Z,J):Z.strategy===3?function(ne,fe){for(var be,Se,me,Me,ke=ne.window;;){if(ne.lookahead<=B){if(A(ne),ne.lookahead<=B&&fe===r)return te;if(ne.lookahead===0)break}if(ne.match_length=0,ne.lookahead>=b&&ne.strstart>0&&(Se=ke[me=ne.strstart-1])===ke[++me]&&Se===ke[++me]&&Se===ke[++me]){Me=ne.strstart+B;do;while(Se===ke[++me]&&Se===ke[++me]&&Se===ke[++me]&&Se===ke[++me]&&Se===ke[++me]&&Se===ke[++me]&&Se===ke[++me]&&Se===ke[++me]&&me<Me);ne.match_length=B-(Me-me),ne.match_length>ne.lookahead&&(ne.match_length=ne.lookahead)}if(ne.match_length>=b?(be=u._tr_tally(ne,1,ne.match_length-b),ne.lookahead-=ne.match_length,ne.strstart+=ne.match_length,ne.match_length=0):(be=u._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++),be&&(re(ne,!1),ne.strm.avail_out===0))return te}return ne.insert=0,fe===t?(re(ne,!0),ne.strm.avail_out===0?Q:W):ne.last_lit&&(re(ne,!1),ne.strm.avail_out===0)?te:V}(Z,J):l[Z.level].func(Z,J);if(we!==Q&&we!==W||(Z.status=k),we===te||we===Q)return E.avail_out===0&&(Z.last_flush=-1),i;if(we===V&&(J===1?u._tr_align(Z):J!==5&&(u._tr_stored_block(Z,0,0,!1),J===3&&(O(Z.head),Z.lookahead===0&&(Z.strstart=0,Z.block_start=0,Z.insert=0))),D(E),E.avail_out===0))return Z.last_flush=-1,i}return J!==t?i:Z.wrap<=0?1:(Z.wrap===2?(ae(Z,255&E.adler),ae(Z,E.adler>>8&255),ae(Z,E.adler>>16&255),ae(Z,E.adler>>24&255),ae(Z,255&E.total_in),ae(Z,E.total_in>>8&255),ae(Z,E.total_in>>16&255),ae(Z,E.total_in>>24&255)):(he(Z,E.adler>>>16),he(Z,65535&E.adler)),D(E),Z.wrap>0&&(Z.wrap=-Z.wrap),Z.pending!==0?i:1)},ie.deflateEnd=function(E){var J;return E&&E.state?(J=E.state.status)!==R&&J!==69&&J!==73&&J!==91&&J!==T&&J!==C&&J!==k?L(E,f):(E.state=null,J===C?L(E,-3):i):f},ie.deflateSetDictionary=function(E,J){var oe,Z,de,ge,xe,we,ne,fe,be=J.length;if(!E||!E.state||(ge=(oe=E.state).wrap)===2||ge===1&&oe.status!==R||oe.lookahead)return f;for(ge===1&&(E.adler=o(E.adler,J,be,0)),oe.wrap=0,be>=oe.w_size&&(ge===0&&(O(oe.head),oe.strstart=0,oe.block_start=0,oe.insert=0),fe=new _.Buf8(oe.w_size),_.arraySet(fe,J,be-oe.w_size,oe.w_size,0),J=fe,be=oe.w_size),xe=E.avail_in,we=E.next_in,ne=E.input,E.avail_in=be,E.next_in=0,E.input=J,A(oe);oe.lookahead>=b;){Z=oe.strstart,de=oe.lookahead-(b-1);do oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[Z+b-1])&oe.hash_mask,oe.prev[Z&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=Z,Z++;while(--de);oe.strstart=Z,oe.lookahead=b-1,A(oe)}return oe.strstart+=oe.lookahead,oe.block_start=oe.strstart,oe.insert=oe.lookahead,oe.lookahead=0,oe.match_length=oe.prev_length=b-1,oe.match_available=0,E.next_in=we,E.input=ne,E.avail_in=xe,oe.wrap=ge,i},ie.deflateInfo="pako deflate (from Nodeca project)"},7357:_e=>{_e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},4980:_e=>{_e.exports=function(ie,j){var l,_,u,o,e,n,r,t,i,f,d,m,a,c,p,M,I,S,G,z,y,b,B,H,R;l=ie.state,_=ie.next_in,H=ie.input,u=_+(ie.avail_in-5),o=ie.next_out,R=ie.output,e=o-(j-ie.avail_out),n=o+(ie.avail_out-257),r=l.dmax,t=l.wsize,i=l.whave,f=l.wnext,d=l.window,m=l.hold,a=l.bits,c=l.lencode,p=l.distcode,M=(1<<l.lenbits)-1,I=(1<<l.distbits)-1;e:do{a<15&&(m+=H[_++]<<a,a+=8,m+=H[_++]<<a,a+=8),S=c[m&M];t:for(;;){if(m>>>=G=S>>>24,a-=G,(G=S>>>16&255)==0)R[o++]=65535&S;else{if(!(16&G)){if(!(64&G)){S=c[(65535&S)+(m&(1<<G)-1)];continue t}if(32&G){l.mode=12;break e}ie.msg="invalid literal/length code",l.mode=30;break e}z=65535&S,(G&=15)&&(a<G&&(m+=H[_++]<<a,a+=8),z+=m&(1<<G)-1,m>>>=G,a-=G),a<15&&(m+=H[_++]<<a,a+=8,m+=H[_++]<<a,a+=8),S=p[m&I];r:for(;;){if(m>>>=G=S>>>24,a-=G,!(16&(G=S>>>16&255))){if(!(64&G)){S=p[(65535&S)+(m&(1<<G)-1)];continue r}ie.msg="invalid distance code",l.mode=30;break e}if(y=65535&S,a<(G&=15)&&(m+=H[_++]<<a,(a+=8)<G&&(m+=H[_++]<<a,a+=8)),(y+=m&(1<<G)-1)>r){ie.msg="invalid distance too far back",l.mode=30;break e}if(m>>>=G,a-=G,y>(G=o-e)){if((G=y-G)>i&&l.sane){ie.msg="invalid distance too far back",l.mode=30;break e}if(b=0,B=d,f===0){if(b+=t-G,G<z){z-=G;do R[o++]=d[b++];while(--G);b=o-y,B=R}}else if(f<G){if(b+=t+f-G,(G-=f)<z){z-=G;do R[o++]=d[b++];while(--G);if(b=0,f<z){z-=G=f;do R[o++]=d[b++];while(--G);b=o-y,B=R}}}else if(b+=f-G,G<z){z-=G;do R[o++]=d[b++];while(--G);b=o-y,B=R}for(;z>2;)R[o++]=B[b++],R[o++]=B[b++],R[o++]=B[b++],z-=3;z&&(R[o++]=B[b++],z>1&&(R[o++]=B[b++]))}else{b=o-y;do R[o++]=R[b++],R[o++]=R[b++],R[o++]=R[b++],z-=3;while(z>2);z&&(R[o++]=R[b++],z>1&&(R[o++]=R[b++]))}break}}break}}while(_<u&&o<n);_-=z=a>>3,m&=(1<<(a-=z<<3))-1,ie.next_in=_,ie.next_out=o,ie.avail_in=_<u?u-_+5:5-(_-u),ie.avail_out=o<n?n-o+257:257-(o-n),l.hold=m,l.bits=a}},5020:(_e,ie,j)=>{var l=j(9761),_=j(5562),u=j(4299),o=j(4980),e=j(881),n=1,r=2,t=0,i=-2,f=1,d=12,m=30,a=852,c=592;function p(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function M(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function I(T){var C;return T&&T.state?(C=T.state,T.total_in=T.total_out=C.total=0,T.msg="",C.wrap&&(T.adler=1&C.wrap),C.mode=f,C.last=0,C.havedict=0,C.dmax=32768,C.head=null,C.hold=0,C.bits=0,C.lencode=C.lendyn=new l.Buf32(a),C.distcode=C.distdyn=new l.Buf32(c),C.sane=1,C.back=-1,t):i}function S(T){var C;return T&&T.state?((C=T.state).wsize=0,C.whave=0,C.wnext=0,I(T)):i}function G(T,C){var k,te;return T&&T.state?(te=T.state,C<0?(k=0,C=-C):(k=1+(C>>4),C<48&&(C&=15)),C&&(C<8||C>15)?i:(te.window!==null&&te.wbits!==C&&(te.window=null),te.wrap=k,te.wbits=C,S(T))):i}function z(T,C){var k,te;return T?(te=new M,T.state=te,te.window=null,(k=G(T,C))!==t&&(T.state=null),k):i}var y,b,B=!0;function H(T){if(B){var C;for(y=new l.Buf32(512),b=new l.Buf32(32),C=0;C<144;)T.lens[C++]=8;for(;C<256;)T.lens[C++]=9;for(;C<280;)T.lens[C++]=7;for(;C<288;)T.lens[C++]=8;for(e(n,T.lens,0,288,y,0,T.work,{bits:9}),C=0;C<32;)T.lens[C++]=5;e(r,T.lens,0,32,b,0,T.work,{bits:5}),B=!1}T.lencode=y,T.lenbits=9,T.distcode=b,T.distbits=5}function R(T,C,k,te){var V,Q=T.state;return Q.window===null&&(Q.wsize=1<<Q.wbits,Q.wnext=0,Q.whave=0,Q.window=new l.Buf8(Q.wsize)),te>=Q.wsize?(l.arraySet(Q.window,C,k-Q.wsize,Q.wsize,0),Q.wnext=0,Q.whave=Q.wsize):((V=Q.wsize-Q.wnext)>te&&(V=te),l.arraySet(Q.window,C,k-te,V,Q.wnext),(te-=V)?(l.arraySet(Q.window,C,k-te,te,0),Q.wnext=te,Q.whave=Q.wsize):(Q.wnext+=V,Q.wnext===Q.wsize&&(Q.wnext=0),Q.whave<Q.wsize&&(Q.whave+=V))),0}ie.inflateReset=S,ie.inflateReset2=G,ie.inflateResetKeep=I,ie.inflateInit=function(T){return z(T,15)},ie.inflateInit2=z,ie.inflate=function(T,C){var k,te,V,Q,W,L,Y,O,D,re,ae,he,v,A,P,X,s,h,g,U,K,E,J,oe,Z=0,de=new l.Buf8(4),ge=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return i;(k=T.state).mode===d&&(k.mode=13),W=T.next_out,V=T.output,Y=T.avail_out,Q=T.next_in,te=T.input,L=T.avail_in,O=k.hold,D=k.bits,re=L,ae=Y,E=t;e:for(;;)switch(k.mode){case f:if(k.wrap===0){k.mode=13;break}for(;D<16;){if(L===0)break e;L--,O+=te[Q++]<<D,D+=8}if(2&k.wrap&&O===35615){k.check=0,de[0]=255&O,de[1]=O>>>8&255,k.check=u(k.check,de,2,0),O=0,D=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&O)<<8)+(O>>8))%31){T.msg="incorrect header check",k.mode=m;break}if((15&O)!=8){T.msg="unknown compression method",k.mode=m;break}if(D-=4,K=8+(15&(O>>>=4)),k.wbits===0)k.wbits=K;else if(K>k.wbits){T.msg="invalid window size",k.mode=m;break}k.dmax=1<<K,T.adler=k.check=1,k.mode=512&O?10:d,O=0,D=0;break;case 2:for(;D<16;){if(L===0)break e;L--,O+=te[Q++]<<D,D+=8}if(k.flags=O,(255&k.flags)!=8){T.msg="unknown compression method",k.mode=m;break}if(57344&k.flags){T.msg="unknown header flags set",k.mode=m;break}k.head&&(k.head.text=O>>8&1),512&k.flags&&(de[0]=255&O,de[1]=O>>>8&255,k.check=u(k.check,de,2,0)),O=0,D=0,k.mode=3;case 3:for(;D<32;){if(L===0)break e;L--,O+=te[Q++]<<D,D+=8}k.head&&(k.head.time=O),512&k.flags&&(de[0]=255&O,de[1]=O>>>8&255,de[2]=O>>>16&255,de[3]=O>>>24&255,k.check=u(k.check,de,4,0)),O=0,D=0,k.mode=4;case 4:for(;D<16;){if(L===0)break e;L--,O+=te[Q++]<<D,D+=8}k.head&&(k.head.xflags=255&O,k.head.os=O>>8),512&k.flags&&(de[0]=255&O,de[1]=O>>>8&255,k.check=u(k.check,de,2,0)),O=0,D=0,k.mode=5;case 5:if(1024&k.flags){for(;D<16;){if(L===0)break e;L--,O+=te[Q++]<<D,D+=8}k.length=O,k.head&&(k.head.extra_len=O),512&k.flags&&(de[0]=255&O,de[1]=O>>>8&255,k.check=u(k.check,de,2,0)),O=0,D=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&((he=k.length)>L&&(he=L),he&&(k.head&&(K=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),l.arraySet(k.head.extra,te,Q,he,K)),512&k.flags&&(k.check=u(k.check,te,he,Q)),L-=he,Q+=he,k.length-=he),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(L===0)break e;he=0;do K=te[Q+he++],k.head&&K&&k.length<65536&&(k.head.name+=String.fromCharCode(K));while(K&&he<L);if(512&k.flags&&(k.check=u(k.check,te,he,Q)),L-=he,Q+=he,K)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(L===0)break e;he=0;do K=te[Q+he++],k.head&&K&&k.length<65536&&(k.head.comment+=String.fromCharCode(K));while(K&&he<L);if(512&k.flags&&(k.check=u(k.check,te,he,Q)),L-=he,Q+=he,K)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;D<16;){if(L===0)break e;L--,O+=te[Q++]<<D,D+=8}if(O!==(65535&k.check)){T.msg="header crc mismatch",k.mode=m;break}O=0,D=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),T.adler=k.check=0,k.mode=d;break;case 10:for(;D<32;){if(L===0)break e;L--,O+=te[Q++]<<D,D+=8}T.adler=k.check=p(O),O=0,D=0,k.mode=11;case 11:if(k.havedict===0)return T.next_out=W,T.avail_out=Y,T.next_in=Q,T.avail_in=L,k.hold=O,k.bits=D,2;T.adler=k.check=1,k.mode=d;case d:if(C===5||C===6)break e;case 13:if(k.last){O>>>=7&D,D-=7&D,k.mode=27;break}for(;D<3;){if(L===0)break e;L--,O+=te[Q++]<<D,D+=8}switch(k.last=1&O,D-=1,3&(O>>>=1)){case 0:k.mode=14;break;case 1:if(H(k),k.mode=20,C===6){O>>>=2,D-=2;break e}break;case 2:k.mode=17;break;case 3:T.msg="invalid block type",k.mode=m}O>>>=2,D-=2;break;case 14:for(O>>>=7&D,D-=7&D;D<32;){if(L===0)break e;L--,O+=te[Q++]<<D,D+=8}if((65535&O)!=(O>>>16^65535)){T.msg="invalid stored block lengths",k.mode=m;break}if(k.length=65535&O,O=0,D=0,k.mode=15,C===6)break e;case 15:k.mode=16;case 16:if(he=k.length){if(he>L&&(he=L),he>Y&&(he=Y),he===0)break e;l.arraySet(V,te,Q,he,W),L-=he,Q+=he,Y-=he,W+=he,k.length-=he;break}k.mode=d;break;case 17:for(;D<14;){if(L===0)break e;L--,O+=te[Q++]<<D,D+=8}if(k.nlen=257+(31&O),O>>>=5,D-=5,k.ndist=1+(31&O),O>>>=5,D-=5,k.ncode=4+(15&O),O>>>=4,D-=4,k.nlen>286||k.ndist>30){T.msg="too many length or distance symbols",k.mode=m;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;D<3;){if(L===0)break e;L--,O+=te[Q++]<<D,D+=8}k.lens[ge[k.have++]]=7&O,O>>>=3,D-=3}for(;k.have<19;)k.lens[ge[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,J={bits:k.lenbits},E=e(0,k.lens,0,19,k.lencode,0,k.work,J),k.lenbits=J.bits,E){T.msg="invalid code lengths set",k.mode=m;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;X=(Z=k.lencode[O&(1<<k.lenbits)-1])>>>16&255,s=65535&Z,!((P=Z>>>24)<=D);){if(L===0)break e;L--,O+=te[Q++]<<D,D+=8}if(s<16)O>>>=P,D-=P,k.lens[k.have++]=s;else{if(s===16){for(oe=P+2;D<oe;){if(L===0)break e;L--,O+=te[Q++]<<D,D+=8}if(O>>>=P,D-=P,k.have===0){T.msg="invalid bit length repeat",k.mode=m;break}K=k.lens[k.have-1],he=3+(3&O),O>>>=2,D-=2}else if(s===17){for(oe=P+3;D<oe;){if(L===0)break e;L--,O+=te[Q++]<<D,D+=8}D-=P,K=0,he=3+(7&(O>>>=P)),O>>>=3,D-=3}else{for(oe=P+7;D<oe;){if(L===0)break e;L--,O+=te[Q++]<<D,D+=8}D-=P,K=0,he=11+(127&(O>>>=P)),O>>>=7,D-=7}if(k.have+he>k.nlen+k.ndist){T.msg="invalid bit length repeat",k.mode=m;break}for(;he--;)k.lens[k.have++]=K}}if(k.mode===m)break;if(k.lens[256]===0){T.msg="invalid code -- missing end-of-block",k.mode=m;break}if(k.lenbits=9,J={bits:k.lenbits},E=e(n,k.lens,0,k.nlen,k.lencode,0,k.work,J),k.lenbits=J.bits,E){T.msg="invalid literal/lengths set",k.mode=m;break}if(k.distbits=6,k.distcode=k.distdyn,J={bits:k.distbits},E=e(r,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,J),k.distbits=J.bits,E){T.msg="invalid distances set",k.mode=m;break}if(k.mode=20,C===6)break e;case 20:k.mode=21;case 21:if(L>=6&&Y>=258){T.next_out=W,T.avail_out=Y,T.next_in=Q,T.avail_in=L,k.hold=O,k.bits=D,o(T,ae),W=T.next_out,V=T.output,Y=T.avail_out,Q=T.next_in,te=T.input,L=T.avail_in,O=k.hold,D=k.bits,k.mode===d&&(k.back=-1);break}for(k.back=0;X=(Z=k.lencode[O&(1<<k.lenbits)-1])>>>16&255,s=65535&Z,!((P=Z>>>24)<=D);){if(L===0)break e;L--,O+=te[Q++]<<D,D+=8}if(X&&!(240&X)){for(h=P,g=X,U=s;X=(Z=k.lencode[U+((O&(1<<h+g)-1)>>h)])>>>16&255,s=65535&Z,!(h+(P=Z>>>24)<=D);){if(L===0)break e;L--,O+=te[Q++]<<D,D+=8}O>>>=h,D-=h,k.back+=h}if(O>>>=P,D-=P,k.back+=P,k.length=s,X===0){k.mode=26;break}if(32&X){k.back=-1,k.mode=d;break}if(64&X){T.msg="invalid literal/length code",k.mode=m;break}k.extra=15&X,k.mode=22;case 22:if(k.extra){for(oe=k.extra;D<oe;){if(L===0)break e;L--,O+=te[Q++]<<D,D+=8}k.length+=O&(1<<k.extra)-1,O>>>=k.extra,D-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;X=(Z=k.distcode[O&(1<<k.distbits)-1])>>>16&255,s=65535&Z,!((P=Z>>>24)<=D);){if(L===0)break e;L--,O+=te[Q++]<<D,D+=8}if(!(240&X)){for(h=P,g=X,U=s;X=(Z=k.distcode[U+((O&(1<<h+g)-1)>>h)])>>>16&255,s=65535&Z,!(h+(P=Z>>>24)<=D);){if(L===0)break e;L--,O+=te[Q++]<<D,D+=8}O>>>=h,D-=h,k.back+=h}if(O>>>=P,D-=P,k.back+=P,64&X){T.msg="invalid distance code",k.mode=m;break}k.offset=s,k.extra=15&X,k.mode=24;case 24:if(k.extra){for(oe=k.extra;D<oe;){if(L===0)break e;L--,O+=te[Q++]<<D,D+=8}k.offset+=O&(1<<k.extra)-1,O>>>=k.extra,D-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){T.msg="invalid distance too far back",k.mode=m;break}k.mode=25;case 25:if(Y===0)break e;if(he=ae-Y,k.offset>he){if((he=k.offset-he)>k.whave&&k.sane){T.msg="invalid distance too far back",k.mode=m;break}he>k.wnext?(he-=k.wnext,v=k.wsize-he):v=k.wnext-he,he>k.length&&(he=k.length),A=k.window}else A=V,v=W-k.offset,he=k.length;he>Y&&(he=Y),Y-=he,k.length-=he;do V[W++]=A[v++];while(--he);k.length===0&&(k.mode=21);break;case 26:if(Y===0)break e;V[W++]=k.length,Y--,k.mode=21;break;case 27:if(k.wrap){for(;D<32;){if(L===0)break e;L--,O|=te[Q++]<<D,D+=8}if(ae-=Y,T.total_out+=ae,k.total+=ae,ae&&(T.adler=k.check=k.flags?u(k.check,V,ae,W-ae):_(k.check,V,ae,W-ae)),ae=Y,(k.flags?O:p(O))!==k.check){T.msg="incorrect data check",k.mode=m;break}O=0,D=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;D<32;){if(L===0)break e;L--,O+=te[Q++]<<D,D+=8}if(O!==(4294967295&k.total)){T.msg="incorrect length check",k.mode=m;break}O=0,D=0}k.mode=29;case 29:E=1;break e;case m:E=-3;break e;case 31:return-4;default:return i}return T.next_out=W,T.avail_out=Y,T.next_in=Q,T.avail_in=L,k.hold=O,k.bits=D,(k.wsize||ae!==T.avail_out&&k.mode<m&&(k.mode<27||C!==4))&&R(T,T.output,T.next_out,ae-T.avail_out)?(k.mode=31,-4):(re-=T.avail_in,ae-=T.avail_out,T.total_in+=re,T.total_out+=ae,k.total+=ae,k.wrap&&ae&&(T.adler=k.check=k.flags?u(k.check,V,ae,T.next_out-ae):_(k.check,V,ae,T.next_out-ae)),T.data_type=k.bits+(k.last?64:0)+(k.mode===d?128:0)+(k.mode===20||k.mode===15?256:0),(re===0&&ae===0||C===4)&&E===t&&(E=-5),E)},ie.inflateEnd=function(T){if(!T||!T.state)return i;var C=T.state;return C.window&&(C.window=null),T.state=null,t},ie.inflateGetHeader=function(T,C){var k;return T&&T.state&&2&(k=T.state).wrap?(k.head=C,C.done=!1,t):i},ie.inflateSetDictionary=function(T,C){var k,te=C.length;return T&&T.state?(k=T.state).wrap!==0&&k.mode!==11?i:k.mode===11&&_(1,C,te,0)!==k.check?-3:R(T,C,te,te)?(k.mode=31,-4):(k.havedict=1,t):i},ie.inflateInfo="pako inflate (from Nodeca project)"},881:(_e,ie,j)=>{var l=j(9761),_=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],e=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];_e.exports=function(n,r,t,i,f,d,m,a){var c,p,M,I,S,G,z,y,b,B=a.bits,H=0,R=0,T=0,C=0,k=0,te=0,V=0,Q=0,W=0,L=0,Y=null,O=0,D=new l.Buf16(16),re=new l.Buf16(16),ae=null,he=0;for(H=0;H<=15;H++)D[H]=0;for(R=0;R<i;R++)D[r[t+R]]++;for(k=B,C=15;C>=1&&D[C]===0;C--);if(k>C&&(k=C),C===0)return f[d++]=20971520,f[d++]=20971520,a.bits=1,0;for(T=1;T<C&&D[T]===0;T++);for(k<T&&(k=T),Q=1,H=1;H<=15;H++)if(Q<<=1,(Q-=D[H])<0)return-1;if(Q>0&&(n===0||C!==1))return-1;for(re[1]=0,H=1;H<15;H++)re[H+1]=re[H]+D[H];for(R=0;R<i;R++)r[t+R]!==0&&(m[re[r[t+R]]++]=R);if(n===0?(Y=ae=m,G=19):n===1?(Y=_,O-=257,ae=u,he-=257,G=256):(Y=o,ae=e,G=-1),L=0,R=0,H=T,S=d,te=k,V=0,M=-1,I=(W=1<<k)-1,n===1&&W>852||n===2&&W>592)return 1;for(;;){z=H-V,m[R]<G?(y=0,b=m[R]):m[R]>G?(y=ae[he+m[R]],b=Y[O+m[R]]):(y=96,b=0),c=1<<H-V,T=p=1<<te;do f[S+(L>>V)+(p-=c)]=z<<24|y<<16|b|0;while(p!==0);for(c=1<<H-1;L&c;)c>>=1;if(c!==0?(L&=c-1,L+=c):L=0,R++,--D[H]==0){if(H===C)break;H=r[t+m[R]]}if(H>k&&(L&I)!==M){for(V===0&&(V=k),S+=T,Q=1<<(te=H-V);te+V<C&&!((Q-=D[te+V])<=0);)te++,Q<<=1;if(W+=1<<te,n===1&&W>852||n===2&&W>592)return 1;f[M=L&I]=k<<24|te<<16|S-d|0}}return L!==0&&(f[S+L]=H-V<<24|4194304|0),a.bits=k,0}},2950:_e=>{_e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},9564:(_e,ie,j)=>{var l=j(9761);function _(g){for(var U=g.length;--U>=0;)g[U]=0}var u=0,o=256,e=o+1+29,n=30,r=19,t=2*e+1,i=15,f=16,d=256,m=16,a=17,c=18,p=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(2*(e+2));_(G);var z=new Array(2*n);_(z);var y=new Array(512);_(y);var b=new Array(256);_(b);var B=new Array(29);_(B);var H,R,T,C=new Array(n);function k(g,U,K,E,J){this.static_tree=g,this.extra_bits=U,this.extra_base=K,this.elems=E,this.max_length=J,this.has_stree=g&&g.length}function te(g,U){this.dyn_tree=g,this.max_code=0,this.stat_desc=U}function V(g){return g<256?y[g]:y[256+(g>>>7)]}function Q(g,U){g.pending_buf[g.pending++]=255&U,g.pending_buf[g.pending++]=U>>>8&255}function W(g,U,K){g.bi_valid>f-K?(g.bi_buf|=U<<g.bi_valid&65535,Q(g,g.bi_buf),g.bi_buf=U>>f-g.bi_valid,g.bi_valid+=K-f):(g.bi_buf|=U<<g.bi_valid&65535,g.bi_valid+=K)}function L(g,U,K){W(g,K[2*U],K[2*U+1])}function Y(g,U){var K=0;do K|=1&g,g>>>=1,K<<=1;while(--U>0);return K>>>1}function O(g,U,K){var E,J,oe=new Array(i+1),Z=0;for(E=1;E<=i;E++)oe[E]=Z=Z+K[E-1]<<1;for(J=0;J<=U;J++){var de=g[2*J+1];de!==0&&(g[2*J]=Y(oe[de]++,de))}}function D(g){var U;for(U=0;U<e;U++)g.dyn_ltree[2*U]=0;for(U=0;U<n;U++)g.dyn_dtree[2*U]=0;for(U=0;U<r;U++)g.bl_tree[2*U]=0;g.dyn_ltree[2*d]=1,g.opt_len=g.static_len=0,g.last_lit=g.matches=0}function re(g){g.bi_valid>8?Q(g,g.bi_buf):g.bi_valid>0&&(g.pending_buf[g.pending++]=g.bi_buf),g.bi_buf=0,g.bi_valid=0}function ae(g,U,K,E){var J=2*U,oe=2*K;return g[J]<g[oe]||g[J]===g[oe]&&E[U]<=E[K]}function he(g,U,K){for(var E=g.heap[K],J=K<<1;J<=g.heap_len&&(J<g.heap_len&&ae(U,g.heap[J+1],g.heap[J],g.depth)&&J++,!ae(U,E,g.heap[J],g.depth));)g.heap[K]=g.heap[J],K=J,J<<=1;g.heap[K]=E}function v(g,U,K){var E,J,oe,Z,de=0;if(g.last_lit!==0)do E=g.pending_buf[g.d_buf+2*de]<<8|g.pending_buf[g.d_buf+2*de+1],J=g.pending_buf[g.l_buf+de],de++,E===0?L(g,J,U):(L(g,(oe=b[J])+o+1,U),(Z=p[oe])!==0&&W(g,J-=B[oe],Z),L(g,oe=V(--E),K),(Z=M[oe])!==0&&W(g,E-=C[oe],Z));while(de<g.last_lit);L(g,d,U)}function A(g,U){var K,E,J,oe=U.dyn_tree,Z=U.stat_desc.static_tree,de=U.stat_desc.has_stree,ge=U.stat_desc.elems,xe=-1;for(g.heap_len=0,g.heap_max=t,K=0;K<ge;K++)oe[2*K]!==0?(g.heap[++g.heap_len]=xe=K,g.depth[K]=0):oe[2*K+1]=0;for(;g.heap_len<2;)oe[2*(J=g.heap[++g.heap_len]=xe<2?++xe:0)]=1,g.depth[J]=0,g.opt_len--,de&&(g.static_len-=Z[2*J+1]);for(U.max_code=xe,K=g.heap_len>>1;K>=1;K--)he(g,oe,K);J=ge;do K=g.heap[1],g.heap[1]=g.heap[g.heap_len--],he(g,oe,1),E=g.heap[1],g.heap[--g.heap_max]=K,g.heap[--g.heap_max]=E,oe[2*J]=oe[2*K]+oe[2*E],g.depth[J]=(g.depth[K]>=g.depth[E]?g.depth[K]:g.depth[E])+1,oe[2*K+1]=oe[2*E+1]=J,g.heap[1]=J++,he(g,oe,1);while(g.heap_len>=2);g.heap[--g.heap_max]=g.heap[1],function(we,ne){var fe,be,Se,me,Me,ke,Re=ne.dyn_tree,Ce=ne.max_code,Ne=ne.stat_desc.static_tree,qe=ne.stat_desc.has_stree,F=ne.stat_desc.extra_bits,ye=ne.stat_desc.extra_base,$=ne.stat_desc.max_length,ce=0;for(me=0;me<=i;me++)we.bl_count[me]=0;for(Re[2*we.heap[we.heap_max]+1]=0,fe=we.heap_max+1;fe<t;fe++)(me=Re[2*Re[2*(be=we.heap[fe])+1]+1]+1)>$&&(me=$,ce++),Re[2*be+1]=me,be>Ce||(we.bl_count[me]++,Me=0,be>=ye&&(Me=F[be-ye]),ke=Re[2*be],we.opt_len+=ke*(me+Me),qe&&(we.static_len+=ke*(Ne[2*be+1]+Me)));if(ce!==0){do{for(me=$-1;we.bl_count[me]===0;)me--;we.bl_count[me]--,we.bl_count[me+1]+=2,we.bl_count[$]--,ce-=2}while(ce>0);for(me=$;me!==0;me--)for(be=we.bl_count[me];be!==0;)(Se=we.heap[--fe])>Ce||(Re[2*Se+1]!==me&&(we.opt_len+=(me-Re[2*Se+1])*Re[2*Se],Re[2*Se+1]=me),be--)}}(g,U),O(oe,xe,g.bl_count)}function P(g,U,K){var E,J,oe=-1,Z=U[1],de=0,ge=7,xe=4;for(Z===0&&(ge=138,xe=3),U[2*(K+1)+1]=65535,E=0;E<=K;E++)J=Z,Z=U[2*(E+1)+1],++de<ge&&J===Z||(de<xe?g.bl_tree[2*J]+=de:J!==0?(J!==oe&&g.bl_tree[2*J]++,g.bl_tree[2*m]++):de<=10?g.bl_tree[2*a]++:g.bl_tree[2*c]++,de=0,oe=J,Z===0?(ge=138,xe=3):J===Z?(ge=6,xe=3):(ge=7,xe=4))}function X(g,U,K){var E,J,oe=-1,Z=U[1],de=0,ge=7,xe=4;for(Z===0&&(ge=138,xe=3),E=0;E<=K;E++)if(J=Z,Z=U[2*(E+1)+1],!(++de<ge&&J===Z)){if(de<xe)do L(g,J,g.bl_tree);while(--de!=0);else J!==0?(J!==oe&&(L(g,J,g.bl_tree),de--),L(g,m,g.bl_tree),W(g,de-3,2)):de<=10?(L(g,a,g.bl_tree),W(g,de-3,3)):(L(g,c,g.bl_tree),W(g,de-11,7));de=0,oe=J,Z===0?(ge=138,xe=3):J===Z?(ge=6,xe=3):(ge=7,xe=4)}}_(C);var s=!1;function h(g,U,K,E){W(g,(u<<1)+(E?1:0),3),function(J,oe,Z,de){re(J),Q(J,Z),Q(J,~Z),l.arraySet(J.pending_buf,J.window,oe,Z,J.pending),J.pending+=Z}(g,U,K)}ie._tr_init=function(g){s||(function(){var U,K,E,J,oe,Z=new Array(i+1);for(E=0,J=0;J<28;J++)for(B[J]=E,U=0;U<1<<p[J];U++)b[E++]=J;for(b[E-1]=J,oe=0,J=0;J<16;J++)for(C[J]=oe,U=0;U<1<<M[J];U++)y[oe++]=J;for(oe>>=7;J<n;J++)for(C[J]=oe<<7,U=0;U<1<<M[J]-7;U++)y[256+oe++]=J;for(K=0;K<=i;K++)Z[K]=0;for(U=0;U<=143;)G[2*U+1]=8,U++,Z[8]++;for(;U<=255;)G[2*U+1]=9,U++,Z[9]++;for(;U<=279;)G[2*U+1]=7,U++,Z[7]++;for(;U<=287;)G[2*U+1]=8,U++,Z[8]++;for(O(G,e+1,Z),U=0;U<n;U++)z[2*U+1]=5,z[2*U]=Y(U,5);H=new k(G,p,o+1,e,i),R=new k(z,M,0,n,i),T=new k(new Array(0),I,0,r,7)}(),s=!0),g.l_desc=new te(g.dyn_ltree,H),g.d_desc=new te(g.dyn_dtree,R),g.bl_desc=new te(g.bl_tree,T),g.bi_buf=0,g.bi_valid=0,D(g)},ie._tr_stored_block=h,ie._tr_flush_block=function(g,U,K,E){var J,oe,Z=0;g.level>0?(g.strm.data_type===2&&(g.strm.data_type=function(de){var ge,xe=4093624447;for(ge=0;ge<=31;ge++,xe>>>=1)if(1&xe&&de.dyn_ltree[2*ge]!==0)return 0;if(de.dyn_ltree[18]!==0||de.dyn_ltree[20]!==0||de.dyn_ltree[26]!==0)return 1;for(ge=32;ge<o;ge++)if(de.dyn_ltree[2*ge]!==0)return 1;return 0}(g)),A(g,g.l_desc),A(g,g.d_desc),Z=function(de){var ge;for(P(de,de.dyn_ltree,de.l_desc.max_code),P(de,de.dyn_dtree,de.d_desc.max_code),A(de,de.bl_desc),ge=r-1;ge>=3&&de.bl_tree[2*S[ge]+1]===0;ge--);return de.opt_len+=3*(ge+1)+5+5+4,ge}(g),J=g.opt_len+3+7>>>3,(oe=g.static_len+3+7>>>3)<=J&&(J=oe)):J=oe=K+5,K+4<=J&&U!==-1?h(g,U,K,E):g.strategy===4||oe===J?(W(g,2+(E?1:0),3),v(g,G,z)):(W(g,4+(E?1:0),3),function(de,ge,xe,we){var ne;for(W(de,ge-257,5),W(de,xe-1,5),W(de,we-4,4),ne=0;ne<we;ne++)W(de,de.bl_tree[2*S[ne]+1],3);X(de,de.dyn_ltree,ge-1),X(de,de.dyn_dtree,xe-1)}(g,g.l_desc.max_code+1,g.d_desc.max_code+1,Z+1),v(g,g.dyn_ltree,g.dyn_dtree)),D(g),E&&re(g)},ie._tr_tally=function(g,U,K){return g.pending_buf[g.d_buf+2*g.last_lit]=U>>>8&255,g.pending_buf[g.d_buf+2*g.last_lit+1]=255&U,g.pending_buf[g.l_buf+g.last_lit]=255&K,g.last_lit++,U===0?g.dyn_ltree[2*K]++:(g.matches++,U--,g.dyn_ltree[2*(b[K]+o+1)]++,g.dyn_dtree[2*V(U)]++),g.last_lit===g.lit_bufsize-1},ie._tr_align=function(g){W(g,2,3),L(g,d,G),function(U){U.bi_valid===16?(Q(U,U.bi_buf),U.bi_buf=0,U.bi_valid=0):U.bi_valid>=8&&(U.pending_buf[U.pending++]=255&U.bi_buf,U.bi_buf>>=8,U.bi_valid-=8)}(g)}},744:_e=>{_e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},4398:_e=>{function ie(l,_){if(!(l=l.replace(/\t+/g," ").trim()))return null;var u=l.indexOf(" ");if(u===-1)throw new Error("no named row at line "+_);var o=l.substring(0,u);l=(l=(l=(l=l.substring(u+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map(function(i){return i.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var e=[],n=0;n<l.length;n++){var r=l[n];n===0?e.push({key:r[0],data:""}):n===l.length-1?e[e.length-1].data=j(r[0]):(e[e.length-1].data=j(r[0]),e.push({key:r[1],data:""}))}var t={key:o,data:{}};return e.forEach(function(i){t.data[i.key]=i.data}),t}function j(l){return l&&l.length!==0?l.indexOf('"')===0||l.indexOf("'")===0?l.substring(1,l.length-1):l.indexOf(",")!==-1?function(_){return _.split(",").map(function(u){return parseInt(u,10)})}(l):parseInt(l,10):""}_e.exports=function(l){if(!l)throw new Error("no data provided");var _={pages:[],chars:[],kernings:[]},u=(l=l.toString().trim()).split(/\r\n?|\n/g);if(u.length===0)throw new Error("no data in BMFont file");for(var o=0;o<u.length;o++){var e=ie(u[o],o);if(e)if(e.key==="page"){if(typeof e.data.id!="number")throw new Error("malformed file at line "+o+" -- needs page id=N");if(typeof e.data.file!="string")throw new Error("malformed file at line "+o+' -- needs page file="path"');_.pages[e.data.id]=e.data.file}else e.key==="chars"||e.key==="kernings"||(e.key==="char"?_.chars.push(e.data):e.key==="kerning"?_.kernings.push(e.data):_[e.key]=e.data)}return _}},8438:_e=>{var ie=[66,77,70];function j(_,u,o){if(o>u.length-1)return 0;var e=u.readUInt8(o++),n=u.readInt32LE(o);switch(o+=4,e){case 1:_.info=function(r,t){var i={};i.size=r.readInt16LE(t);var f=r.readUInt8(t+2);return i.smooth=f>>7&1,i.unicode=f>>6&1,i.italic=f>>5&1,i.bold=f>>4&1,f>>3&1&&(i.fixedHeight=1),i.charset=r.readUInt8(t+3)||"",i.stretchH=r.readUInt16LE(t+4),i.aa=r.readUInt8(t+6),i.padding=[r.readInt8(t+7),r.readInt8(t+8),r.readInt8(t+9),r.readInt8(t+10)],i.spacing=[r.readInt8(t+11),r.readInt8(t+12)],i.outline=r.readUInt8(t+13),i.face=function(d,m){return l(d,m).toString("utf8")}(r,t+14),i}(u,o);break;case 2:_.common=function(r,t){var i={};return i.lineHeight=r.readUInt16LE(t),i.base=r.readUInt16LE(t+2),i.scaleW=r.readUInt16LE(t+4),i.scaleH=r.readUInt16LE(t+6),i.pages=r.readUInt16LE(t+8),r.readUInt8(t+10),i.packed=0,i.alphaChnl=r.readUInt8(t+11),i.redChnl=r.readUInt8(t+12),i.greenChnl=r.readUInt8(t+13),i.blueChnl=r.readUInt8(t+14),i}(u,o);break;case 3:_.pages=function(r,t,i){for(var f=[],d=l(r,t),m=d.length+1,a=i/m,c=0;c<a;c++)f[c]=r.slice(t,t+d.length).toString("utf8"),t+=m;return f}(u,o,n);break;case 4:_.chars=function(r,t,i){for(var f=[],d=i/20,m=0;m<d;m++){var a={},c=20*m;a.id=r.readUInt32LE(t+0+c),a.x=r.readUInt16LE(t+4+c),a.y=r.readUInt16LE(t+6+c),a.width=r.readUInt16LE(t+8+c),a.height=r.readUInt16LE(t+10+c),a.xoffset=r.readInt16LE(t+12+c),a.yoffset=r.readInt16LE(t+14+c),a.xadvance=r.readInt16LE(t+16+c),a.page=r.readUInt8(t+18+c),a.chnl=r.readUInt8(t+19+c),f[m]=a}return f}(u,o,n);break;case 5:_.kernings=function(r,t,i){for(var f=[],d=i/10,m=0;m<d;m++){var a={},c=10*m;a.first=r.readUInt32LE(t+0+c),a.second=r.readUInt32LE(t+4+c),a.amount=r.readInt16LE(t+8+c),f[m]=a}return f}(u,o,n)}return 5+n}function l(_,u){for(var o=u;o<_.length&&_[o]!==0;o++);return _.slice(u,o)}_e.exports=function(_){if(_.length<6)throw new Error("invalid buffer length for BMFont");var u=ie.every(function(r,t){return _.readUInt8(t)===r});if(!u)throw new Error("BMFont missing BMF byte header");var o=3;if(_.readUInt8(o++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var e={kernings:[],chars:[]},n=0;n<5;n++)o+=j(e,_,o);return e}},5947:(_e,ie,j)=>{var l=j(403),_=j(1596),u={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};function o(e){var n=function(r){for(var t=[],i=0;i<r.attributes.length;i++)t.push(r.attributes[i]);return t}(e);return n.reduce(function(r,t){var i;return r[i=t.nodeName,u[i.toLowerCase()]||i]=t.nodeValue,r},{})}_e.exports=function(e){e=e.toString();var n=_(e),r={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(c){var p=n.getElementsByTagName(c)[0];p&&(r[c]=l(o(p)))});var t=n.getElementsByTagName("pages")[0];if(!t)throw new Error("malformed file -- no <pages> element");for(var i=t.getElementsByTagName("page"),f=0;f<i.length;f++){var d=i[f],m=parseInt(d.getAttribute("id"),10),a=d.getAttribute("file");if(isNaN(m))throw new Error('malformed file -- page "id" attribute is NaN');if(!a)throw new Error('malformed file -- needs page "file" attribute');r.pages[parseInt(m,10)]=a}return["chars","kernings"].forEach(function(c){var p=n.getElementsByTagName(c)[0];if(p)for(var M=c.substring(0,c.length-1),I=p.getElementsByTagName(M),S=0;S<I.length;S++){var G=I[S];r[c].push(l(o(G)))}}),r}},403:_e=>{var ie="chasrset";_e.exports=function(j){for(var l in ie in j&&(j.charset=j[ie],delete j[ie]),j)l!=="face"&&l!=="charset"&&(j[l]=l==="padding"||l==="spacing"?j[l].split(",").map(function(_){return parseInt(_,10)}):parseInt(j[l],10));return j}},4655:(_e,ie,j)=>{var l=j(311),_=j(3243);_e.exports=function(u){if(!u)return{};var o={};return _(l(u).split(`
`),function(e){var n,r=e.indexOf(":"),t=l(e.slice(0,r)).toLowerCase(),i=l(e.slice(r+1));o[t]===void 0?o[t]=i:(n=o[t],Object.prototype.toString.call(n)==="[object Array]"?o[t].push(i):o[t]=[o[t],i])}),o}},1023:(_e,ie,j)=>{var l=j(4406);function _(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function u(e,n){for(var r,t="",i=0,f=-1,d=0,m=0;m<=e.length;++m){if(m<e.length)r=e.charCodeAt(m);else{if(r===47)break;r=47}if(r===47){if(!(f===m-1||d===1))if(f!==m-1&&d===2){if(t.length<2||i!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var a=t.lastIndexOf("/");if(a!==t.length-1){a===-1?(t="",i=0):i=(t=t.slice(0,a)).length-1-t.lastIndexOf("/"),f=m,d=0;continue}}else if(t.length===2||t.length===1){t="",i=0,f=m,d=0;continue}}n&&(t.length>0?t+="/..":t="..",i=2)}else t.length>0?t+="/"+e.slice(f+1,m):t=e.slice(f+1,m),i=m-f-1;f=m,d=0}else r===46&&d!==-1?++d:d=-1}return t}var o={resolve:function(){for(var e,n="",r=!1,t=arguments.length-1;t>=-1&&!r;t--){var i;t>=0?i=arguments[t]:(e===void 0&&(e=l.cwd()),i=e),_(i),i.length!==0&&(n=i+"/"+n,r=i.charCodeAt(0)===47)}return n=u(n,!r),r?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(_(e),e.length===0)return".";var n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return(e=u(e,!n)).length!==0||n||(e="."),e.length>0&&r&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return _(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];_(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":o.normalize(e)},relative:function(e,n){if(_(e),_(n),e===n||(e=o.resolve(e))===(n=o.resolve(n)))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var t=e.length,i=t-r,f=1;f<n.length&&n.charCodeAt(f)===47;++f);for(var d=n.length-f,m=i<d?i:d,a=-1,c=0;c<=m;++c){if(c===m){if(d>m){if(n.charCodeAt(f+c)===47)return n.slice(f+c+1);if(c===0)return n.slice(f+c)}else i>m&&(e.charCodeAt(r+c)===47?a=c:c===0&&(a=0));break}var p=e.charCodeAt(r+c);if(p!==n.charCodeAt(f+c))break;p===47&&(a=c)}var M="";for(c=r+a+1;c<=t;++c)c!==t&&e.charCodeAt(c)!==47||(M.length===0?M+="..":M+="/..");return M.length>0?M+n.slice(f+a):(f+=a,n.charCodeAt(f)===47&&++f,n.slice(f))},_makeLong:function(e){return e},dirname:function(e){if(_(e),e.length===0)return".";for(var n=e.charCodeAt(0),r=n===47,t=-1,i=!0,f=e.length-1;f>=1;--f)if((n=e.charCodeAt(f))===47){if(!i){t=f;break}}else i=!1;return t===-1?r?"/":".":r&&t===1?"//":e.slice(0,t)},basename:function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');_(e);var r,t=0,i=-1,f=!0;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var d=n.length-1,m=-1;for(r=e.length-1;r>=0;--r){var a=e.charCodeAt(r);if(a===47){if(!f){t=r+1;break}}else m===-1&&(f=!1,m=r+1),d>=0&&(a===n.charCodeAt(d)?--d==-1&&(i=r):(d=-1,i=m))}return t===i?i=m:i===-1&&(i=e.length),e.slice(t,i)}for(r=e.length-1;r>=0;--r)if(e.charCodeAt(r)===47){if(!f){t=r+1;break}}else i===-1&&(f=!1,i=r+1);return i===-1?"":e.slice(t,i)},extname:function(e){_(e);for(var n=-1,r=0,t=-1,i=!0,f=0,d=e.length-1;d>=0;--d){var m=e.charCodeAt(d);if(m!==47)t===-1&&(i=!1,t=d+1),m===46?n===-1?n=d:f!==1&&(f=1):n!==-1&&(f=-1);else if(!i){r=d+1;break}}return n===-1||t===-1||f===0||f===1&&n===t-1&&n===r+1?"":e.slice(n,t)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(n,r){var t=r.dir||r.root,i=r.base||(r.name||"")+(r.ext||"");return t?t===r.root?t+i:t+"/"+i:i}(0,e)},parse:function(e){_(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var r,t=e.charCodeAt(0),i=t===47;i?(n.root="/",r=1):r=0;for(var f=-1,d=0,m=-1,a=!0,c=e.length-1,p=0;c>=r;--c)if((t=e.charCodeAt(c))!==47)m===-1&&(a=!1,m=c+1),t===46?f===-1?f=c:p!==1&&(p=1):f!==-1&&(p=-1);else if(!a){d=c+1;break}return f===-1||m===-1||p===0||p===1&&f===m-1&&f===d+1?m!==-1&&(n.base=n.name=d===0&&i?e.slice(1,m):e.slice(d,m)):(d===0&&i?(n.name=e.slice(1,f),n.base=e.slice(1,m)):(n.name=e.slice(d,f),n.base=e.slice(d,m)),n.ext=e.slice(f,m)),d>0?n.dir=e.slice(0,d-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,_e.exports=o},482:(_e,ie)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.Deferred=void 0,ie.Deferred=class{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((j,l)=>{this.reject=l,this.resolve=j})}}},5567:(_e,ie)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.EndOfStreamError=ie.defaultMessages=void 0,ie.defaultMessages="End-Of-Stream";class j extends Error{constructor(){super(ie.defaultMessages)}}ie.EndOfStreamError=j},4514:(_e,ie,j)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.StreamReader=ie.EndOfStreamError=void 0;const l=j(5567),_=j(482);var u=j(5567);Object.defineProperty(ie,"EndOfStreamError",{enumerable:!0,get:function(){return u.EndOfStreamError}}),ie.StreamReader=class{constructor(o){if(this.s=o,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!o.read||!o.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new l.EndOfStreamError)),this.s.once("error",e=>this.reject(e)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(o,e,n){const r=await this.read(o,e,n);return this.peekQueue.push(o.subarray(e,e+r)),r}async read(o,e,n){if(n===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new l.EndOfStreamError;let r=n,t=0;for(;this.peekQueue.length>0&&r>0;){const i=this.peekQueue.pop();if(!i)throw new Error("peekData should be defined");const f=Math.min(i.length,r);o.set(i.subarray(0,f),e+t),t+=f,r-=f,f<i.length&&this.peekQueue.push(i.subarray(f))}for(;r>0&&!this.endOfStream;){const i=Math.min(r,1048576),f=await this.readFromStream(o,e+t,i);if(t+=f,f<i)break;r-=f}return t}async readFromStream(o,e,n){const r=this.s.read(n);if(r)return o.set(r,e),r.length;{const t={buffer:o,offset:e,length:n,deferred:new _.Deferred};return this.deferred=t.deferred,this.s.once("readable",()=>{this.readDeferred(t)}),t.deferred.promise}}readDeferred(o){const e=this.s.read(o.length);e?(o.buffer.set(e,o.offset),o.deferred.resolve(e.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(o)})}reject(o){this.endOfStream=!0,this.deferred&&(this.deferred.reject(o),this.deferred=null)}}},4644:(_e,ie,j)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.StreamReader=ie.EndOfStreamError=void 0;var l=j(5567);Object.defineProperty(ie,"EndOfStreamError",{enumerable:!0,get:function(){return l.EndOfStreamError}});var _=j(4514);Object.defineProperty(ie,"StreamReader",{enumerable:!0,get:function(){return _.StreamReader}})},1294:_e=>{function ie(n,r,t,i,f,d){for(var m,a,c,p,M=Math.max(r-1,0),I=Math.max(t-1,0),S=Math.min(r+1,i-1),G=Math.min(t+1,f-1),z=4*(t*i+r),y=0,b=0,B=0,H=0,R=0,T=M;T<=S;T++)for(var C=I;C<=G;C++)if(T!==r||C!==t){var k=j(n,n,z,4*(C*i+T),!0);if(k===0?y++:k<0?B++:k>0&&b++,y>2)return!1;d&&(k<H&&(H=k,m=T,a=C),k>R&&(R=k,c=T,p=C))}return!d||B!==0&&b!==0&&(!ie(n,m,a,i,f)&&!ie(d,m,a,i,f)||!ie(n,c,p,i,f)&&!ie(d,c,p,i,f))}function j(n,r,t,i,f){var d=n[t+3]/255,m=r[i+3]/255,a=o(n[t+0],d),c=o(n[t+1],d),p=o(n[t+2],d),M=o(r[i+0],m),I=o(r[i+1],m),S=o(r[i+2],m),G=l(a,c,p)-l(M,I,S);if(f)return G;var z=_(a,c,p)-_(M,I,S),y=u(a,c,p)-u(M,I,S);return .5053*G*G+.299*z*z+.1957*y*y}function l(n,r,t){return .29889531*n+.58662247*r+.11448223*t}function _(n,r,t){return .59597799*n-.2741761*r-.32180189*t}function u(n,r,t){return .21147017*n-.52261711*r+.31114694*t}function o(n,r){return 255+(n-255)*r}function e(n,r,t,i,f){n[r+0]=t,n[r+1]=i,n[r+2]=f,n[r+3]=255}_e.exports=function(n,r,t,i,f,d){d||(d={});for(var m=d.threshold===void 0?.1:d.threshold,a=35215*m*m,c=0,p=0;p<f;p++)for(var M=0;M<i;M++){var I=4*(p*i+M);if(j(n,r,I,I)>a)d.includeAA||!ie(n,M,p,i,f,r)&&!ie(r,M,p,i,f,n)?(t&&e(t,I,255,0,0),c++):t&&e(t,I,255,255,0);else if(t){var S=o((y=(G=n)[(z=I)+3]/255,l(o(G[z+0],y),o(G[z+1],y),o(G[z+2],y))),.1);e(t,I,S,S,S)}}var G,z,y;return c}},9902:(_e,ie,j)=>{_e.exports=function l(_,u,o){function e(t,i){if(!u[t]){if(!_[t]){if(n)return n(t,!0);var f=new Error("Cannot find module '"+t+"'");throw f.code="MODULE_NOT_FOUND",f}var d=u[t]={exports:{}};_[t][0].call(d.exports,function(m){return e(_[t][1][m]||m)},d,d.exports,l,_,u,o)}return u[t].exports}for(var n=void 0,r=0;r<o.length;r++)e(o[r]);return e}({1:[function(l,_,u){(function(o){(function(){let e=l("./interlace"),n=[function(){},function(f,d,m,a){if(a===d.length)throw new Error("Ran out of data");let c=d[a];f[m]=c,f[m+1]=c,f[m+2]=c,f[m+3]=255},function(f,d,m,a){if(a+1>=d.length)throw new Error("Ran out of data");let c=d[a];f[m]=c,f[m+1]=c,f[m+2]=c,f[m+3]=d[a+1]},function(f,d,m,a){if(a+2>=d.length)throw new Error("Ran out of data");f[m]=d[a],f[m+1]=d[a+1],f[m+2]=d[a+2],f[m+3]=255},function(f,d,m,a){if(a+3>=d.length)throw new Error("Ran out of data");f[m]=d[a],f[m+1]=d[a+1],f[m+2]=d[a+2],f[m+3]=d[a+3]}],r=[function(){},function(f,d,m,a){let c=d[0];f[m]=c,f[m+1]=c,f[m+2]=c,f[m+3]=a},function(f,d,m){let a=d[0];f[m]=a,f[m+1]=a,f[m+2]=a,f[m+3]=d[1]},function(f,d,m,a){f[m]=d[0],f[m+1]=d[1],f[m+2]=d[2],f[m+3]=a},function(f,d,m){f[m]=d[0],f[m+1]=d[1],f[m+2]=d[2],f[m+3]=d[3]}];function t(f,d,m,a,c,p){let M=f.width,I=f.height,S=f.index;for(let G=0;G<I;G++)for(let z=0;z<M;z++){let y=m(z,G,S);n[a](d,c,y,p),p+=a}return p}function i(f,d,m,a,c,p){let M=f.width,I=f.height,S=f.index;for(let G=0;G<I;G++){for(let z=0;z<M;z++){let y=c.get(a),b=m(z,G,S);r[a](d,y,b,p)}c.resetAfterLine()}}u.dataToBitMap=function(f,d){let m,a,c=d.width,p=d.height,M=d.depth,I=d.bpp,S=d.interlace;M!==8&&(m=function(B,H){let R=[],T=0;function C(){if(T===B.length)throw new Error("Ran out of data");let k,te,V,Q,W,L,Y,O,D=B[T];switch(T++,H){default:throw new Error("unrecognised depth");case 16:Y=B[T],T++,R.push((D<<8)+Y);break;case 4:Y=15&D,O=D>>4,R.push(O,Y);break;case 2:W=3&D,L=D>>2&3,Y=D>>4&3,O=D>>6&3,R.push(O,Y,L,W);break;case 1:k=1&D,te=D>>1&1,V=D>>2&1,Q=D>>3&1,W=D>>4&1,L=D>>5&1,Y=D>>6&1,O=D>>7&1,R.push(O,Y,L,W,Q,V,te,k)}}return{get:function(k){for(;R.length<k;)C();let te=R.slice(0,k);return R=R.slice(k),te},resetAfterLine:function(){R.length=0},end:function(){if(T!==B.length)throw new Error("extra data found")}}}(f,M)),a=M<=8?o.alloc(c*p*4):new Uint16Array(c*p*4);let G,z,y=Math.pow(2,M)-1,b=0;if(S)G=e.getImagePasses(c,p),z=e.getInterlaceIterator(c,p);else{let B=0;z=function(){let H=B;return B+=4,H},G=[{width:c,height:p}]}for(let B=0;B<G.length;B++)M===8?b=t(G[B],a,z,I,f,b):i(G[B],a,z,I,m,y);if(M===8){if(b!==f.length)throw new Error("extra data found")}else m.end();return a}}).call(this)}).call(this,l("buffer").Buffer)},{"./interlace":11,buffer:33}],2:[function(l,_,u){(function(o){(function(){let e=l("./constants");_.exports=function(n,r,t,i){let f=[e.COLORTYPE_COLOR_ALPHA,e.COLORTYPE_ALPHA].indexOf(i.colorType)!==-1;if(i.colorType===i.inputColorType){let z=function(){let y=new ArrayBuffer(2);return new DataView(y).setInt16(0,256,!0),new Int16Array(y)[0]!==256}();if(i.bitDepth===8||i.bitDepth===16&&z)return n}let d=i.bitDepth!==16?n:new Uint16Array(n.buffer),m=255,a=e.COLORTYPE_TO_BPP_MAP[i.inputColorType];a!==4||i.inputHasAlpha||(a=3);let c=e.COLORTYPE_TO_BPP_MAP[i.colorType];i.bitDepth===16&&(m=65535,c*=2);let p=o.alloc(r*t*c),M=0,I=0,S=i.bgColor||{};function G(){let z,y,b,B=m;switch(i.inputColorType){case e.COLORTYPE_COLOR_ALPHA:B=d[M+3],z=d[M],y=d[M+1],b=d[M+2];break;case e.COLORTYPE_COLOR:z=d[M],y=d[M+1],b=d[M+2];break;case e.COLORTYPE_ALPHA:B=d[M+1],z=d[M],y=z,b=z;break;case e.COLORTYPE_GRAYSCALE:z=d[M],y=z,b=z;break;default:throw new Error("input color type:"+i.inputColorType+" is not supported at present")}return i.inputHasAlpha&&(f||(B/=m,z=Math.min(Math.max(Math.round((1-B)*S.red+B*z),0),m),y=Math.min(Math.max(Math.round((1-B)*S.green+B*y),0),m),b=Math.min(Math.max(Math.round((1-B)*S.blue+B*b),0),m))),{red:z,green:y,blue:b,alpha:B}}S.red===void 0&&(S.red=m),S.green===void 0&&(S.green=m),S.blue===void 0&&(S.blue=m);for(let z=0;z<t;z++)for(let y=0;y<r;y++){let b=G();switch(i.colorType){case e.COLORTYPE_COLOR_ALPHA:case e.COLORTYPE_COLOR:i.bitDepth===8?(p[I]=b.red,p[I+1]=b.green,p[I+2]=b.blue,f&&(p[I+3]=b.alpha)):(p.writeUInt16BE(b.red,I),p.writeUInt16BE(b.green,I+2),p.writeUInt16BE(b.blue,I+4),f&&p.writeUInt16BE(b.alpha,I+6));break;case e.COLORTYPE_ALPHA:case e.COLORTYPE_GRAYSCALE:{let B=(b.red+b.green+b.blue)/3;i.bitDepth===8?(p[I]=B,f&&(p[I+1]=b.alpha)):(p.writeUInt16BE(B,I),f&&p.writeUInt16BE(b.alpha,I+2));break}default:throw new Error("unrecognised color Type "+i.colorType)}M+=a,I+=c}return p}}).call(this)}).call(this,l("buffer").Buffer)},{"./constants":4,buffer:33}],3:[function(l,_,u){(function(o,e){(function(){let n=l("util"),r=l("stream"),t=_.exports=function(){r.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};n.inherits(t,r),t.prototype.read=function(i,f){this._reads.push({length:Math.abs(i),allowLess:i<0,func:f}),o.nextTick(function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))},t.prototype.write=function(i,f){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let d;return d=e.isBuffer(i)?i:e.from(i,f||this._encoding),this._buffers.push(d),this._buffered+=d.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused},t.prototype.end=function(i,f){i&&this.write(i,f),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))},t.prototype.destroySoon=t.prototype.end,t.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()},t.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},t.prototype._processReadAllowingLess=function(i){this._reads.shift();let f=this._buffers[0];f.length>i.length?(this._buffered-=i.length,this._buffers[0]=f.slice(i.length),i.func.call(this,f.slice(0,i.length))):(this._buffered-=f.length,this._buffers.shift(),i.func.call(this,f))},t.prototype._processRead=function(i){this._reads.shift();let f=0,d=0,m=e.alloc(i.length);for(;f<i.length;){let a=this._buffers[d++],c=Math.min(a.length,i.length-f);a.copy(m,f,0,c),f+=c,c!==a.length&&(this._buffers[--d]=a.slice(c))}d>0&&this._buffers.splice(0,d),this._buffered-=i.length,i.func.call(this,m)},t.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let i=this._reads[0];if(i.allowLess)this._processReadAllowingLess(i);else{if(!(this._buffered>=i.length))break;this._processRead(i)}}this._buffers&&!this.writable&&this._end()}catch(i){this.emit("error",i)}}}).call(this)}).call(this,l("_process"),l("buffer").Buffer)},{_process:60,buffer:33,stream:61,util:81}],4:[function(l,_,u){_.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],5:[function(l,_,u){let o=[];(function(){for(let n=0;n<256;n++){let r=n;for(let t=0;t<8;t++)1&r?r=3988292384^r>>>1:r>>>=1;o[n]=r}})();let e=_.exports=function(){this._crc=-1};e.prototype.write=function(n){for(let r=0;r<n.length;r++)this._crc=o[255&(this._crc^n[r])]^this._crc>>>8;return!0},e.prototype.crc32=function(){return-1^this._crc},e.crc32=function(n){let r=-1;for(let t=0;t<n.length;t++)r=o[255&(r^n[t])]^r>>>8;return-1^r}},{}],6:[function(l,_,u){(function(o){(function(){let e=l("./paeth-predictor"),n={0:function(t,i,f,d,m){for(let a=0;a<f;a++)d[m+a]=t[i+a]},1:function(t,i,f,d,m,a){for(let c=0;c<f;c++){let p=c>=a?t[i+c-a]:0,M=t[i+c]-p;d[m+c]=M}},2:function(t,i,f,d,m){for(let a=0;a<f;a++){let c=i>0?t[i+a-f]:0,p=t[i+a]-c;d[m+a]=p}},3:function(t,i,f,d,m,a){for(let c=0;c<f;c++){let p=c>=a?t[i+c-a]:0,M=i>0?t[i+c-f]:0,I=t[i+c]-(p+M>>1);d[m+c]=I}},4:function(t,i,f,d,m,a){for(let c=0;c<f;c++){let p=c>=a?t[i+c-a]:0,M=i>0?t[i+c-f]:0,I=i>0&&c>=a?t[i+c-(f+a)]:0,S=t[i+c]-e(p,M,I);d[m+c]=S}}},r={0:function(t,i,f){let d=0,m=i+f;for(let a=i;a<m;a++)d+=Math.abs(t[a]);return d},1:function(t,i,f,d){let m=0;for(let a=0;a<f;a++){let c=a>=d?t[i+a-d]:0,p=t[i+a]-c;m+=Math.abs(p)}return m},2:function(t,i,f){let d=0,m=i+f;for(let a=i;a<m;a++){let c=i>0?t[a-f]:0,p=t[a]-c;d+=Math.abs(p)}return d},3:function(t,i,f,d){let m=0;for(let a=0;a<f;a++){let c=a>=d?t[i+a-d]:0,p=i>0?t[i+a-f]:0,M=t[i+a]-(c+p>>1);m+=Math.abs(M)}return m},4:function(t,i,f,d){let m=0;for(let a=0;a<f;a++){let c=a>=d?t[i+a-d]:0,p=i>0?t[i+a-f]:0,M=i>0&&a>=d?t[i+a-(f+d)]:0,I=t[i+a]-e(c,p,M);m+=Math.abs(I)}return m}};_.exports=function(t,i,f,d,m){let a;if("filterType"in d&&d.filterType!==-1){if(typeof d.filterType!="number")throw new Error("unrecognised filter types");a=[d.filterType]}else a=[0,1,2,3,4];d.bitDepth===16&&(m*=2);let c=i*m,p=0,M=0,I=o.alloc((c+1)*f),S=a[0];for(let G=0;G<f;G++){if(a.length>1){let z=1/0;for(let y=0;y<a.length;y++){let b=r[a[y]](t,M,c,m);b<z&&(S=a[y],z=b)}}I[p]=S,p++,n[S](t,M,c,I,p,m),p+=c,M+=c}return I}}).call(this)}).call(this,l("buffer").Buffer)},{"./paeth-predictor":15,buffer:33}],7:[function(l,_,u){(function(o){(function(){let e=l("util"),n=l("./chunkstream"),r=l("./filter-parse"),t=_.exports=function(i){n.call(this);let f=[],d=this;this._filter=new r(i,{read:this.read.bind(this),write:function(m){f.push(m)},complete:function(){d.emit("complete",o.concat(f))}}),this._filter.start()};e.inherits(t,n)}).call(this)}).call(this,l("buffer").Buffer)},{"./chunkstream":3,"./filter-parse":9,buffer:33,util:81}],8:[function(l,_,u){(function(o){(function(){let e=l("./sync-reader"),n=l("./filter-parse");u.process=function(r,t){let i=[],f=new e(r);return new n(t,{read:f.read.bind(f),write:function(d){i.push(d)},complete:function(){}}).start(),f.process(),o.concat(i)}}).call(this)}).call(this,l("buffer").Buffer)},{"./filter-parse":9,"./sync-reader":22,buffer:33}],9:[function(l,_,u){(function(o){(function(){let e=l("./interlace"),n=l("./paeth-predictor");function r(i,f,d){let m=i*f;return d!==8&&(m=Math.ceil(m/(8/d))),m}let t=_.exports=function(i,f){let d=i.width,m=i.height,a=i.interlace,c=i.bpp,p=i.depth;if(this.read=f.read,this.write=f.write,this.complete=f.complete,this._imageIndex=0,this._images=[],a){let M=e.getImagePasses(d,m);for(let I=0;I<M.length;I++)this._images.push({byteWidth:r(M[I].width,c,p),height:M[I].height,lineIndex:0})}else this._images.push({byteWidth:r(d,c,p),height:m,lineIndex:0});this._xComparison=p===8?c:p===16?2*c:1};t.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},t.prototype._unFilterType1=function(i,f,d){let m=this._xComparison,a=m-1;for(let c=0;c<d;c++){let p=i[1+c],M=c>a?f[c-m]:0;f[c]=p+M}},t.prototype._unFilterType2=function(i,f,d){let m=this._lastLine;for(let a=0;a<d;a++){let c=i[1+a],p=m?m[a]:0;f[a]=c+p}},t.prototype._unFilterType3=function(i,f,d){let m=this._xComparison,a=m-1,c=this._lastLine;for(let p=0;p<d;p++){let M=i[1+p],I=c?c[p]:0,S=p>a?f[p-m]:0,G=Math.floor((S+I)/2);f[p]=M+G}},t.prototype._unFilterType4=function(i,f,d){let m=this._xComparison,a=m-1,c=this._lastLine;for(let p=0;p<d;p++){let M=i[1+p],I=c?c[p]:0,S=p>a?f[p-m]:0,G=p>a&&c?c[p-m]:0,z=n(S,I,G);f[p]=M+z}},t.prototype._reverseFilterLine=function(i){let f,d=i[0],m=this._images[this._imageIndex],a=m.byteWidth;if(d===0)f=i.slice(1,a+1);else switch(f=o.alloc(a),d){case 1:this._unFilterType1(i,f,a);break;case 2:this._unFilterType2(i,f,a);break;case 3:this._unFilterType3(i,f,a);break;case 4:this._unFilterType4(i,f,a);break;default:throw new Error("Unrecognised filter type - "+d)}this.write(f),m.lineIndex++,m.lineIndex>=m.height?(this._lastLine=null,this._imageIndex++,m=this._images[this._imageIndex]):this._lastLine=f,m?this.read(m.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this)}).call(this,l("buffer").Buffer)},{"./interlace":11,"./paeth-predictor":15,buffer:33}],10:[function(l,_,u){(function(o){(function(){_.exports=function(e,n,r=!1){let t=n.depth,i=n.width,f=n.height,d=n.colorType,m=n.transColor,a=n.palette,c=e;return d===3?function(p,M,I,S,G){let z=0;for(let y=0;y<S;y++)for(let b=0;b<I;b++){let B=G[p[z]];if(!B)throw new Error("index "+p[z]+" not in palette");for(let H=0;H<4;H++)M[z+H]=B[H];z+=4}}(e,c,i,f,a):(m&&function(p,M,I,S,G){let z=0;for(let y=0;y<S;y++)for(let b=0;b<I;b++){let B=!1;if(G.length===1?G[0]===p[z]&&(B=!0):G[0]===p[z]&&G[1]===p[z+1]&&G[2]===p[z+2]&&(B=!0),B)for(let H=0;H<4;H++)M[z+H]=0;z+=4}}(e,c,i,f,m),t===8||r||(t===16&&(c=o.alloc(i*f*4)),function(p,M,I,S,G){let z=Math.pow(2,G)-1,y=0;for(let b=0;b<S;b++)for(let B=0;B<I;B++){for(let H=0;H<4;H++)M[y+H]=Math.floor(255*p[y+H]/z+.5);y+=4}}(e,c,i,f,t))),c}}).call(this)}).call(this,l("buffer").Buffer)},{buffer:33}],11:[function(l,_,u){let o=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];u.getImagePasses=function(e,n){let r=[],t=e%8,i=n%8,f=(e-t)/8,d=(n-i)/8;for(let m=0;m<o.length;m++){let a=o[m],c=f*a.x.length,p=d*a.y.length;for(let M=0;M<a.x.length&&a.x[M]<t;M++)c++;for(let M=0;M<a.y.length&&a.y[M]<i;M++)p++;c>0&&p>0&&r.push({width:c,height:p,index:m})}return r},u.getInterlaceIterator=function(e){return function(n,r,t){let i=n%o[t].x.length,f=(n-i)/o[t].x.length*8+o[t].x[i],d=r%o[t].y.length;return 4*f+((r-d)/o[t].y.length*8+o[t].y[d])*e*4}}},{}],12:[function(l,_,u){(function(o){(function(){let e=l("util"),n=l("stream"),r=l("./constants"),t=l("./packer"),i=_.exports=function(f){n.call(this);let d=f||{};this._packer=new t(d),this._deflate=this._packer.createDeflate(),this.readable=!0};e.inherits(i,n),i.prototype.pack=function(f,d,m,a){this.emit("data",o.from(r.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(d,m)),a&&this.emit("data",this._packer.packGAMA(a));let c=this._packer.filterData(f,d,m);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(p){this.emit("data",this._packer.packIDAT(p))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(c)}}).call(this)}).call(this,l("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:33,stream:61,util:81}],13:[function(l,_,u){(function(o){(function(){let e=!0,n=l("zlib");n.deflateSync||(e=!1);let r=l("./constants"),t=l("./packer");_.exports=function(i,f){if(!e)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let d=new t(f||{}),m=[];m.push(o.from(r.PNG_SIGNATURE)),m.push(d.packIHDR(i.width,i.height)),i.gamma&&m.push(d.packGAMA(i.gamma));let a=d.filterData(i.data,i.width,i.height),c=n.deflateSync(a,d.getDeflateOptions());if(a=null,!c||!c.length)throw new Error("bad png - invalid compressed data response");return m.push(d.packIDAT(c)),m.push(d.packIEND()),o.concat(m)}}).call(this)}).call(this,l("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:33,zlib:32}],14:[function(l,_,u){(function(o){(function(){let e=l("./constants"),n=l("./crc"),r=l("./bitpacker"),t=l("./filter-pack"),i=l("zlib"),f=_.exports=function(d){if(this._options=d,d.deflateChunkSize=d.deflateChunkSize||32768,d.deflateLevel=d.deflateLevel!=null?d.deflateLevel:9,d.deflateStrategy=d.deflateStrategy!=null?d.deflateStrategy:3,d.inputHasAlpha=d.inputHasAlpha==null||d.inputHasAlpha,d.deflateFactory=d.deflateFactory||i.createDeflate,d.bitDepth=d.bitDepth||8,d.colorType=typeof d.colorType=="number"?d.colorType:e.COLORTYPE_COLOR_ALPHA,d.inputColorType=typeof d.inputColorType=="number"?d.inputColorType:e.COLORTYPE_COLOR_ALPHA,[e.COLORTYPE_GRAYSCALE,e.COLORTYPE_COLOR,e.COLORTYPE_COLOR_ALPHA,e.COLORTYPE_ALPHA].indexOf(d.colorType)===-1)throw new Error("option color type:"+d.colorType+" is not supported at present");if([e.COLORTYPE_GRAYSCALE,e.COLORTYPE_COLOR,e.COLORTYPE_COLOR_ALPHA,e.COLORTYPE_ALPHA].indexOf(d.inputColorType)===-1)throw new Error("option input color type:"+d.inputColorType+" is not supported at present");if(d.bitDepth!==8&&d.bitDepth!==16)throw new Error("option bit depth:"+d.bitDepth+" is not supported at present")};f.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},f.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},f.prototype.filterData=function(d,m,a){let c=r(d,m,a,this._options),p=e.COLORTYPE_TO_BPP_MAP[this._options.colorType];return t(c,m,a,this._options,p)},f.prototype._packChunk=function(d,m){let a=m?m.length:0,c=o.alloc(a+12);return c.writeUInt32BE(a,0),c.writeUInt32BE(d,4),m&&m.copy(c,8),c.writeInt32BE(n.crc32(c.slice(4,c.length-4)),c.length-4),c},f.prototype.packGAMA=function(d){let m=o.alloc(4);return m.writeUInt32BE(Math.floor(d*e.GAMMA_DIVISION),0),this._packChunk(e.TYPE_gAMA,m)},f.prototype.packIHDR=function(d,m){let a=o.alloc(13);return a.writeUInt32BE(d,0),a.writeUInt32BE(m,4),a[8]=this._options.bitDepth,a[9]=this._options.colorType,a[10]=0,a[11]=0,a[12]=0,this._packChunk(e.TYPE_IHDR,a)},f.prototype.packIDAT=function(d){return this._packChunk(e.TYPE_IDAT,d)},f.prototype.packIEND=function(){return this._packChunk(e.TYPE_IEND,null)}}).call(this)}).call(this,l("buffer").Buffer)},{"./bitpacker":2,"./constants":4,"./crc":5,"./filter-pack":6,buffer:33,zlib:32}],15:[function(l,_,u){_.exports=function(o,e,n){let r=o+e-n,t=Math.abs(r-o),i=Math.abs(r-e),f=Math.abs(r-n);return t<=i&&t<=f?o:i<=f?e:n}},{}],16:[function(l,_,u){let o=l("util"),e=l("zlib"),n=l("./chunkstream"),r=l("./filter-parse-async"),t=l("./parser"),i=l("./bitmapper"),f=l("./format-normaliser"),d=_.exports=function(m){n.call(this),this._parser=new t(m,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=m,this.writable=!0,this._parser.start()};o.inherits(d,n),d.prototype._handleError=function(m){this.emit("error",m),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},d.prototype._inflateData=function(m){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=e.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let a=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,c=Math.max(a,e.Z_MIN_CHUNK);this._inflate=e.createInflate({chunkSize:c});let p=a,M=this.emit.bind(this,"error");this._inflate.on("error",function(S){p&&M(S)}),this._filter.on("complete",this._complete.bind(this));let I=this._filter.write.bind(this._filter);this._inflate.on("data",function(S){p&&(S.length>p&&(S=S.slice(0,p)),p-=S.length,I(S))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(m)},d.prototype._handleMetaData=function(m){this._metaData=m,this._bitmapInfo=Object.create(m),this._filter=new r(this._bitmapInfo)},d.prototype._handleTransColor=function(m){this._bitmapInfo.transColor=m},d.prototype._handlePalette=function(m){this._bitmapInfo.palette=m},d.prototype._simpleTransparency=function(){this._metaData.alpha=!0},d.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},d.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))},d.prototype._complete=function(m){if(this.errord)return;let a;try{let c=i.dataToBitMap(m,this._bitmapInfo);a=f(c,this._bitmapInfo,this._options.skipRescale),c=null}catch(c){return void this._handleError(c)}this.emit("parsed",a)}},{"./bitmapper":1,"./chunkstream":3,"./filter-parse-async":7,"./format-normaliser":10,"./parser":18,util:81,zlib:32}],17:[function(l,_,u){(function(o){(function(){let e=!0,n=l("zlib"),r=l("./sync-inflate");n.deflateSync||(e=!1);let t=l("./sync-reader"),i=l("./filter-parse-sync"),f=l("./parser"),d=l("./bitmapper"),m=l("./format-normaliser");_.exports=function(a,c){if(!e)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let p,M,I,S=[],G=new t(a);if(new f(c,{read:G.read.bind(G),error:function(R){p=R},metadata:function(R){M=R},gamma:function(R){I=R},palette:function(R){M.palette=R},transColor:function(R){M.transColor=R},inflateData:function(R){S.push(R)},simpleTransparency:function(){M.alpha=!0}}).start(),G.process(),p)throw p;let z,y=o.concat(S);if(S.length=0,M.interlace)z=n.inflateSync(y);else{let R=(1+(M.width*M.bpp*M.depth+7>>3))*M.height;z=r(y,{chunkSize:R,maxLength:R})}if(y=null,!z||!z.length)throw new Error("bad png - invalid inflate data response");let b=i.process(z,M);y=null;let B=d.dataToBitMap(b,M);b=null;let H=m(B,M,c.skipRescale);return M.data=H,M.gamma=I||0,M}}).call(this)}).call(this,l("buffer").Buffer)},{"./bitmapper":1,"./filter-parse-sync":8,"./format-normaliser":10,"./parser":18,"./sync-inflate":21,"./sync-reader":22,buffer:33,zlib:32}],18:[function(l,_,u){(function(o){(function(){let e=l("./constants"),n=l("./crc"),r=_.exports=function(t,i){this._options=t,t.checkCRC=t.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[e.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[e.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[e.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[e.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[e.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[e.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=i.read,this.error=i.error,this.metadata=i.metadata,this.gamma=i.gamma,this.transColor=i.transColor,this.palette=i.palette,this.parsed=i.parsed,this.inflateData=i.inflateData,this.finished=i.finished,this.simpleTransparency=i.simpleTransparency,this.headersFinished=i.headersFinished||function(){}};r.prototype.start=function(){this.read(e.PNG_SIGNATURE.length,this._parseSignature.bind(this))},r.prototype._parseSignature=function(t){let i=e.PNG_SIGNATURE;for(let f=0;f<i.length;f++)if(t[f]!==i[f])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},r.prototype._parseChunkBegin=function(t){let i=t.readUInt32BE(0),f=t.readUInt32BE(4),d="";for(let a=4;a<8;a++)d+=String.fromCharCode(t[a]);let m=!!(32&t[4]);if(this._hasIHDR||f===e.TYPE_IHDR){if(this._crc=new n,this._crc.write(o.from(d)),this._chunks[f])return this._chunks[f](i);m?this.read(i+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+d))}else this.error(new Error("Expected IHDR on beggining"))},r.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},r.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},r.prototype._parseChunkEnd=function(t){let i=t.readInt32BE(0),f=this._crc.crc32();this._options.checkCRC&&f!==i?this.error(new Error("Crc error - "+i+" - "+f)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},r.prototype._handleIHDR=function(t){this.read(t,this._parseIHDR.bind(this))},r.prototype._parseIHDR=function(t){this._crc.write(t);let i=t.readUInt32BE(0),f=t.readUInt32BE(4),d=t[8],m=t[9],a=t[10],c=t[11],p=t[12];if(d!==8&&d!==4&&d!==2&&d!==1&&d!==16)return void this.error(new Error("Unsupported bit depth "+d));if(!(m in e.COLORTYPE_TO_BPP_MAP))return void this.error(new Error("Unsupported color type"));if(a!==0)return void this.error(new Error("Unsupported compression method"));if(c!==0)return void this.error(new Error("Unsupported filter method"));if(p!==0&&p!==1)return void this.error(new Error("Unsupported interlace method"));this._colorType=m;let M=e.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:i,height:f,depth:d,interlace:!!p,palette:!!(m&e.COLORTYPE_PALETTE),color:!!(m&e.COLORTYPE_COLOR),alpha:!!(m&e.COLORTYPE_ALPHA),bpp:M,colorType:m}),this._handleChunkEnd()},r.prototype._handlePLTE=function(t){this.read(t,this._parsePLTE.bind(this))},r.prototype._parsePLTE=function(t){this._crc.write(t);let i=Math.floor(t.length/3);for(let f=0;f<i;f++)this._palette.push([t[3*f],t[3*f+1],t[3*f+2],255]);this.palette(this._palette),this._handleChunkEnd()},r.prototype._handleTRNS=function(t){this.simpleTransparency(),this.read(t,this._parseTRNS.bind(this))},r.prototype._parseTRNS=function(t){if(this._crc.write(t),this._colorType===e.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0)return void this.error(new Error("Transparency chunk must be after palette"));if(t.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(let i=0;i<t.length;i++)this._palette[i][3]=t[i];this.palette(this._palette)}this._colorType===e.COLORTYPE_GRAYSCALE&&this.transColor([t.readUInt16BE(0)]),this._colorType===e.COLORTYPE_COLOR&&this.transColor([t.readUInt16BE(0),t.readUInt16BE(2),t.readUInt16BE(4)]),this._handleChunkEnd()},r.prototype._handleGAMA=function(t){this.read(t,this._parseGAMA.bind(this))},r.prototype._parseGAMA=function(t){this._crc.write(t),this.gamma(t.readUInt32BE(0)/e.GAMMA_DIVISION),this._handleChunkEnd()},r.prototype._handleIDAT=function(t){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-t,this._parseIDAT.bind(this,t))},r.prototype._parseIDAT=function(t,i){if(this._crc.write(i),this._colorType===e.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(i);let f=t-i.length;f>0?this._handleIDAT(f):this._handleChunkEnd()},r.prototype._handleIEND=function(t){this.read(t,this._parseIEND.bind(this))},r.prototype._parseIEND=function(t){this._crc.write(t),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this)}).call(this,l("buffer").Buffer)},{"./constants":4,"./crc":5,buffer:33}],19:[function(l,_,u){let o=l("./parser-sync"),e=l("./packer-sync");u.read=function(n,r){return o(n,r||{})},u.write=function(n,r){return e(n,r)}},{"./packer-sync":13,"./parser-sync":17}],20:[function(l,_,u){(function(o,e){(function(){let n=l("util"),r=l("stream"),t=l("./parser-async"),i=l("./packer-async"),f=l("./png-sync"),d=u.PNG=function(m){r.call(this),m=m||{},this.width=0|m.width,this.height=0|m.height,this.data=this.width>0&&this.height>0?e.alloc(4*this.width*this.height):null,m.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new t(m),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(a){this.data=a,this.emit("parsed",a)}.bind(this)),this._packer=new i(m),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};n.inherits(d,r),d.sync=f,d.prototype.pack=function(){return this.data&&this.data.length?(o.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this):(this.emit("error","No data provided"),this)},d.prototype.parse=function(m,a){if(a){let c,p;c=function(M){this.removeListener("error",p),this.data=M,a(null,this)}.bind(this),p=function(M){this.removeListener("parsed",c),a(M,null)}.bind(this),this.once("parsed",c),this.once("error",p)}return this.end(m),this},d.prototype.write=function(m){return this._parser.write(m),!0},d.prototype.end=function(m){this._parser.end(m)},d.prototype._metadata=function(m){this.width=m.width,this.height=m.height,this.emit("metadata",m)},d.prototype._gamma=function(m){this.gamma=m},d.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},d.bitblt=function(m,a,c,p,M,I,S,G){if(p|=0,M|=0,I|=0,S|=0,G|=0,(c|=0)>m.width||p>m.height||c+M>m.width||p+I>m.height)throw new Error("bitblt reading outside image");if(S>a.width||G>a.height||S+M>a.width||G+I>a.height)throw new Error("bitblt writing outside image");for(let z=0;z<I;z++)m.data.copy(a.data,(G+z)*a.width+S<<2,(p+z)*m.width+c<<2,(p+z)*m.width+c+M<<2)},d.prototype.bitblt=function(m,a,c,p,M,I,S){return d.bitblt(this,m,a,c,p,M,I,S),this},d.adjustGamma=function(m){if(m.gamma){for(let a=0;a<m.height;a++)for(let c=0;c<m.width;c++){let p=m.width*a+c<<2;for(let M=0;M<3;M++){let I=m.data[p+M]/255;I=Math.pow(I,.45454545454545453/m.gamma),m.data[p+M]=Math.round(255*I)}}m.gamma=0}},d.prototype.adjustGamma=function(){d.adjustGamma(this)}}).call(this)}).call(this,l("_process"),l("buffer").Buffer)},{"./packer-async":12,"./parser-async":16,"./png-sync":19,_process:60,buffer:33,stream:61,util:81}],21:[function(l,_,u){(function(o,e){(function(){let n=l("assert").ok,r=l("zlib"),t=l("util"),i=l("buffer").kMaxLength;function f(a){if(!(this instanceof f))return new f(a);a&&a.chunkSize<r.Z_MIN_CHUNK&&(a.chunkSize=r.Z_MIN_CHUNK),r.Inflate.call(this,a),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,a&&a.maxLength!=null&&(this._maxLength=a.maxLength)}function d(a,c){c&&o.nextTick(c),a._handle&&(a._handle.close(),a._handle=null)}function m(a,c){return function(p,M){if(typeof M=="string"&&(M=e.from(M)),!(M instanceof e))throw new TypeError("Not a string or buffer");let I=p._finishFlushFlag;return I==null&&(I=r.Z_FINISH),p._processChunk(M,I)}(new f(c),a)}f.prototype._processChunk=function(a,c,p){if(typeof p=="function")return r.Inflate._processChunk.call(this,a,c,p);let M,I,S=this,G=a&&a.length,z=this._chunkSize-this._offset,y=this._maxLength,b=0,B=[],H=0;function R(C,k){if(S._hadError)return;let te=z-k;if(n(te>=0,"have should not go down"),te>0){let V=S._buffer.slice(S._offset,S._offset+te);if(S._offset+=te,V.length>y&&(V=V.slice(0,y)),B.push(V),H+=V.length,y-=V.length,y===0)return!1}return(k===0||S._offset>=S._chunkSize)&&(z=S._chunkSize,S._offset=0,S._buffer=e.allocUnsafe(S._chunkSize)),k===0&&(b+=G-C,G=C,!0)}this.on("error",function(C){M=C}),n(this._handle,"zlib binding closed");do I=this._handle.writeSync(c,a,b,G,this._buffer,this._offset,z),I=I||this._writeState;while(!this._hadError&&R(I[0],I[1]));if(this._hadError)throw M;if(H>=i)throw d(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+i.toString(16)+" bytes");let T=e.concat(B,H);return d(this),T},t.inherits(f,r.Inflate),_.exports=u=m,u.Inflate=f,u.createInflate=function(a){return new f(a)},u.inflateSync=m}).call(this)}).call(this,l("_process"),l("buffer").Buffer)},{_process:60,assert:23,buffer:33,util:81,zlib:32}],22:[function(l,_,u){let o=_.exports=function(e){this._buffer=e,this._reads=[]};o.prototype.read=function(e,n){this._reads.push({length:Math.abs(e),allowLess:e<0,func:n})},o.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let e=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=e.length||e.allowLess))break;{this._reads.shift();let n=this._buffer;this._buffer=n.slice(e.length),e.func.call(this,n.slice(0,e.length))}}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}},{}],23:[function(l,_,u){(function(o){(function(){function e(R,T){if(R===T)return 0;for(var C=R.length,k=T.length,te=0,V=Math.min(C,k);te<V;++te)if(R[te]!==T[te]){C=R[te],k=T[te];break}return C<k?-1:k<C?1:0}function n(R){return o.Buffer&&typeof o.Buffer.isBuffer=="function"?o.Buffer.isBuffer(R):!(R==null||!R._isBuffer)}var r=l("util/"),t=Object.prototype.hasOwnProperty,i=Array.prototype.slice,f=function(){}.name==="foo";function d(R){return Object.prototype.toString.call(R)}function m(R){return!n(R)&&typeof o.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(R):!!R&&(R instanceof DataView||!!(R.buffer&&R.buffer instanceof ArrayBuffer)))}var a=_.exports=G,c=/\s*function\s+([^\(\s]*)\s*/;function p(R){if(r.isFunction(R)){if(f)return R.name;var T=R.toString().match(c);return T&&T[1]}}function M(R,T){return typeof R=="string"?R.length<T?R:R.slice(0,T):R}function I(R){if(f||!r.isFunction(R))return r.inspect(R);var T=p(R);return"[Function"+(T?": "+T:"")+"]"}function S(R,T,C,k,te){throw new a.AssertionError({message:C,actual:R,expected:T,operator:k,stackStartFunction:te})}function G(R,T){R||S(R,!0,T,"==",a.ok)}function z(R,T,C,k){if(R===T)return!0;if(n(R)&&n(T))return e(R,T)===0;if(r.isDate(R)&&r.isDate(T))return R.getTime()===T.getTime();if(r.isRegExp(R)&&r.isRegExp(T))return R.source===T.source&&R.global===T.global&&R.multiline===T.multiline&&R.lastIndex===T.lastIndex&&R.ignoreCase===T.ignoreCase;if(R!==null&&typeof R=="object"||T!==null&&typeof T=="object"){if(m(R)&&m(T)&&d(R)===d(T)&&!(R instanceof Float32Array||R instanceof Float64Array))return e(new Uint8Array(R.buffer),new Uint8Array(T.buffer))===0;if(n(R)!==n(T))return!1;var te=(k=k||{actual:[],expected:[]}).actual.indexOf(R);return te!==-1&&te===k.expected.indexOf(T)||(k.actual.push(R),k.expected.push(T),function(V,Q,W,L){if(V==null||Q==null)return!1;if(r.isPrimitive(V)||r.isPrimitive(Q))return V===Q;if(W&&Object.getPrototypeOf(V)!==Object.getPrototypeOf(Q))return!1;var Y=y(V),O=y(Q);if(Y&&!O||!Y&&O)return!1;if(Y)return z(V=i.call(V),Q=i.call(Q),W);var D,re,ae=H(V),he=H(Q);if(ae.length!==he.length)return!1;for(ae.sort(),he.sort(),re=ae.length-1;re>=0;re--)if(ae[re]!==he[re])return!1;for(re=ae.length-1;re>=0;re--)if(!z(V[D=ae[re]],Q[D],W,L))return!1;return!0}(R,T,C,k))}return C?R===T:R==T}function y(R){return Object.prototype.toString.call(R)=="[object Arguments]"}function b(R,T){if(!R||!T)return!1;if(Object.prototype.toString.call(T)=="[object RegExp]")return T.test(R);try{if(R instanceof T)return!0}catch{}return!Error.isPrototypeOf(T)&&T.call({},R)===!0}function B(R,T,C,k){var te;if(typeof T!="function")throw new TypeError('"block" argument must be a function');typeof C=="string"&&(k=C,C=null),te=function(W){var L;try{W()}catch(Y){L=Y}return L}(T),k=(C&&C.name?" ("+C.name+").":".")+(k?" "+k:"."),R&&!te&&S(te,C,"Missing expected exception"+k);var V=typeof k=="string",Q=!R&&te&&!C;if((!R&&r.isError(te)&&V&&b(te,C)||Q)&&S(te,C,"Got unwanted exception"+k),R&&te&&C&&!b(te,C)||!R&&te)throw te}a.AssertionError=function(R){this.name="AssertionError",this.actual=R.actual,this.expected=R.expected,this.operator=R.operator,R.message?(this.message=R.message,this.generatedMessage=!1):(this.message=function(W){return M(I(W.actual),128)+" "+W.operator+" "+M(I(W.expected),128)}(this),this.generatedMessage=!0);var T=R.stackStartFunction||S;if(Error.captureStackTrace)Error.captureStackTrace(this,T);else{var C=new Error;if(C.stack){var k=C.stack,te=p(T),V=k.indexOf(`
`+te);if(V>=0){var Q=k.indexOf(`
`,V+1);k=k.substring(Q+1)}this.stack=k}}},r.inherits(a.AssertionError,Error),a.fail=S,a.ok=G,a.equal=function(R,T,C){R!=T&&S(R,T,C,"==",a.equal)},a.notEqual=function(R,T,C){R==T&&S(R,T,C,"!=",a.notEqual)},a.deepEqual=function(R,T,C){z(R,T,!1)||S(R,T,C,"deepEqual",a.deepEqual)},a.deepStrictEqual=function(R,T,C){z(R,T,!0)||S(R,T,C,"deepStrictEqual",a.deepStrictEqual)},a.notDeepEqual=function(R,T,C){z(R,T,!1)&&S(R,T,C,"notDeepEqual",a.notDeepEqual)},a.notDeepStrictEqual=function R(T,C,k){z(T,C,!0)&&S(T,C,k,"notDeepStrictEqual",R)},a.strictEqual=function(R,T,C){R!==T&&S(R,T,C,"===",a.strictEqual)},a.notStrictEqual=function(R,T,C){R===T&&S(R,T,C,"!==",a.notStrictEqual)},a.throws=function(R,T,C){B(!0,R,T,C)},a.doesNotThrow=function(R,T,C){B(!1,R,T,C)},a.ifError=function(R){if(R)throw R};var H=Object.keys||function(R){var T=[];for(var C in R)t.call(R,C)&&T.push(C);return T}}).call(this)}).call(this,j.g!==void 0?j.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"util/":26}],24:[function(l,_,u){typeof Object.create=="function"?_.exports=function(o,e){o.super_=e,o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})}:_.exports=function(o,e){o.super_=e;var n=function(){};n.prototype=e.prototype,o.prototype=new n,o.prototype.constructor=o}},{}],25:[function(l,_,u){_.exports=function(o){return o&&typeof o=="object"&&typeof o.copy=="function"&&typeof o.fill=="function"&&typeof o.readUInt8=="function"}},{}],26:[function(l,_,u){(function(o,e){(function(){var n=/%[sdj%]/g;u.format=function(V){if(!G(V)){for(var Q=[],W=0;W<arguments.length;W++)Q.push(i(arguments[W]));return Q.join(" ")}W=1;for(var L=arguments,Y=L.length,O=String(V).replace(n,function(re){if(re==="%%")return"%";if(W>=Y)return re;switch(re){case"%s":return String(L[W++]);case"%d":return Number(L[W++]);case"%j":try{return JSON.stringify(L[W++])}catch{return"[Circular]"}default:return re}}),D=L[W];W<Y;D=L[++W])I(D)||!b(D)?O+=" "+D:O+=" "+i(D);return O},u.deprecate=function(V,Q){if(z(e.process))return function(){return u.deprecate(V,Q).apply(this,arguments)};if(o.noDeprecation===!0)return V;var W=!1;return function(){if(!W){if(o.throwDeprecation)throw new Error(Q);o.traceDeprecation?console.trace(Q):console.error(Q),W=!0}return V.apply(this,arguments)}};var r,t={};function i(V,Q){var W={seen:[],stylize:d};return arguments.length>=3&&(W.depth=arguments[2]),arguments.length>=4&&(W.colors=arguments[3]),M(Q)?W.showHidden=Q:Q&&u._extend(W,Q),z(W.showHidden)&&(W.showHidden=!1),z(W.depth)&&(W.depth=2),z(W.colors)&&(W.colors=!1),z(W.customInspect)&&(W.customInspect=!0),W.colors&&(W.stylize=f),m(W,V,W.depth)}function f(V,Q){var W=i.styles[Q];return W?"\x1B["+i.colors[W][0]+"m"+V+"\x1B["+i.colors[W][1]+"m":V}function d(V,Q){return V}function m(V,Q,W){if(V.customInspect&&Q&&R(Q.inspect)&&Q.inspect!==u.inspect&&(!Q.constructor||Q.constructor.prototype!==Q)){var L=Q.inspect(W,V);return G(L)||(L=m(V,L,W)),L}var Y=function(P,X){if(z(X))return P.stylize("undefined","undefined");if(G(X)){var s="'"+JSON.stringify(X).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return P.stylize(s,"string")}return S(X)?P.stylize(""+X,"number"):M(X)?P.stylize(""+X,"boolean"):I(X)?P.stylize("null","null"):void 0}(V,Q);if(Y)return Y;var O=Object.keys(Q),D=function(P){var X={};return P.forEach(function(s,h){X[s]=!0}),X}(O);if(V.showHidden&&(O=Object.getOwnPropertyNames(Q)),H(Q)&&(O.indexOf("message")>=0||O.indexOf("description")>=0))return a(Q);if(O.length===0){if(R(Q)){var re=Q.name?": "+Q.name:"";return V.stylize("[Function"+re+"]","special")}if(y(Q))return V.stylize(RegExp.prototype.toString.call(Q),"regexp");if(B(Q))return V.stylize(Date.prototype.toString.call(Q),"date");if(H(Q))return a(Q)}var ae,he="",v=!1,A=["{","}"];return p(Q)&&(v=!0,A=["[","]"]),R(Q)&&(he=" [Function"+(Q.name?": "+Q.name:"")+"]"),y(Q)&&(he=" "+RegExp.prototype.toString.call(Q)),B(Q)&&(he=" "+Date.prototype.toUTCString.call(Q)),H(Q)&&(he=" "+a(Q)),O.length!==0||v&&Q.length!=0?W<0?y(Q)?V.stylize(RegExp.prototype.toString.call(Q),"regexp"):V.stylize("[Object]","special"):(V.seen.push(Q),ae=v?function(P,X,s,h,g){for(var U=[],K=0,E=X.length;K<E;++K)te(X,String(K))?U.push(c(P,X,s,h,String(K),!0)):U.push("");return g.forEach(function(J){J.match(/^\d+$/)||U.push(c(P,X,s,h,J,!0))}),U}(V,Q,W,D,O):O.map(function(P){return c(V,Q,W,D,P,v)}),V.seen.pop(),function(P,X,s){return P.reduce(function(h,g){return g.indexOf(`
`),h+g.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?s[0]+(X===""?"":X+`
 `)+" "+P.join(`,
  `)+" "+s[1]:s[0]+X+" "+P.join(", ")+" "+s[1]}(ae,he,A)):A[0]+he+A[1]}function a(V){return"["+Error.prototype.toString.call(V)+"]"}function c(V,Q,W,L,Y,O){var D,re,ae;if((ae=Object.getOwnPropertyDescriptor(Q,Y)||{value:Q[Y]}).get?re=ae.set?V.stylize("[Getter/Setter]","special"):V.stylize("[Getter]","special"):ae.set&&(re=V.stylize("[Setter]","special")),te(L,Y)||(D="["+Y+"]"),re||(V.seen.indexOf(ae.value)<0?(re=I(W)?m(V,ae.value,null):m(V,ae.value,W-1)).indexOf(`
`)>-1&&(re=O?re.split(`
`).map(function(he){return"  "+he}).join(`
`).substr(2):`
`+re.split(`
`).map(function(he){return"   "+he}).join(`
`)):re=V.stylize("[Circular]","special")),z(D)){if(O&&Y.match(/^\d+$/))return re;(D=JSON.stringify(""+Y)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(D=D.substr(1,D.length-2),D=V.stylize(D,"name")):(D=D.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),D=V.stylize(D,"string"))}return D+": "+re}function p(V){return Array.isArray(V)}function M(V){return typeof V=="boolean"}function I(V){return V===null}function S(V){return typeof V=="number"}function G(V){return typeof V=="string"}function z(V){return V===void 0}function y(V){return b(V)&&T(V)==="[object RegExp]"}function b(V){return typeof V=="object"&&V!==null}function B(V){return b(V)&&T(V)==="[object Date]"}function H(V){return b(V)&&(T(V)==="[object Error]"||V instanceof Error)}function R(V){return typeof V=="function"}function T(V){return Object.prototype.toString.call(V)}function C(V){return V<10?"0"+V.toString(10):V.toString(10)}u.debuglog=function(V){if(z(r)&&(r=o.env.NODE_DEBUG||""),V=V.toUpperCase(),!t[V])if(new RegExp("\\b"+V+"\\b","i").test(r)){var Q=o.pid;t[V]=function(){var W=u.format.apply(u,arguments);console.error("%s %d: %s",V,Q,W)}}else t[V]=function(){};return t[V]},u.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},u.isArray=p,u.isBoolean=M,u.isNull=I,u.isNullOrUndefined=function(V){return V==null},u.isNumber=S,u.isString=G,u.isSymbol=function(V){return typeof V=="symbol"},u.isUndefined=z,u.isRegExp=y,u.isObject=b,u.isDate=B,u.isError=H,u.isFunction=R,u.isPrimitive=function(V){return V===null||typeof V=="boolean"||typeof V=="number"||typeof V=="string"||typeof V=="symbol"||V===void 0},u.isBuffer=l("./support/isBuffer");var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function te(V,Q){return Object.prototype.hasOwnProperty.call(V,Q)}u.log=function(){var V,Q;console.log("%s - %s",(V=new Date,Q=[C(V.getHours()),C(V.getMinutes()),C(V.getSeconds())].join(":"),[V.getDate(),k[V.getMonth()],Q].join(" ")),u.format.apply(u,arguments))},u.inherits=l("inherits"),u._extend=function(V,Q){if(!Q||!b(Q))return V;for(var W=Object.keys(Q),L=W.length;L--;)V[W[L]]=Q[W[L]];return V}}).call(this)}).call(this,l("_process"),j.g!==void 0?j.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":25,_process:60,inherits:24}],27:[function(l,_,u){(function(o){(function(){var e=l("array-filter");_.exports=function(){return e(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],function(n){return typeof o[n]=="function"})}}).call(this)}).call(this,j.g!==void 0?j.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"array-filter":28}],28:[function(l,_,u){_.exports=function(e,n,r){if(e.filter)return e.filter(n,r);if(e==null)throw new TypeError;if(typeof n!="function")throw new TypeError;for(var t=[],i=0;i<e.length;i++)if(o.call(e,i)){var f=e[i];n.call(r,f,i,e)&&t.push(f)}return t};var o=Object.prototype.hasOwnProperty},{}],29:[function(l,_,u){u.byteLength=function(m){var a=f(m),c=a[0],p=a[1];return 3*(c+p)/4-p},u.toByteArray=function(m){var a,c,p=f(m),M=p[0],I=p[1],S=new n(function(y,b,B){return 3*(b+B)/4-B}(0,M,I)),G=0,z=I>0?M-4:M;for(c=0;c<z;c+=4)a=e[m.charCodeAt(c)]<<18|e[m.charCodeAt(c+1)]<<12|e[m.charCodeAt(c+2)]<<6|e[m.charCodeAt(c+3)],S[G++]=a>>16&255,S[G++]=a>>8&255,S[G++]=255&a;return I===2&&(a=e[m.charCodeAt(c)]<<2|e[m.charCodeAt(c+1)]>>4,S[G++]=255&a),I===1&&(a=e[m.charCodeAt(c)]<<10|e[m.charCodeAt(c+1)]<<4|e[m.charCodeAt(c+2)]>>2,S[G++]=a>>8&255,S[G++]=255&a),S},u.fromByteArray=function(m){for(var a,c=m.length,p=c%3,M=[],I=16383,S=0,G=c-p;S<G;S+=I)M.push(d(m,S,S+I>G?G:S+I));return p===1?(a=m[c-1],M.push(o[a>>2]+o[a<<4&63]+"==")):p===2&&(a=(m[c-2]<<8)+m[c-1],M.push(o[a>>10]+o[a>>4&63]+o[a<<2&63]+"=")),M.join("")};for(var o=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,i=r.length;t<i;++t)o[t]=r[t],e[r.charCodeAt(t)]=t;function f(m){var a=m.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=m.indexOf("=");return c===-1&&(c=a),[c,c===a?0:4-c%4]}function d(m,a,c){for(var p,M=[],I=a;I<c;I+=3)p=(m[I]<<16&16711680)+(m[I+1]<<8&65280)+(255&m[I+2]),M.push(o[(S=p)>>18&63]+o[S>>12&63]+o[S>>6&63]+o[63&S]);var S;return M.join("")}e["-".charCodeAt(0)]=62,e["_".charCodeAt(0)]=63},{}],30:[function(l,_,u){},{}],31:[function(l,_,u){(function(o,e){(function(){var n=l("assert"),r=l("pako/lib/zlib/zstream"),t=l("pako/lib/zlib/deflate.js"),i=l("pako/lib/zlib/inflate.js"),f=l("pako/lib/zlib/constants");for(var d in f)u[d]=f[d];u.NONE=0,u.DEFLATE=1,u.INFLATE=2,u.GZIP=3,u.GUNZIP=4,u.DEFLATERAW=5,u.INFLATERAW=6,u.UNZIP=7;function m(a){if(typeof a!="number"||a<u.DEFLATE||a>u.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=a,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}m.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,n(this.init_done,"close before init"),n(this.mode<=u.UNZIP),this.mode===u.DEFLATE||this.mode===u.GZIP||this.mode===u.DEFLATERAW?t.deflateEnd(this.strm):this.mode!==u.INFLATE&&this.mode!==u.GUNZIP&&this.mode!==u.INFLATERAW&&this.mode!==u.UNZIP||i.inflateEnd(this.strm),this.mode=u.NONE,this.dictionary=null)},m.prototype.write=function(a,c,p,M,I,S,G){return this._write(!0,a,c,p,M,I,S,G)},m.prototype.writeSync=function(a,c,p,M,I,S,G){return this._write(!1,a,c,p,M,I,S,G)},m.prototype._write=function(a,c,p,M,I,S,G,z){if(n.equal(arguments.length,8),n(this.init_done,"write before init"),n(this.mode!==u.NONE,"already finalized"),n.equal(!1,this.write_in_progress,"write already in progress"),n.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,n.equal(!1,c===void 0,"must provide flush value"),this.write_in_progress=!0,c!==u.Z_NO_FLUSH&&c!==u.Z_PARTIAL_FLUSH&&c!==u.Z_SYNC_FLUSH&&c!==u.Z_FULL_FLUSH&&c!==u.Z_FINISH&&c!==u.Z_BLOCK)throw new Error("Invalid flush value");if(p==null&&(p=e.alloc(0),I=0,M=0),this.strm.avail_in=I,this.strm.input=p,this.strm.next_in=M,this.strm.avail_out=z,this.strm.output=S,this.strm.next_out=G,this.flush=c,!a)return this._process(),this._checkError()?this._afterSync():void 0;var y=this;return o.nextTick(function(){y._process(),y._after()}),this},m.prototype._afterSync=function(){var a=this.strm.avail_out,c=this.strm.avail_in;return this.write_in_progress=!1,[c,a]},m.prototype._process=function(){var a=null;switch(this.mode){case u.DEFLATE:case u.GZIP:case u.DEFLATERAW:this.err=t.deflate(this.strm,this.flush);break;case u.UNZIP:switch(this.strm.avail_in>0&&(a=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(a===null)break;if(this.strm.input[a]!==31){this.mode=u.INFLATE;break}if(this.gzip_id_bytes_read=1,a++,this.strm.avail_in===1)break;case 1:if(a===null)break;this.strm.input[a]===139?(this.gzip_id_bytes_read=2,this.mode=u.GUNZIP):this.mode=u.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case u.INFLATE:case u.GUNZIP:case u.INFLATERAW:for(this.err=i.inflate(this.strm,this.flush),this.err===u.Z_NEED_DICT&&this.dictionary&&(this.err=i.inflateSetDictionary(this.strm,this.dictionary),this.err===u.Z_OK?this.err=i.inflate(this.strm,this.flush):this.err===u.Z_DATA_ERROR&&(this.err=u.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===u.GUNZIP&&this.err===u.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=i.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},m.prototype._checkError=function(){switch(this.err){case u.Z_OK:case u.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===u.Z_FINISH)return this._error("unexpected end of file"),!1;break;case u.Z_STREAM_END:break;case u.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},m.prototype._after=function(){if(this._checkError()){var a=this.strm.avail_out,c=this.strm.avail_in;this.write_in_progress=!1,this.callback(c,a),this.pending_close&&this.close()}},m.prototype._error=function(a){this.strm.msg&&(a=this.strm.msg),this.onerror(a,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},m.prototype.init=function(a,c,p,M,I){n(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),n(a>=8&&a<=15,"invalid windowBits"),n(c>=-1&&c<=9,"invalid compression level"),n(p>=1&&p<=9,"invalid memlevel"),n(M===u.Z_FILTERED||M===u.Z_HUFFMAN_ONLY||M===u.Z_RLE||M===u.Z_FIXED||M===u.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(c,a,p,M,I),this._setDictionary()},m.prototype.params=function(){throw new Error("deflateParams Not supported")},m.prototype.reset=function(){this._reset(),this._setDictionary()},m.prototype._init=function(a,c,p,M,I){switch(this.level=a,this.windowBits=c,this.memLevel=p,this.strategy=M,this.flush=u.Z_NO_FLUSH,this.err=u.Z_OK,this.mode!==u.GZIP&&this.mode!==u.GUNZIP||(this.windowBits+=16),this.mode===u.UNZIP&&(this.windowBits+=32),this.mode!==u.DEFLATERAW&&this.mode!==u.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new r,this.mode){case u.DEFLATE:case u.GZIP:case u.DEFLATERAW:this.err=t.deflateInit2(this.strm,this.level,u.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case u.INFLATE:case u.GUNZIP:case u.INFLATERAW:case u.UNZIP:this.err=i.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==u.Z_OK&&this._error("Init error"),this.dictionary=I,this.write_in_progress=!1,this.init_done=!0},m.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=u.Z_OK,this.mode){case u.DEFLATE:case u.DEFLATERAW:this.err=t.deflateSetDictionary(this.strm,this.dictionary)}this.err!==u.Z_OK&&this._error("Failed to set dictionary")}},m.prototype._reset=function(){switch(this.err=u.Z_OK,this.mode){case u.DEFLATE:case u.DEFLATERAW:case u.GZIP:this.err=t.deflateReset(this.strm);break;case u.INFLATE:case u.INFLATERAW:case u.GUNZIP:this.err=i.inflateReset(this.strm)}this.err!==u.Z_OK&&this._error("Failed to reset stream")},u.Zlib=m}).call(this)}).call(this,l("_process"),l("buffer").Buffer)},{_process:60,assert:23,buffer:33,"pako/lib/zlib/constants":51,"pako/lib/zlib/deflate.js":53,"pako/lib/zlib/inflate.js":55,"pako/lib/zlib/zstream":59}],32:[function(l,_,u){(function(o){(function(){var e=l("buffer").Buffer,n=l("stream").Transform,r=l("./binding"),t=l("util"),i=l("assert").ok,f=l("buffer").kMaxLength,d="Cannot create final Buffer. It would be larger than 0x"+f.toString(16)+" bytes";r.Z_MIN_WINDOWBITS=8,r.Z_MAX_WINDOWBITS=15,r.Z_DEFAULT_WINDOWBITS=15,r.Z_MIN_CHUNK=64,r.Z_MAX_CHUNK=1/0,r.Z_DEFAULT_CHUNK=16384,r.Z_MIN_MEMLEVEL=1,r.Z_MAX_MEMLEVEL=9,r.Z_DEFAULT_MEMLEVEL=8,r.Z_MIN_LEVEL=-1,r.Z_MAX_LEVEL=9,r.Z_DEFAULT_LEVEL=r.Z_DEFAULT_COMPRESSION;for(var m=Object.keys(r),a=0;a<m.length;a++){var c=m[a];c.match(/^Z/)&&Object.defineProperty(u,c,{enumerable:!0,value:r[c],writable:!1})}for(var p={Z_OK:r.Z_OK,Z_STREAM_END:r.Z_STREAM_END,Z_NEED_DICT:r.Z_NEED_DICT,Z_ERRNO:r.Z_ERRNO,Z_STREAM_ERROR:r.Z_STREAM_ERROR,Z_DATA_ERROR:r.Z_DATA_ERROR,Z_MEM_ERROR:r.Z_MEM_ERROR,Z_BUF_ERROR:r.Z_BUF_ERROR,Z_VERSION_ERROR:r.Z_VERSION_ERROR},M=Object.keys(p),I=0;I<M.length;I++){var S=M[I];p[p[S]]=S}function G(W,L,Y){var O=[],D=0;function re(){for(var he;(he=W.read())!==null;)O.push(he),D+=he.length;W.once("readable",re)}function ae(){var he,v=null;D>=f?v=new RangeError(d):he=e.concat(O,D),O=[],W.close(),Y(v,he)}W.on("error",function(he){W.removeListener("end",ae),W.removeListener("readable",re),Y(he)}),W.on("end",ae),W.end(L),re()}function z(W,L){if(typeof L=="string"&&(L=e.from(L)),!e.isBuffer(L))throw new TypeError("Not a string or buffer");var Y=W._finishFlushFlag;return W._processChunk(L,Y)}function y(W){if(!(this instanceof y))return new y(W);te.call(this,W,r.DEFLATE)}function b(W){if(!(this instanceof b))return new b(W);te.call(this,W,r.INFLATE)}function B(W){if(!(this instanceof B))return new B(W);te.call(this,W,r.GZIP)}function H(W){if(!(this instanceof H))return new H(W);te.call(this,W,r.GUNZIP)}function R(W){if(!(this instanceof R))return new R(W);te.call(this,W,r.DEFLATERAW)}function T(W){if(!(this instanceof T))return new T(W);te.call(this,W,r.INFLATERAW)}function C(W){if(!(this instanceof C))return new C(W);te.call(this,W,r.UNZIP)}function k(W){return W===r.Z_NO_FLUSH||W===r.Z_PARTIAL_FLUSH||W===r.Z_SYNC_FLUSH||W===r.Z_FULL_FLUSH||W===r.Z_FINISH||W===r.Z_BLOCK}function te(W,L){var Y=this;if(this._opts=W=W||{},this._chunkSize=W.chunkSize||u.Z_DEFAULT_CHUNK,n.call(this,W),W.flush&&!k(W.flush))throw new Error("Invalid flush flag: "+W.flush);if(W.finishFlush&&!k(W.finishFlush))throw new Error("Invalid flush flag: "+W.finishFlush);if(this._flushFlag=W.flush||r.Z_NO_FLUSH,this._finishFlushFlag=W.finishFlush!==void 0?W.finishFlush:r.Z_FINISH,W.chunkSize&&(W.chunkSize<u.Z_MIN_CHUNK||W.chunkSize>u.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+W.chunkSize);if(W.windowBits&&(W.windowBits<u.Z_MIN_WINDOWBITS||W.windowBits>u.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+W.windowBits);if(W.level&&(W.level<u.Z_MIN_LEVEL||W.level>u.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+W.level);if(W.memLevel&&(W.memLevel<u.Z_MIN_MEMLEVEL||W.memLevel>u.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+W.memLevel);if(W.strategy&&W.strategy!=u.Z_FILTERED&&W.strategy!=u.Z_HUFFMAN_ONLY&&W.strategy!=u.Z_RLE&&W.strategy!=u.Z_FIXED&&W.strategy!=u.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+W.strategy);if(W.dictionary&&!e.isBuffer(W.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new r.Zlib(L);var O=this;this._hadError=!1,this._handle.onerror=function(ae,he){V(O),O._hadError=!0;var v=new Error(ae);v.errno=he,v.code=u.codes[he],O.emit("error",v)};var D=u.Z_DEFAULT_COMPRESSION;typeof W.level=="number"&&(D=W.level);var re=u.Z_DEFAULT_STRATEGY;typeof W.strategy=="number"&&(re=W.strategy),this._handle.init(W.windowBits||u.Z_DEFAULT_WINDOWBITS,D,W.memLevel||u.Z_DEFAULT_MEMLEVEL,re,W.dictionary),this._buffer=e.allocUnsafe(this._chunkSize),this._offset=0,this._level=D,this._strategy=re,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!Y._handle},configurable:!0,enumerable:!0})}function V(W,L){L&&o.nextTick(L),W._handle&&(W._handle.close(),W._handle=null)}function Q(W){W.emit("close")}Object.defineProperty(u,"codes",{enumerable:!0,value:Object.freeze(p),writable:!1}),u.Deflate=y,u.Inflate=b,u.Gzip=B,u.Gunzip=H,u.DeflateRaw=R,u.InflateRaw=T,u.Unzip=C,u.createDeflate=function(W){return new y(W)},u.createInflate=function(W){return new b(W)},u.createDeflateRaw=function(W){return new R(W)},u.createInflateRaw=function(W){return new T(W)},u.createGzip=function(W){return new B(W)},u.createGunzip=function(W){return new H(W)},u.createUnzip=function(W){return new C(W)},u.deflate=function(W,L,Y){return typeof L=="function"&&(Y=L,L={}),G(new y(L),W,Y)},u.deflateSync=function(W,L){return z(new y(L),W)},u.gzip=function(W,L,Y){return typeof L=="function"&&(Y=L,L={}),G(new B(L),W,Y)},u.gzipSync=function(W,L){return z(new B(L),W)},u.deflateRaw=function(W,L,Y){return typeof L=="function"&&(Y=L,L={}),G(new R(L),W,Y)},u.deflateRawSync=function(W,L){return z(new R(L),W)},u.unzip=function(W,L,Y){return typeof L=="function"&&(Y=L,L={}),G(new C(L),W,Y)},u.unzipSync=function(W,L){return z(new C(L),W)},u.inflate=function(W,L,Y){return typeof L=="function"&&(Y=L,L={}),G(new b(L),W,Y)},u.inflateSync=function(W,L){return z(new b(L),W)},u.gunzip=function(W,L,Y){return typeof L=="function"&&(Y=L,L={}),G(new H(L),W,Y)},u.gunzipSync=function(W,L){return z(new H(L),W)},u.inflateRaw=function(W,L,Y){return typeof L=="function"&&(Y=L,L={}),G(new T(L),W,Y)},u.inflateRawSync=function(W,L){return z(new T(L),W)},t.inherits(te,n),te.prototype.params=function(W,L,Y){if(W<u.Z_MIN_LEVEL||W>u.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+W);if(L!=u.Z_FILTERED&&L!=u.Z_HUFFMAN_ONLY&&L!=u.Z_RLE&&L!=u.Z_FIXED&&L!=u.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+L);if(this._level!==W||this._strategy!==L){var O=this;this.flush(r.Z_SYNC_FLUSH,function(){i(O._handle,"zlib binding closed"),O._handle.params(W,L),O._hadError||(O._level=W,O._strategy=L,Y&&Y())})}else o.nextTick(Y)},te.prototype.reset=function(){return i(this._handle,"zlib binding closed"),this._handle.reset()},te.prototype._flush=function(W){this._transform(e.alloc(0),"",W)},te.prototype.flush=function(W,L){var Y=this,O=this._writableState;(typeof W=="function"||W===void 0&&!L)&&(L=W,W=r.Z_FULL_FLUSH),O.ended?L&&o.nextTick(L):O.ending?L&&this.once("end",L):O.needDrain?L&&this.once("drain",function(){return Y.flush(W,L)}):(this._flushFlag=W,this.write(e.alloc(0),"",L))},te.prototype.close=function(W){V(this,W),o.nextTick(Q,this)},te.prototype._transform=function(W,L,Y){var O,D=this._writableState,re=(D.ending||D.ended)&&(!W||D.length===W.length);return W===null||e.isBuffer(W)?this._handle?(re?O=this._finishFlushFlag:(O=this._flushFlag,W.length>=D.length&&(this._flushFlag=this._opts.flush||r.Z_NO_FLUSH)),void this._processChunk(W,O,Y)):Y(new Error("zlib binding closed")):Y(new Error("invalid input"))},te.prototype._processChunk=function(W,L,Y){var O=W&&W.length,D=this._chunkSize-this._offset,re=0,ae=this,he=typeof Y=="function";if(!he){var v,A=[],P=0;this.on("error",function(U){v=U}),i(this._handle,"zlib binding closed");do var X=this._handle.writeSync(L,W,re,O,this._buffer,this._offset,D);while(!this._hadError&&g(X[0],X[1]));if(this._hadError)throw v;if(P>=f)throw V(this),new RangeError(d);var s=e.concat(A,P);return V(this),s}i(this._handle,"zlib binding closed");var h=this._handle.write(L,W,re,O,this._buffer,this._offset,D);function g(U,K){if(this&&(this.buffer=null,this.callback=null),!ae._hadError){var E=D-K;if(i(E>=0,"have should not go down"),E>0){var J=ae._buffer.slice(ae._offset,ae._offset+E);ae._offset+=E,he?ae.push(J):(A.push(J),P+=J.length)}if((K===0||ae._offset>=ae._chunkSize)&&(D=ae._chunkSize,ae._offset=0,ae._buffer=e.allocUnsafe(ae._chunkSize)),K===0){if(re+=O-U,O=U,!he)return!0;var oe=ae._handle.write(L,W,re,O,ae._buffer,ae._offset,ae._chunkSize);return oe.callback=g,void(oe.buffer=W)}if(!he)return!1;Y()}}h.buffer=W,h.callback=g},t.inherits(y,te),t.inherits(b,te),t.inherits(B,te),t.inherits(H,te),t.inherits(R,te),t.inherits(T,te),t.inherits(C,te)}).call(this)}).call(this,l("_process"))},{"./binding":31,_process:60,assert:23,buffer:33,stream:61,util:81}],33:[function(l,_,u){(function(o){(function(){var e=l("base64-js"),n=l("ieee754");u.Buffer=i,u.SlowBuffer=function(s){return+s!=s&&(s=0),i.alloc(+s)},u.INSPECT_MAX_BYTES=50;var r=2147483647;function t(s){if(s>r)throw new RangeError('The value "'+s+'" is invalid for option "size"');var h=new Uint8Array(s);return h.__proto__=i.prototype,h}function i(s,h,g){if(typeof s=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(s)}return f(s,h,g)}function f(s,h,g){if(typeof s=="string")return function(E,J){if(typeof J=="string"&&J!==""||(J="utf8"),!i.isEncoding(J))throw new TypeError("Unknown encoding: "+J);var oe=0|p(E,J),Z=t(oe),de=Z.write(E,J);return de!==oe&&(Z=Z.slice(0,de)),Z}(s,h);if(ArrayBuffer.isView(s))return a(s);if(s==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof s);if(P(s,ArrayBuffer)||s&&P(s.buffer,ArrayBuffer))return function(E,J,oe){if(J<0||E.byteLength<J)throw new RangeError('"offset" is outside of buffer bounds');if(E.byteLength<J+(oe||0))throw new RangeError('"length" is outside of buffer bounds');var Z;return(Z=J===void 0&&oe===void 0?new Uint8Array(E):oe===void 0?new Uint8Array(E,J):new Uint8Array(E,J,oe)).__proto__=i.prototype,Z}(s,h,g);if(typeof s=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var U=s.valueOf&&s.valueOf();if(U!=null&&U!==s)return i.from(U,h,g);var K=function(E){if(i.isBuffer(E)){var J=0|c(E.length),oe=t(J);return oe.length===0||E.copy(oe,0,0,J),oe}return E.length!==void 0?typeof E.length!="number"||X(E.length)?t(0):a(E):E.type==="Buffer"&&Array.isArray(E.data)?a(E.data):void 0}(s);if(K)return K;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof s[Symbol.toPrimitive]=="function")return i.from(s[Symbol.toPrimitive]("string"),h,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof s)}function d(s){if(typeof s!="number")throw new TypeError('"size" argument must be of type number');if(s<0)throw new RangeError('The value "'+s+'" is invalid for option "size"')}function m(s){return d(s),t(s<0?0:0|c(s))}function a(s){for(var h=s.length<0?0:0|c(s.length),g=t(h),U=0;U<h;U+=1)g[U]=255&s[U];return g}function c(s){if(s>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|s}function p(s,h){if(i.isBuffer(s))return s.length;if(ArrayBuffer.isView(s)||P(s,ArrayBuffer))return s.byteLength;if(typeof s!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof s);var g=s.length,U=arguments.length>2&&arguments[2]===!0;if(!U&&g===0)return 0;for(var K=!1;;)switch(h){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return he(s).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*g;case"hex":return g>>>1;case"base64":return v(s).length;default:if(K)return U?-1:he(s).length;h=(""+h).toLowerCase(),K=!0}}function M(s,h,g){var U=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0)<=(h>>>=0))return"";for(s||(s="utf8");;)switch(s){case"hex":return Q(this,h,g);case"utf8":case"utf-8":return C(this,h,g);case"ascii":return te(this,h,g);case"latin1":case"binary":return V(this,h,g);case"base64":return T(this,h,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,h,g);default:if(U)throw new TypeError("Unknown encoding: "+s);s=(s+"").toLowerCase(),U=!0}}function I(s,h,g){var U=s[h];s[h]=s[g],s[g]=U}function S(s,h,g,U,K){if(s.length===0)return-1;if(typeof g=="string"?(U=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),X(g=+g)&&(g=K?0:s.length-1),g<0&&(g=s.length+g),g>=s.length){if(K)return-1;g=s.length-1}else if(g<0){if(!K)return-1;g=0}if(typeof h=="string"&&(h=i.from(h,U)),i.isBuffer(h))return h.length===0?-1:G(s,h,g,U,K);if(typeof h=="number")return h&=255,typeof Uint8Array.prototype.indexOf=="function"?K?Uint8Array.prototype.indexOf.call(s,h,g):Uint8Array.prototype.lastIndexOf.call(s,h,g):G(s,[h],g,U,K);throw new TypeError("val must be string, number or Buffer")}function G(s,h,g,U,K){var E,J=1,oe=s.length,Z=h.length;if(U!==void 0&&((U=String(U).toLowerCase())==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(s.length<2||h.length<2)return-1;J=2,oe/=2,Z/=2,g/=2}function de(ne,fe){return J===1?ne[fe]:ne.readUInt16BE(fe*J)}if(K){var ge=-1;for(E=g;E<oe;E++)if(de(s,E)===de(h,ge===-1?0:E-ge)){if(ge===-1&&(ge=E),E-ge+1===Z)return ge*J}else ge!==-1&&(E-=E-ge),ge=-1}else for(g+Z>oe&&(g=oe-Z),E=g;E>=0;E--){for(var xe=!0,we=0;we<Z;we++)if(de(s,E+we)!==de(h,we)){xe=!1;break}if(xe)return E}return-1}function z(s,h,g,U){g=Number(g)||0;var K=s.length-g;U?(U=Number(U))>K&&(U=K):U=K;var E=h.length;U>E/2&&(U=E/2);for(var J=0;J<U;++J){var oe=parseInt(h.substr(2*J,2),16);if(X(oe))return J;s[g+J]=oe}return J}function y(s,h,g,U){return A(he(h,s.length-g),s,g,U)}function b(s,h,g,U){return A(function(K){for(var E=[],J=0;J<K.length;++J)E.push(255&K.charCodeAt(J));return E}(h),s,g,U)}function B(s,h,g,U){return b(s,h,g,U)}function H(s,h,g,U){return A(v(h),s,g,U)}function R(s,h,g,U){return A(function(K,E){for(var J,oe,Z,de=[],ge=0;ge<K.length&&!((E-=2)<0);++ge)oe=(J=K.charCodeAt(ge))>>8,Z=J%256,de.push(Z),de.push(oe);return de}(h,s.length-g),s,g,U)}function T(s,h,g){return h===0&&g===s.length?e.fromByteArray(s):e.fromByteArray(s.slice(h,g))}function C(s,h,g){g=Math.min(s.length,g);for(var U=[],K=h;K<g;){var E,J,oe,Z,de=s[K],ge=null,xe=de>239?4:de>223?3:de>191?2:1;if(K+xe<=g)switch(xe){case 1:de<128&&(ge=de);break;case 2:(192&(E=s[K+1]))==128&&(Z=(31&de)<<6|63&E)>127&&(ge=Z);break;case 3:E=s[K+1],J=s[K+2],(192&E)==128&&(192&J)==128&&(Z=(15&de)<<12|(63&E)<<6|63&J)>2047&&(Z<55296||Z>57343)&&(ge=Z);break;case 4:E=s[K+1],J=s[K+2],oe=s[K+3],(192&E)==128&&(192&J)==128&&(192&oe)==128&&(Z=(15&de)<<18|(63&E)<<12|(63&J)<<6|63&oe)>65535&&Z<1114112&&(ge=Z)}ge===null?(ge=65533,xe=1):ge>65535&&(ge-=65536,U.push(ge>>>10&1023|55296),ge=56320|1023&ge),U.push(ge),K+=xe}return function(we){var ne=we.length;if(ne<=k)return String.fromCharCode.apply(String,we);for(var fe="",be=0;be<ne;)fe+=String.fromCharCode.apply(String,we.slice(be,be+=k));return fe}(U)}u.kMaxLength=r,i.TYPED_ARRAY_SUPPORT=function(){try{var s=new Uint8Array(1);return s.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},s.foo()===42}catch{return!1}}(),i.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=function(s,h,g){return f(s,h,g)},i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,i.alloc=function(s,h,g){return function(U,K,E){return d(U),U<=0?t(U):K!==void 0?typeof E=="string"?t(U).fill(K,E):t(U).fill(K):t(U)}(s,h,g)},i.allocUnsafe=function(s){return m(s)},i.allocUnsafeSlow=function(s){return m(s)},i.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==i.prototype},i.compare=function(s,h){if(P(s,Uint8Array)&&(s=i.from(s,s.offset,s.byteLength)),P(h,Uint8Array)&&(h=i.from(h,h.offset,h.byteLength)),!i.isBuffer(s)||!i.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===h)return 0;for(var g=s.length,U=h.length,K=0,E=Math.min(g,U);K<E;++K)if(s[K]!==h[K]){g=s[K],U=h[K];break}return g<U?-1:U<g?1:0},i.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(s,h){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return i.alloc(0);var g;if(h===void 0)for(h=0,g=0;g<s.length;++g)h+=s[g].length;var U=i.allocUnsafe(h),K=0;for(g=0;g<s.length;++g){var E=s[g];if(P(E,Uint8Array)&&(E=i.from(E)),!i.isBuffer(E))throw new TypeError('"list" argument must be an Array of Buffers');E.copy(U,K),K+=E.length}return U},i.byteLength=p,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var s=this.length;if(s%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var h=0;h<s;h+=2)I(this,h,h+1);return this},i.prototype.swap32=function(){var s=this.length;if(s%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var h=0;h<s;h+=4)I(this,h,h+3),I(this,h+1,h+2);return this},i.prototype.swap64=function(){var s=this.length;if(s%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var h=0;h<s;h+=8)I(this,h,h+7),I(this,h+1,h+6),I(this,h+2,h+5),I(this,h+3,h+4);return this},i.prototype.toString=function(){var s=this.length;return s===0?"":arguments.length===0?C(this,0,s):M.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(s){if(!i.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s||i.compare(this,s)===0},i.prototype.inspect=function(){var s="",h=u.INSPECT_MAX_BYTES;return s=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(s+=" ... "),"<Buffer "+s+">"},i.prototype.compare=function(s,h,g,U,K){if(P(s,Uint8Array)&&(s=i.from(s,s.offset,s.byteLength)),!i.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(h===void 0&&(h=0),g===void 0&&(g=s?s.length:0),U===void 0&&(U=0),K===void 0&&(K=this.length),h<0||g>s.length||U<0||K>this.length)throw new RangeError("out of range index");if(U>=K&&h>=g)return 0;if(U>=K)return-1;if(h>=g)return 1;if(this===s)return 0;for(var E=(K>>>=0)-(U>>>=0),J=(g>>>=0)-(h>>>=0),oe=Math.min(E,J),Z=this.slice(U,K),de=s.slice(h,g),ge=0;ge<oe;++ge)if(Z[ge]!==de[ge]){E=Z[ge],J=de[ge];break}return E<J?-1:J<E?1:0},i.prototype.includes=function(s,h,g){return this.indexOf(s,h,g)!==-1},i.prototype.indexOf=function(s,h,g){return S(this,s,h,g,!0)},i.prototype.lastIndexOf=function(s,h,g){return S(this,s,h,g,!1)},i.prototype.write=function(s,h,g,U){if(h===void 0)U="utf8",g=this.length,h=0;else if(g===void 0&&typeof h=="string")U=h,g=this.length,h=0;else{if(!isFinite(h))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");h>>>=0,isFinite(g)?(g>>>=0,U===void 0&&(U="utf8")):(U=g,g=void 0)}var K=this.length-h;if((g===void 0||g>K)&&(g=K),s.length>0&&(g<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");U||(U="utf8");for(var E=!1;;)switch(U){case"hex":return z(this,s,h,g);case"utf8":case"utf-8":return y(this,s,h,g);case"ascii":return b(this,s,h,g);case"latin1":case"binary":return B(this,s,h,g);case"base64":return H(this,s,h,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,s,h,g);default:if(E)throw new TypeError("Unknown encoding: "+U);U=(""+U).toLowerCase(),E=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function te(s,h,g){var U="";g=Math.min(s.length,g);for(var K=h;K<g;++K)U+=String.fromCharCode(127&s[K]);return U}function V(s,h,g){var U="";g=Math.min(s.length,g);for(var K=h;K<g;++K)U+=String.fromCharCode(s[K]);return U}function Q(s,h,g){var U,K=s.length;(!h||h<0)&&(h=0),(!g||g<0||g>K)&&(g=K);for(var E="",J=h;J<g;++J)E+=(U=s[J])<16?"0"+U.toString(16):U.toString(16);return E}function W(s,h,g){for(var U=s.slice(h,g),K="",E=0;E<U.length;E+=2)K+=String.fromCharCode(U[E]+256*U[E+1]);return K}function L(s,h,g){if(s%1!=0||s<0)throw new RangeError("offset is not uint");if(s+h>g)throw new RangeError("Trying to access beyond buffer length")}function Y(s,h,g,U,K,E){if(!i.isBuffer(s))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>K||h<E)throw new RangeError('"value" argument is out of bounds');if(g+U>s.length)throw new RangeError("Index out of range")}function O(s,h,g,U,K,E){if(g+U>s.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function D(s,h,g,U,K){return h=+h,g>>>=0,K||O(s,0,g,4),n.write(s,h,g,U,23,4),g+4}function re(s,h,g,U,K){return h=+h,g>>>=0,K||O(s,0,g,8),n.write(s,h,g,U,52,8),g+8}i.prototype.slice=function(s,h){var g=this.length;(s=~~s)<0?(s+=g)<0&&(s=0):s>g&&(s=g),(h=h===void 0?g:~~h)<0?(h+=g)<0&&(h=0):h>g&&(h=g),h<s&&(h=s);var U=this.subarray(s,h);return U.__proto__=i.prototype,U},i.prototype.readUIntLE=function(s,h,g){s>>>=0,h>>>=0,g||L(s,h,this.length);for(var U=this[s],K=1,E=0;++E<h&&(K*=256);)U+=this[s+E]*K;return U},i.prototype.readUIntBE=function(s,h,g){s>>>=0,h>>>=0,g||L(s,h,this.length);for(var U=this[s+--h],K=1;h>0&&(K*=256);)U+=this[s+--h]*K;return U},i.prototype.readUInt8=function(s,h){return s>>>=0,h||L(s,1,this.length),this[s]},i.prototype.readUInt16LE=function(s,h){return s>>>=0,h||L(s,2,this.length),this[s]|this[s+1]<<8},i.prototype.readUInt16BE=function(s,h){return s>>>=0,h||L(s,2,this.length),this[s]<<8|this[s+1]},i.prototype.readUInt32LE=function(s,h){return s>>>=0,h||L(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+16777216*this[s+3]},i.prototype.readUInt32BE=function(s,h){return s>>>=0,h||L(s,4,this.length),16777216*this[s]+(this[s+1]<<16|this[s+2]<<8|this[s+3])},i.prototype.readIntLE=function(s,h,g){s>>>=0,h>>>=0,g||L(s,h,this.length);for(var U=this[s],K=1,E=0;++E<h&&(K*=256);)U+=this[s+E]*K;return U>=(K*=128)&&(U-=Math.pow(2,8*h)),U},i.prototype.readIntBE=function(s,h,g){s>>>=0,h>>>=0,g||L(s,h,this.length);for(var U=h,K=1,E=this[s+--U];U>0&&(K*=256);)E+=this[s+--U]*K;return E>=(K*=128)&&(E-=Math.pow(2,8*h)),E},i.prototype.readInt8=function(s,h){return s>>>=0,h||L(s,1,this.length),128&this[s]?-1*(255-this[s]+1):this[s]},i.prototype.readInt16LE=function(s,h){s>>>=0,h||L(s,2,this.length);var g=this[s]|this[s+1]<<8;return 32768&g?4294901760|g:g},i.prototype.readInt16BE=function(s,h){s>>>=0,h||L(s,2,this.length);var g=this[s+1]|this[s]<<8;return 32768&g?4294901760|g:g},i.prototype.readInt32LE=function(s,h){return s>>>=0,h||L(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},i.prototype.readInt32BE=function(s,h){return s>>>=0,h||L(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},i.prototype.readFloatLE=function(s,h){return s>>>=0,h||L(s,4,this.length),n.read(this,s,!0,23,4)},i.prototype.readFloatBE=function(s,h){return s>>>=0,h||L(s,4,this.length),n.read(this,s,!1,23,4)},i.prototype.readDoubleLE=function(s,h){return s>>>=0,h||L(s,8,this.length),n.read(this,s,!0,52,8)},i.prototype.readDoubleBE=function(s,h){return s>>>=0,h||L(s,8,this.length),n.read(this,s,!1,52,8)},i.prototype.writeUIntLE=function(s,h,g,U){s=+s,h>>>=0,g>>>=0,U||Y(this,s,h,g,Math.pow(2,8*g)-1,0);var K=1,E=0;for(this[h]=255&s;++E<g&&(K*=256);)this[h+E]=s/K&255;return h+g},i.prototype.writeUIntBE=function(s,h,g,U){s=+s,h>>>=0,g>>>=0,U||Y(this,s,h,g,Math.pow(2,8*g)-1,0);var K=g-1,E=1;for(this[h+K]=255&s;--K>=0&&(E*=256);)this[h+K]=s/E&255;return h+g},i.prototype.writeUInt8=function(s,h,g){return s=+s,h>>>=0,g||Y(this,s,h,1,255,0),this[h]=255&s,h+1},i.prototype.writeUInt16LE=function(s,h,g){return s=+s,h>>>=0,g||Y(this,s,h,2,65535,0),this[h]=255&s,this[h+1]=s>>>8,h+2},i.prototype.writeUInt16BE=function(s,h,g){return s=+s,h>>>=0,g||Y(this,s,h,2,65535,0),this[h]=s>>>8,this[h+1]=255&s,h+2},i.prototype.writeUInt32LE=function(s,h,g){return s=+s,h>>>=0,g||Y(this,s,h,4,4294967295,0),this[h+3]=s>>>24,this[h+2]=s>>>16,this[h+1]=s>>>8,this[h]=255&s,h+4},i.prototype.writeUInt32BE=function(s,h,g){return s=+s,h>>>=0,g||Y(this,s,h,4,4294967295,0),this[h]=s>>>24,this[h+1]=s>>>16,this[h+2]=s>>>8,this[h+3]=255&s,h+4},i.prototype.writeIntLE=function(s,h,g,U){if(s=+s,h>>>=0,!U){var K=Math.pow(2,8*g-1);Y(this,s,h,g,K-1,-K)}var E=0,J=1,oe=0;for(this[h]=255&s;++E<g&&(J*=256);)s<0&&oe===0&&this[h+E-1]!==0&&(oe=1),this[h+E]=(s/J>>0)-oe&255;return h+g},i.prototype.writeIntBE=function(s,h,g,U){if(s=+s,h>>>=0,!U){var K=Math.pow(2,8*g-1);Y(this,s,h,g,K-1,-K)}var E=g-1,J=1,oe=0;for(this[h+E]=255&s;--E>=0&&(J*=256);)s<0&&oe===0&&this[h+E+1]!==0&&(oe=1),this[h+E]=(s/J>>0)-oe&255;return h+g},i.prototype.writeInt8=function(s,h,g){return s=+s,h>>>=0,g||Y(this,s,h,1,127,-128),s<0&&(s=255+s+1),this[h]=255&s,h+1},i.prototype.writeInt16LE=function(s,h,g){return s=+s,h>>>=0,g||Y(this,s,h,2,32767,-32768),this[h]=255&s,this[h+1]=s>>>8,h+2},i.prototype.writeInt16BE=function(s,h,g){return s=+s,h>>>=0,g||Y(this,s,h,2,32767,-32768),this[h]=s>>>8,this[h+1]=255&s,h+2},i.prototype.writeInt32LE=function(s,h,g){return s=+s,h>>>=0,g||Y(this,s,h,4,2147483647,-2147483648),this[h]=255&s,this[h+1]=s>>>8,this[h+2]=s>>>16,this[h+3]=s>>>24,h+4},i.prototype.writeInt32BE=function(s,h,g){return s=+s,h>>>=0,g||Y(this,s,h,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[h]=s>>>24,this[h+1]=s>>>16,this[h+2]=s>>>8,this[h+3]=255&s,h+4},i.prototype.writeFloatLE=function(s,h,g){return D(this,s,h,!0,g)},i.prototype.writeFloatBE=function(s,h,g){return D(this,s,h,!1,g)},i.prototype.writeDoubleLE=function(s,h,g){return re(this,s,h,!0,g)},i.prototype.writeDoubleBE=function(s,h,g){return re(this,s,h,!1,g)},i.prototype.copy=function(s,h,g,U){if(!i.isBuffer(s))throw new TypeError("argument should be a Buffer");if(g||(g=0),U||U===0||(U=this.length),h>=s.length&&(h=s.length),h||(h=0),U>0&&U<g&&(U=g),U===g||s.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("sourceEnd out of bounds");U>this.length&&(U=this.length),s.length-h<U-g&&(U=s.length-h+g);var K=U-g;if(this===s&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(h,g,U);else if(this===s&&g<h&&h<U)for(var E=K-1;E>=0;--E)s[E+h]=this[E+g];else Uint8Array.prototype.set.call(s,this.subarray(g,U),h);return K},i.prototype.fill=function(s,h,g,U){if(typeof s=="string"){if(typeof h=="string"?(U=h,h=0,g=this.length):typeof g=="string"&&(U=g,g=this.length),U!==void 0&&typeof U!="string")throw new TypeError("encoding must be a string");if(typeof U=="string"&&!i.isEncoding(U))throw new TypeError("Unknown encoding: "+U);if(s.length===1){var K=s.charCodeAt(0);(U==="utf8"&&K<128||U==="latin1")&&(s=K)}}else typeof s=="number"&&(s&=255);if(h<0||this.length<h||this.length<g)throw new RangeError("Out of range index");if(g<=h)return this;var E;if(h>>>=0,g=g===void 0?this.length:g>>>0,s||(s=0),typeof s=="number")for(E=h;E<g;++E)this[E]=s;else{var J=i.isBuffer(s)?s:i.from(s,U),oe=J.length;if(oe===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(E=0;E<g-h;++E)this[E+h]=J[E%oe]}return this};var ae=/[^+/0-9A-Za-z-_]/g;function he(s,h){var g;h=h||1/0;for(var U=s.length,K=null,E=[],J=0;J<U;++J){if((g=s.charCodeAt(J))>55295&&g<57344){if(!K){if(g>56319){(h-=3)>-1&&E.push(239,191,189);continue}if(J+1===U){(h-=3)>-1&&E.push(239,191,189);continue}K=g;continue}if(g<56320){(h-=3)>-1&&E.push(239,191,189),K=g;continue}g=65536+(K-55296<<10|g-56320)}else K&&(h-=3)>-1&&E.push(239,191,189);if(K=null,g<128){if((h-=1)<0)break;E.push(g)}else if(g<2048){if((h-=2)<0)break;E.push(g>>6|192,63&g|128)}else if(g<65536){if((h-=3)<0)break;E.push(g>>12|224,g>>6&63|128,63&g|128)}else{if(!(g<1114112))throw new Error("Invalid code point");if((h-=4)<0)break;E.push(g>>18|240,g>>12&63|128,g>>6&63|128,63&g|128)}}return E}function v(s){return e.toByteArray(function(h){if((h=(h=h.split("=")[0]).trim().replace(ae,"")).length<2)return"";for(;h.length%4!=0;)h+="=";return h}(s))}function A(s,h,g,U){for(var K=0;K<U&&!(K+g>=h.length||K>=s.length);++K)h[K+g]=s[K];return K}function P(s,h){return s instanceof h||s!=null&&s.constructor!=null&&s.constructor.name!=null&&s.constructor.name===h.name}function X(s){return s!=s}}).call(this)}).call(this,l("buffer").Buffer)},{"base64-js":29,buffer:33,ieee754:44}],34:[function(l,_,u){var o,e=TypeError,n=Object.getOwnPropertyDescriptor;if(n)try{n({},"")}catch{n=null}var r=function(){throw new e},t=n?function(){try{return r}catch{try{return n(arguments,"callee").get}catch{return r}}}():r,i=l("has-symbols")(),f=Object.getPrototypeOf||function(y){return y.__proto__},d=o,m=o,a=o,c=typeof Uint8Array>"u"?o:f(Uint8Array),p={"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?o:ArrayBuffer,"%ArrayBufferPrototype%":typeof ArrayBuffer>"u"?o:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":i?f([][Symbol.iterator]()):o,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":m,"%AsyncFunctionPrototype%":o,"%AsyncGenerator%":o,"%AsyncGeneratorFunction%":a,"%AsyncGeneratorPrototype%":o,"%AsyncIteratorPrototype%":o,"%Atomics%":typeof Atomics>"u"?o:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":typeof DataView>"u"?o:DataView,"%DataViewPrototype%":typeof DataView>"u"?o:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":typeof Float32Array>"u"?o:Float32Array,"%Float32ArrayPrototype%":typeof Float32Array>"u"?o:Float32Array.prototype,"%Float64Array%":typeof Float64Array>"u"?o:Float64Array,"%Float64ArrayPrototype%":typeof Float64Array>"u"?o:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":o,"%GeneratorFunction%":d,"%GeneratorPrototype%":o,"%Int8Array%":typeof Int8Array>"u"?o:Int8Array,"%Int8ArrayPrototype%":typeof Int8Array>"u"?o:Int8Array.prototype,"%Int16Array%":typeof Int16Array>"u"?o:Int16Array,"%Int16ArrayPrototype%":typeof Int16Array>"u"?o:Int8Array.prototype,"%Int32Array%":typeof Int32Array>"u"?o:Int32Array,"%Int32ArrayPrototype%":typeof Int32Array>"u"?o:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":i?f(f([][Symbol.iterator]())):o,"%JSON%":typeof JSON=="object"?JSON:o,"%JSONParse%":typeof JSON=="object"?JSON.parse:o,"%Map%":typeof Map>"u"?o:Map,"%MapIteratorPrototype%":typeof Map<"u"&&i?f(new Map()[Symbol.iterator]()):o,"%MapPrototype%":typeof Map>"u"?o:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?o:Promise,"%PromisePrototype%":typeof Promise>"u"?o:Promise.prototype,"%PromiseProto_then%":typeof Promise>"u"?o:Promise.prototype.then,"%Promise_all%":typeof Promise>"u"?o:Promise.all,"%Promise_reject%":typeof Promise>"u"?o:Promise.reject,"%Promise_resolve%":typeof Promise>"u"?o:Promise.resolve,"%Proxy%":typeof Proxy>"u"?o:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":typeof Reflect>"u"?o:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":typeof Set>"u"?o:Set,"%SetIteratorPrototype%":typeof Set<"u"&&i?f(new Set()[Symbol.iterator]()):o,"%SetPrototype%":typeof Set>"u"?o:Set.prototype,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?o:SharedArrayBuffer,"%SharedArrayBufferPrototype%":typeof SharedArrayBuffer>"u"?o:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":i?f(""[Symbol.iterator]()):o,"%StringPrototype%":String.prototype,"%Symbol%":i?Symbol:o,"%SymbolPrototype%":i?Symbol.prototype:o,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":t,"%TypedArray%":c,"%TypedArrayPrototype%":c?c.prototype:o,"%TypeError%":e,"%TypeErrorPrototype%":e.prototype,"%Uint8Array%":typeof Uint8Array>"u"?o:Uint8Array,"%Uint8ArrayPrototype%":typeof Uint8Array>"u"?o:Uint8Array.prototype,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?o:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":typeof Uint8ClampedArray>"u"?o:Uint8ClampedArray.prototype,"%Uint16Array%":typeof Uint16Array>"u"?o:Uint16Array,"%Uint16ArrayPrototype%":typeof Uint16Array>"u"?o:Uint16Array.prototype,"%Uint32Array%":typeof Uint32Array>"u"?o:Uint32Array,"%Uint32ArrayPrototype%":typeof Uint32Array>"u"?o:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":typeof WeakMap>"u"?o:WeakMap,"%WeakMapPrototype%":typeof WeakMap>"u"?o:WeakMap.prototype,"%WeakSet%":typeof WeakSet>"u"?o:WeakSet,"%WeakSetPrototype%":typeof WeakSet>"u"?o:WeakSet.prototype},M=l("function-bind").call(Function.call,String.prototype.replace),I=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,G=function(y){var b=[];return M(y,I,function(B,H,R,T){b[b.length]=R?M(T,S,"$1"):H||B}),b},z=function(y,b){if(!(y in p))throw new SyntaxError("intrinsic "+y+" does not exist!");if(p[y]===void 0&&!b)throw new e("intrinsic "+y+" exists, but is not available. Please file an issue!");return p[y]};_.exports=function(y,b){if(typeof y!="string"||y.length===0)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof b!="boolean")throw new TypeError('"allowMissing" argument must be a boolean');for(var B=G(y),H=z("%"+(B.length>0?B[0]:"")+"%",b),R=1;R<B.length;R+=1)if(H!=null)if(n&&R+1>=B.length){var T=n(H,B[R]);if(!b&&!(B[R]in H))throw new e("base intrinsic for "+y+" exists, but the property is not available.");H=T?T.get||T.value:H[B[R]]}else H=H[B[R]];return H}},{"function-bind":41,"has-symbols":42}],35:[function(l,_,u){var o=l("function-bind"),e=l("../GetIntrinsic")("%Function%"),n=e.apply,r=e.call;_.exports=function(){return o.apply(r,arguments)},_.exports.apply=function(){return o.apply(n,arguments)}},{"../GetIntrinsic":34,"function-bind":41}],36:[function(l,_,u){var o=l("../GetIntrinsic"),e=l("./callBind"),n=e(o("String.prototype.indexOf"));_.exports=function(r,t){var i=o(r,!!t);return typeof i=="function"&&n(r,".prototype.")?e(i):i}},{"../GetIntrinsic":34,"./callBind":35}],37:[function(l,_,u){var o=l("../GetIntrinsic")("%Object.getOwnPropertyDescriptor%");if(o)try{o([],"length")}catch{o=null}_.exports=o},{"../GetIntrinsic":34}],38:[function(l,_,u){var o,e=typeof Reflect=="object"?Reflect:null,n=e&&typeof e.apply=="function"?e.apply:function(S,G,z){return Function.prototype.apply.call(S,G,z)};o=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:function(S){return Object.getOwnPropertyNames(S)};var r=Number.isNaN||function(S){return S!=S};function t(){t.init.call(this)}_.exports=t,_.exports.once=function(S,G){return new Promise(function(z,y){function b(){B!==void 0&&S.removeListener("error",B),z([].slice.call(arguments))}var B;G!=="error"&&(B=function(H){S.removeListener(G,b),y(H)},S.once("error",B)),S.once(G,b)})},t.EventEmitter=t,t.prototype._events=void 0,t.prototype._eventsCount=0,t.prototype._maxListeners=void 0;var i=10;function f(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}function d(S){return S._maxListeners===void 0?t.defaultMaxListeners:S._maxListeners}function m(S,G,z,y){var b,B,H,R;if(f(z),(B=S._events)===void 0?(B=S._events=Object.create(null),S._eventsCount=0):(B.newListener!==void 0&&(S.emit("newListener",G,z.listener?z.listener:z),B=S._events),H=B[G]),H===void 0)H=B[G]=z,++S._eventsCount;else if(typeof H=="function"?H=B[G]=y?[z,H]:[H,z]:y?H.unshift(z):H.push(z),(b=d(S))>0&&H.length>b&&!H.warned){H.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+H.length+" "+String(G)+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=S,T.type=G,T.count=H.length,R=T,console&&console.warn&&console.warn(R)}return S}function a(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(S,G,z){var y={fired:!1,wrapFn:void 0,target:S,type:G,listener:z},b=a.bind(y);return b.listener=z,y.wrapFn=b,b}function p(S,G,z){var y=S._events;if(y===void 0)return[];var b=y[G];return b===void 0?[]:typeof b=="function"?z?[b.listener||b]:[b]:z?function(B){for(var H=new Array(B.length),R=0;R<H.length;++R)H[R]=B[R].listener||B[R];return H}(b):I(b,b.length)}function M(S){var G=this._events;if(G!==void 0){var z=G[S];if(typeof z=="function")return 1;if(z!==void 0)return z.length}return 0}function I(S,G){for(var z=new Array(G),y=0;y<G;++y)z[y]=S[y];return z}Object.defineProperty(t,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(S){if(typeof S!="number"||S<0||r(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");i=S}}),t.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},t.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||r(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this},t.prototype.getMaxListeners=function(){return d(this)},t.prototype.emit=function(S){for(var G=[],z=1;z<arguments.length;z++)G.push(arguments[z]);var y=S==="error",b=this._events;if(b!==void 0)y=y&&b.error===void 0;else if(!y)return!1;if(y){var B;if(G.length>0&&(B=G[0]),B instanceof Error)throw B;var H=new Error("Unhandled error."+(B?" ("+B.message+")":""));throw H.context=B,H}var R=b[S];if(R===void 0)return!1;if(typeof R=="function")n(R,this,G);else{var T=R.length,C=I(R,T);for(z=0;z<T;++z)n(C[z],this,G)}return!0},t.prototype.addListener=function(S,G){return m(this,S,G,!1)},t.prototype.on=t.prototype.addListener,t.prototype.prependListener=function(S,G){return m(this,S,G,!0)},t.prototype.once=function(S,G){return f(G),this.on(S,c(this,S,G)),this},t.prototype.prependOnceListener=function(S,G){return f(G),this.prependListener(S,c(this,S,G)),this},t.prototype.removeListener=function(S,G){var z,y,b,B,H;if(f(G),(y=this._events)===void 0)return this;if((z=y[S])===void 0)return this;if(z===G||z.listener===G)--this._eventsCount==0?this._events=Object.create(null):(delete y[S],y.removeListener&&this.emit("removeListener",S,z.listener||G));else if(typeof z!="function"){for(b=-1,B=z.length-1;B>=0;B--)if(z[B]===G||z[B].listener===G){H=z[B].listener,b=B;break}if(b<0)return this;b===0?z.shift():function(R,T){for(;T+1<R.length;T++)R[T]=R[T+1];R.pop()}(z,b),z.length===1&&(y[S]=z[0]),y.removeListener!==void 0&&this.emit("removeListener",S,H||G)}return this},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(S){var G,z,y;if((z=this._events)===void 0)return this;if(z.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):z[S]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete z[S]),this;if(arguments.length===0){var b,B=Object.keys(z);for(y=0;y<B.length;++y)(b=B[y])!=="removeListener"&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(G=z[S])=="function")this.removeListener(S,G);else if(G!==void 0)for(y=G.length-1;y>=0;y--)this.removeListener(S,G[y]);return this},t.prototype.listeners=function(S){return p(this,S,!0)},t.prototype.rawListeners=function(S){return p(this,S,!1)},t.listenerCount=function(S,G){return typeof S.listenerCount=="function"?S.listenerCount(G):M.call(S,G)},t.prototype.listenerCount=M,t.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]}},{}],39:[function(l,_,u){var o=Object.prototype.hasOwnProperty,e=Object.prototype.toString;_.exports=function(n,r,t){if(e.call(r)!=="[object Function]")throw new TypeError("iterator must be a function");var i=n.length;if(i===+i)for(var f=0;f<i;f++)r.call(t,n[f],f,n);else for(var d in n)o.call(n,d)&&r.call(t,n[d],d,n)}},{}],40:[function(l,_,u){var o="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,n=Object.prototype.toString,r="[object Function]";_.exports=function(t){var i=this;if(typeof i!="function"||n.call(i)!==r)throw new TypeError(o+i);for(var f,d=e.call(arguments,1),m=Math.max(0,i.length-d.length),a=[],c=0;c<m;c++)a.push("$"+c);if(f=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof f){var M=i.apply(this,d.concat(e.call(arguments)));return Object(M)===M?M:this}return i.apply(t,d.concat(e.call(arguments)))}),i.prototype){var p=function(){};p.prototype=i.prototype,f.prototype=new p,p.prototype=null}return f}},{}],41:[function(l,_,u){var o=l("./implementation");_.exports=Function.prototype.bind||o},{"./implementation":40}],42:[function(l,_,u){(function(o){(function(){var e=o.Symbol,n=l("./shams");_.exports=function(){return typeof e=="function"&&typeof Symbol=="function"&&typeof e("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&n()}}).call(this)}).call(this,j.g!==void 0?j.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"./shams":43}],43:[function(l,_,u){_.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var o={},e=Symbol("test"),n=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;for(e in o[e]=42,o)return!1;if(typeof Object.keys=="function"&&Object.keys(o).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(o).length!==0)return!1;var r=Object.getOwnPropertySymbols(o);if(r.length!==1||r[0]!==e||!Object.prototype.propertyIsEnumerable.call(o,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var t=Object.getOwnPropertyDescriptor(o,e);if(t.value!==42||t.enumerable!==!0)return!1}return!0}},{}],44:[function(l,_,u){u.read=function(o,e,n,r,t){var i,f,d=8*t-r-1,m=(1<<d)-1,a=m>>1,c=-7,p=n?t-1:0,M=n?-1:1,I=o[e+p];for(p+=M,i=I&(1<<-c)-1,I>>=-c,c+=d;c>0;i=256*i+o[e+p],p+=M,c-=8);for(f=i&(1<<-c)-1,i>>=-c,c+=r;c>0;f=256*f+o[e+p],p+=M,c-=8);if(i===0)i=1-a;else{if(i===m)return f?NaN:1/0*(I?-1:1);f+=Math.pow(2,r),i-=a}return(I?-1:1)*f*Math.pow(2,i-r)},u.write=function(o,e,n,r,t,i){var f,d,m,a=8*i-t-1,c=(1<<a)-1,p=c>>1,M=t===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=r?0:i-1,S=r?1:-1,G=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(d=isNaN(e)?1:0,f=c):(f=Math.floor(Math.log(e)/Math.LN2),e*(m=Math.pow(2,-f))<1&&(f--,m*=2),(e+=f+p>=1?M/m:M*Math.pow(2,1-p))*m>=2&&(f++,m/=2),f+p>=c?(d=0,f=c):f+p>=1?(d=(e*m-1)*Math.pow(2,t),f+=p):(d=e*Math.pow(2,p-1)*Math.pow(2,t),f=0));t>=8;o[n+I]=255&d,I+=S,d/=256,t-=8);for(f=f<<t|d,a+=t;a>0;o[n+I]=255&f,I+=S,f/=256,a-=8);o[n+I-S]|=128*G}},{}],45:[function(l,_,u){typeof Object.create=="function"?_.exports=function(o,e){e&&(o.super_=e,o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}:_.exports=function(o,e){if(e){o.super_=e;var n=function(){};n.prototype=e.prototype,o.prototype=new n,o.prototype.constructor=o}}},{}],46:[function(l,_,u){var o=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",e=Object.prototype.toString,n=function(i){return!(o&&i&&typeof i=="object"&&Symbol.toStringTag in i)&&e.call(i)==="[object Arguments]"},r=function(i){return!!n(i)||i!==null&&typeof i=="object"&&typeof i.length=="number"&&i.length>=0&&e.call(i)!=="[object Array]"&&e.call(i.callee)==="[object Function]"},t=function(){return n(arguments)}();n.isLegacyArguments=r,_.exports=t?n:r},{}],47:[function(l,_,u){var o=Object.prototype.toString,e=Function.prototype.toString,n=/^\s*(?:function)?\*/,r=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",t=Object.getPrototypeOf,i=function(){if(!r)return!1;try{return Function("return function*() {}")()}catch{}}(),f=i?t(i):{};_.exports=function(d){return typeof d=="function"&&(!!n.test(e.call(d))||(r?t(d)===f:o.call(d)==="[object GeneratorFunction]"))}},{}],48:[function(l,_,u){(function(o){(function(){var e=l("foreach"),n=l("available-typed-arrays"),r=l("es-abstract/helpers/callBound"),t=r("Object.prototype.toString"),i=l("has-symbols")()&&typeof Symbol.toStringTag=="symbol",f=n(),d=r("Array.prototype.indexOf",!0)||function(M,I){for(var S=0;S<M.length;S+=1)if(M[S]===I)return S;return-1},m=r("String.prototype.slice"),a={},c=l("es-abstract/helpers/getOwnPropertyDescriptor"),p=Object.getPrototypeOf;i&&c&&p&&e(f,function(M){var I=new o[M];if(!(Symbol.toStringTag in I))throw new EvalError("this engine has support for Symbol.toStringTag, but "+M+" does not have the property! Please report this.");var S=p(I),G=c(S,Symbol.toStringTag);if(!G){var z=p(S);G=c(z,Symbol.toStringTag)}a[M]=G.get}),_.exports=function(M){if(!M||typeof M!="object")return!1;if(!i){var I=m(t(M),8,-1);return d(f,I)>-1}return!!c&&function(S){var G=!1;return e(a,function(z,y){if(!G)try{G=z.call(S)===y}catch{}}),G}(M)}}).call(this)}).call(this,j.g!==void 0?j.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"available-typed-arrays":27,"es-abstract/helpers/callBound":36,"es-abstract/helpers/getOwnPropertyDescriptor":37,foreach:39,"has-symbols":42}],49:[function(l,_,u){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function e(t,i){return Object.prototype.hasOwnProperty.call(t,i)}u.assign=function(t){for(var i=Array.prototype.slice.call(arguments,1);i.length;){var f=i.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var d in f)e(f,d)&&(t[d]=f[d])}}return t},u.shrinkBuf=function(t,i){return t.length===i?t:t.subarray?t.subarray(0,i):(t.length=i,t)};var n={arraySet:function(t,i,f,d,m){if(i.subarray&&t.subarray)t.set(i.subarray(f,f+d),m);else for(var a=0;a<d;a++)t[m+a]=i[f+a]},flattenChunks:function(t){var i,f,d,m,a,c;for(d=0,i=0,f=t.length;i<f;i++)d+=t[i].length;for(c=new Uint8Array(d),m=0,i=0,f=t.length;i<f;i++)a=t[i],c.set(a,m),m+=a.length;return c}},r={arraySet:function(t,i,f,d,m){for(var a=0;a<d;a++)t[m+a]=i[f+a]},flattenChunks:function(t){return[].concat.apply([],t)}};u.setTyped=function(t){t?(u.Buf8=Uint8Array,u.Buf16=Uint16Array,u.Buf32=Int32Array,u.assign(u,n)):(u.Buf8=Array,u.Buf16=Array,u.Buf32=Array,u.assign(u,r))},u.setTyped(o)},{}],50:[function(l,_,u){_.exports=function(o,e,n,r){for(var t=65535&o|0,i=o>>>16&65535|0,f=0;n!==0;){n-=f=n>2e3?2e3:n;do i=i+(t=t+e[r++]|0)|0;while(--f);t%=65521,i%=65521}return t|i<<16|0}},{}],51:[function(l,_,u){_.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],52:[function(l,_,u){var o=function(){for(var e,n=[],r=0;r<256;r++){e=r;for(var t=0;t<8;t++)e=1&e?3988292384^e>>>1:e>>>1;n[r]=e}return n}();_.exports=function(e,n,r,t){var i=o,f=t+r;e^=-1;for(var d=t;d<f;d++)e=e>>>8^i[255&(e^n[d])];return-1^e}},{}],53:[function(l,_,u){var o,e=l("../utils/common"),n=l("./trees"),r=l("./adler32"),t=l("./crc32"),i=l("./messages"),f=0,d=1,m=3,a=4,c=5,p=0,M=1,I=-2,S=-3,G=-5,z=-1,y=1,b=2,B=3,H=4,R=0,T=2,C=8,k=9,te=15,V=8,Q=286,W=30,L=19,Y=2*Q+1,O=15,D=3,re=258,ae=re+D+1,he=32,v=42,A=69,P=73,X=91,s=103,h=113,g=666,U=1,K=2,E=3,J=4,oe=3;function Z(F,ye){return F.msg=i[ye],ye}function de(F){return(F<<1)-(F>4?9:0)}function ge(F){for(var ye=F.length;--ye>=0;)F[ye]=0}function xe(F){var ye=F.state,$=ye.pending;$>F.avail_out&&($=F.avail_out),$!==0&&(e.arraySet(F.output,ye.pending_buf,ye.pending_out,$,F.next_out),F.next_out+=$,ye.pending_out+=$,F.total_out+=$,F.avail_out-=$,ye.pending-=$,ye.pending===0&&(ye.pending_out=0))}function we(F,ye){n._tr_flush_block(F,F.block_start>=0?F.block_start:-1,F.strstart-F.block_start,ye),F.block_start=F.strstart,xe(F.strm)}function ne(F,ye){F.pending_buf[F.pending++]=ye}function fe(F,ye){F.pending_buf[F.pending++]=ye>>>8&255,F.pending_buf[F.pending++]=255&ye}function be(F,ye){var $,ce,De=F.max_chain_length,Pe=F.strstart,Ye=F.prev_length,Te=F.nice_match,ze=F.strstart>F.w_size-ae?F.strstart-(F.w_size-ae):0,Be=F.window,Ee=F.w_mask,He=F.prev,We=F.strstart+re,je=Be[Pe+Ye-1],Xe=Be[Pe+Ye];F.prev_length>=F.good_match&&(De>>=2),Te>F.lookahead&&(Te=F.lookahead);do if(Be[($=ye)+Ye]===Xe&&Be[$+Ye-1]===je&&Be[$]===Be[Pe]&&Be[++$]===Be[Pe+1]){Pe+=2,$++;do;while(Be[++Pe]===Be[++$]&&Be[++Pe]===Be[++$]&&Be[++Pe]===Be[++$]&&Be[++Pe]===Be[++$]&&Be[++Pe]===Be[++$]&&Be[++Pe]===Be[++$]&&Be[++Pe]===Be[++$]&&Be[++Pe]===Be[++$]&&Pe<We);if(ce=re-(We-Pe),Pe=We-re,ce>Ye){if(F.match_start=ye,Ye=ce,ce>=Te)break;je=Be[Pe+Ye-1],Xe=Be[Pe+Ye]}}while((ye=He[ye&Ee])>ze&&--De!=0);return Ye<=F.lookahead?Ye:F.lookahead}function Se(F){var ye,$,ce,De,Pe,Ye,Te,ze,Be,Ee,He=F.w_size;do{if(De=F.window_size-F.lookahead-F.strstart,F.strstart>=He+(He-ae)){e.arraySet(F.window,F.window,He,He,0),F.match_start-=He,F.strstart-=He,F.block_start-=He,ye=$=F.hash_size;do ce=F.head[--ye],F.head[ye]=ce>=He?ce-He:0;while(--$);ye=$=He;do ce=F.prev[--ye],F.prev[ye]=ce>=He?ce-He:0;while(--$);De+=He}if(F.strm.avail_in===0)break;if(Ye=F.strm,Te=F.window,ze=F.strstart+F.lookahead,Be=De,Ee=void 0,(Ee=Ye.avail_in)>Be&&(Ee=Be),$=Ee===0?0:(Ye.avail_in-=Ee,e.arraySet(Te,Ye.input,Ye.next_in,Ee,ze),Ye.state.wrap===1?Ye.adler=r(Ye.adler,Te,Ee,ze):Ye.state.wrap===2&&(Ye.adler=t(Ye.adler,Te,Ee,ze)),Ye.next_in+=Ee,Ye.total_in+=Ee,Ee),F.lookahead+=$,F.lookahead+F.insert>=D)for(Pe=F.strstart-F.insert,F.ins_h=F.window[Pe],F.ins_h=(F.ins_h<<F.hash_shift^F.window[Pe+1])&F.hash_mask;F.insert&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[Pe+D-1])&F.hash_mask,F.prev[Pe&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=Pe,Pe++,F.insert--,!(F.lookahead+F.insert<D)););}while(F.lookahead<ae&&F.strm.avail_in!==0)}function me(F,ye){for(var $,ce;;){if(F.lookahead<ae){if(Se(F),F.lookahead<ae&&ye===f)return U;if(F.lookahead===0)break}if($=0,F.lookahead>=D&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+D-1])&F.hash_mask,$=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),$!==0&&F.strstart-$<=F.w_size-ae&&(F.match_length=be(F,$)),F.match_length>=D)if(ce=n._tr_tally(F,F.strstart-F.match_start,F.match_length-D),F.lookahead-=F.match_length,F.match_length<=F.max_lazy_match&&F.lookahead>=D){F.match_length--;do F.strstart++,F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+D-1])&F.hash_mask,$=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart;while(--F.match_length!=0);F.strstart++}else F.strstart+=F.match_length,F.match_length=0,F.ins_h=F.window[F.strstart],F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+1])&F.hash_mask;else ce=n._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++;if(ce&&(we(F,!1),F.strm.avail_out===0))return U}return F.insert=F.strstart<D-1?F.strstart:D-1,ye===a?(we(F,!0),F.strm.avail_out===0?E:J):F.last_lit&&(we(F,!1),F.strm.avail_out===0)?U:K}function Me(F,ye){for(var $,ce,De;;){if(F.lookahead<ae){if(Se(F),F.lookahead<ae&&ye===f)return U;if(F.lookahead===0)break}if($=0,F.lookahead>=D&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+D-1])&F.hash_mask,$=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),F.prev_length=F.match_length,F.prev_match=F.match_start,F.match_length=D-1,$!==0&&F.prev_length<F.max_lazy_match&&F.strstart-$<=F.w_size-ae&&(F.match_length=be(F,$),F.match_length<=5&&(F.strategy===y||F.match_length===D&&F.strstart-F.match_start>4096)&&(F.match_length=D-1)),F.prev_length>=D&&F.match_length<=F.prev_length){De=F.strstart+F.lookahead-D,ce=n._tr_tally(F,F.strstart-1-F.prev_match,F.prev_length-D),F.lookahead-=F.prev_length-1,F.prev_length-=2;do++F.strstart<=De&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+D-1])&F.hash_mask,$=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart);while(--F.prev_length!=0);if(F.match_available=0,F.match_length=D-1,F.strstart++,ce&&(we(F,!1),F.strm.avail_out===0))return U}else if(F.match_available){if((ce=n._tr_tally(F,0,F.window[F.strstart-1]))&&we(F,!1),F.strstart++,F.lookahead--,F.strm.avail_out===0)return U}else F.match_available=1,F.strstart++,F.lookahead--}return F.match_available&&(ce=n._tr_tally(F,0,F.window[F.strstart-1]),F.match_available=0),F.insert=F.strstart<D-1?F.strstart:D-1,ye===a?(we(F,!0),F.strm.avail_out===0?E:J):F.last_lit&&(we(F,!1),F.strm.avail_out===0)?U:K}function ke(F,ye,$,ce,De){this.good_length=F,this.max_lazy=ye,this.nice_length=$,this.max_chain=ce,this.func=De}function Re(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new e.Buf16(2*Y),this.dyn_dtree=new e.Buf16(2*(2*W+1)),this.bl_tree=new e.Buf16(2*(2*L+1)),ge(this.dyn_ltree),ge(this.dyn_dtree),ge(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new e.Buf16(O+1),this.heap=new e.Buf16(2*Q+1),ge(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new e.Buf16(2*Q+1),ge(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ce(F){var ye;return F&&F.state?(F.total_in=F.total_out=0,F.data_type=T,(ye=F.state).pending=0,ye.pending_out=0,ye.wrap<0&&(ye.wrap=-ye.wrap),ye.status=ye.wrap?v:h,F.adler=ye.wrap===2?0:1,ye.last_flush=f,n._tr_init(ye),p):Z(F,I)}function Ne(F){var ye,$=Ce(F);return $===p&&((ye=F.state).window_size=2*ye.w_size,ge(ye.head),ye.max_lazy_match=o[ye.level].max_lazy,ye.good_match=o[ye.level].good_length,ye.nice_match=o[ye.level].nice_length,ye.max_chain_length=o[ye.level].max_chain,ye.strstart=0,ye.block_start=0,ye.lookahead=0,ye.insert=0,ye.match_length=ye.prev_length=D-1,ye.match_available=0,ye.ins_h=0),$}function qe(F,ye,$,ce,De,Pe){if(!F)return I;var Ye=1;if(ye===z&&(ye=6),ce<0?(Ye=0,ce=-ce):ce>15&&(Ye=2,ce-=16),De<1||De>k||$!==C||ce<8||ce>15||ye<0||ye>9||Pe<0||Pe>H)return Z(F,I);ce===8&&(ce=9);var Te=new Re;return F.state=Te,Te.strm=F,Te.wrap=Ye,Te.gzhead=null,Te.w_bits=ce,Te.w_size=1<<Te.w_bits,Te.w_mask=Te.w_size-1,Te.hash_bits=De+7,Te.hash_size=1<<Te.hash_bits,Te.hash_mask=Te.hash_size-1,Te.hash_shift=~~((Te.hash_bits+D-1)/D),Te.window=new e.Buf8(2*Te.w_size),Te.head=new e.Buf16(Te.hash_size),Te.prev=new e.Buf16(Te.w_size),Te.lit_bufsize=1<<De+6,Te.pending_buf_size=4*Te.lit_bufsize,Te.pending_buf=new e.Buf8(Te.pending_buf_size),Te.d_buf=1*Te.lit_bufsize,Te.l_buf=3*Te.lit_bufsize,Te.level=ye,Te.strategy=Pe,Te.method=$,Ne(F)}o=[new ke(0,0,0,0,function(F,ye){var $=65535;for($>F.pending_buf_size-5&&($=F.pending_buf_size-5);;){if(F.lookahead<=1){if(Se(F),F.lookahead===0&&ye===f)return U;if(F.lookahead===0)break}F.strstart+=F.lookahead,F.lookahead=0;var ce=F.block_start+$;if((F.strstart===0||F.strstart>=ce)&&(F.lookahead=F.strstart-ce,F.strstart=ce,we(F,!1),F.strm.avail_out===0)||F.strstart-F.block_start>=F.w_size-ae&&(we(F,!1),F.strm.avail_out===0))return U}return F.insert=0,ye===a?(we(F,!0),F.strm.avail_out===0?E:J):(F.strstart>F.block_start&&(we(F,!1),F.strm.avail_out),U)}),new ke(4,4,8,4,me),new ke(4,5,16,8,me),new ke(4,6,32,32,me),new ke(4,4,16,16,Me),new ke(8,16,32,32,Me),new ke(8,16,128,128,Me),new ke(8,32,128,256,Me),new ke(32,128,258,1024,Me),new ke(32,258,258,4096,Me)],u.deflateInit=function(F,ye){return qe(F,ye,C,te,V,R)},u.deflateInit2=qe,u.deflateReset=Ne,u.deflateResetKeep=Ce,u.deflateSetHeader=function(F,ye){return F&&F.state?F.state.wrap!==2?I:(F.state.gzhead=ye,p):I},u.deflate=function(F,ye){var $,ce,De,Pe;if(!F||!F.state||ye>c||ye<0)return F?Z(F,I):I;if(ce=F.state,!F.output||!F.input&&F.avail_in!==0||ce.status===g&&ye!==a)return Z(F,F.avail_out===0?G:I);if(ce.strm=F,$=ce.last_flush,ce.last_flush=ye,ce.status===v)if(ce.wrap===2)F.adler=0,ne(ce,31),ne(ce,139),ne(ce,8),ce.gzhead?(ne(ce,(ce.gzhead.text?1:0)+(ce.gzhead.hcrc?2:0)+(ce.gzhead.extra?4:0)+(ce.gzhead.name?8:0)+(ce.gzhead.comment?16:0)),ne(ce,255&ce.gzhead.time),ne(ce,ce.gzhead.time>>8&255),ne(ce,ce.gzhead.time>>16&255),ne(ce,ce.gzhead.time>>24&255),ne(ce,ce.level===9?2:ce.strategy>=b||ce.level<2?4:0),ne(ce,255&ce.gzhead.os),ce.gzhead.extra&&ce.gzhead.extra.length&&(ne(ce,255&ce.gzhead.extra.length),ne(ce,ce.gzhead.extra.length>>8&255)),ce.gzhead.hcrc&&(F.adler=t(F.adler,ce.pending_buf,ce.pending,0)),ce.gzindex=0,ce.status=A):(ne(ce,0),ne(ce,0),ne(ce,0),ne(ce,0),ne(ce,0),ne(ce,ce.level===9?2:ce.strategy>=b||ce.level<2?4:0),ne(ce,oe),ce.status=h);else{var Ye=C+(ce.w_bits-8<<4)<<8;Ye|=(ce.strategy>=b||ce.level<2?0:ce.level<6?1:ce.level===6?2:3)<<6,ce.strstart!==0&&(Ye|=he),Ye+=31-Ye%31,ce.status=h,fe(ce,Ye),ce.strstart!==0&&(fe(ce,F.adler>>>16),fe(ce,65535&F.adler)),F.adler=1}if(ce.status===A)if(ce.gzhead.extra){for(De=ce.pending;ce.gzindex<(65535&ce.gzhead.extra.length)&&(ce.pending!==ce.pending_buf_size||(ce.gzhead.hcrc&&ce.pending>De&&(F.adler=t(F.adler,ce.pending_buf,ce.pending-De,De)),xe(F),De=ce.pending,ce.pending!==ce.pending_buf_size));)ne(ce,255&ce.gzhead.extra[ce.gzindex]),ce.gzindex++;ce.gzhead.hcrc&&ce.pending>De&&(F.adler=t(F.adler,ce.pending_buf,ce.pending-De,De)),ce.gzindex===ce.gzhead.extra.length&&(ce.gzindex=0,ce.status=P)}else ce.status=P;if(ce.status===P)if(ce.gzhead.name){De=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>De&&(F.adler=t(F.adler,ce.pending_buf,ce.pending-De,De)),xe(F),De=ce.pending,ce.pending===ce.pending_buf_size)){Pe=1;break}Pe=ce.gzindex<ce.gzhead.name.length?255&ce.gzhead.name.charCodeAt(ce.gzindex++):0,ne(ce,Pe)}while(Pe!==0);ce.gzhead.hcrc&&ce.pending>De&&(F.adler=t(F.adler,ce.pending_buf,ce.pending-De,De)),Pe===0&&(ce.gzindex=0,ce.status=X)}else ce.status=X;if(ce.status===X)if(ce.gzhead.comment){De=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>De&&(F.adler=t(F.adler,ce.pending_buf,ce.pending-De,De)),xe(F),De=ce.pending,ce.pending===ce.pending_buf_size)){Pe=1;break}Pe=ce.gzindex<ce.gzhead.comment.length?255&ce.gzhead.comment.charCodeAt(ce.gzindex++):0,ne(ce,Pe)}while(Pe!==0);ce.gzhead.hcrc&&ce.pending>De&&(F.adler=t(F.adler,ce.pending_buf,ce.pending-De,De)),Pe===0&&(ce.status=s)}else ce.status=s;if(ce.status===s&&(ce.gzhead.hcrc?(ce.pending+2>ce.pending_buf_size&&xe(F),ce.pending+2<=ce.pending_buf_size&&(ne(ce,255&F.adler),ne(ce,F.adler>>8&255),F.adler=0,ce.status=h)):ce.status=h),ce.pending!==0){if(xe(F),F.avail_out===0)return ce.last_flush=-1,p}else if(F.avail_in===0&&de(ye)<=de($)&&ye!==a)return Z(F,G);if(ce.status===g&&F.avail_in!==0)return Z(F,G);if(F.avail_in!==0||ce.lookahead!==0||ye!==f&&ce.status!==g){var Te=ce.strategy===b?function(ze,Be){for(var Ee;;){if(ze.lookahead===0&&(Se(ze),ze.lookahead===0)){if(Be===f)return U;break}if(ze.match_length=0,Ee=n._tr_tally(ze,0,ze.window[ze.strstart]),ze.lookahead--,ze.strstart++,Ee&&(we(ze,!1),ze.strm.avail_out===0))return U}return ze.insert=0,Be===a?(we(ze,!0),ze.strm.avail_out===0?E:J):ze.last_lit&&(we(ze,!1),ze.strm.avail_out===0)?U:K}(ce,ye):ce.strategy===B?function(ze,Be){for(var Ee,He,We,je,Xe=ze.window;;){if(ze.lookahead<=re){if(Se(ze),ze.lookahead<=re&&Be===f)return U;if(ze.lookahead===0)break}if(ze.match_length=0,ze.lookahead>=D&&ze.strstart>0&&(He=Xe[We=ze.strstart-1])===Xe[++We]&&He===Xe[++We]&&He===Xe[++We]){je=ze.strstart+re;do;while(He===Xe[++We]&&He===Xe[++We]&&He===Xe[++We]&&He===Xe[++We]&&He===Xe[++We]&&He===Xe[++We]&&He===Xe[++We]&&He===Xe[++We]&&We<je);ze.match_length=re-(je-We),ze.match_length>ze.lookahead&&(ze.match_length=ze.lookahead)}if(ze.match_length>=D?(Ee=n._tr_tally(ze,1,ze.match_length-D),ze.lookahead-=ze.match_length,ze.strstart+=ze.match_length,ze.match_length=0):(Ee=n._tr_tally(ze,0,ze.window[ze.strstart]),ze.lookahead--,ze.strstart++),Ee&&(we(ze,!1),ze.strm.avail_out===0))return U}return ze.insert=0,Be===a?(we(ze,!0),ze.strm.avail_out===0?E:J):ze.last_lit&&(we(ze,!1),ze.strm.avail_out===0)?U:K}(ce,ye):o[ce.level].func(ce,ye);if(Te!==E&&Te!==J||(ce.status=g),Te===U||Te===E)return F.avail_out===0&&(ce.last_flush=-1),p;if(Te===K&&(ye===d?n._tr_align(ce):ye!==c&&(n._tr_stored_block(ce,0,0,!1),ye===m&&(ge(ce.head),ce.lookahead===0&&(ce.strstart=0,ce.block_start=0,ce.insert=0))),xe(F),F.avail_out===0))return ce.last_flush=-1,p}return ye!==a?p:ce.wrap<=0?M:(ce.wrap===2?(ne(ce,255&F.adler),ne(ce,F.adler>>8&255),ne(ce,F.adler>>16&255),ne(ce,F.adler>>24&255),ne(ce,255&F.total_in),ne(ce,F.total_in>>8&255),ne(ce,F.total_in>>16&255),ne(ce,F.total_in>>24&255)):(fe(ce,F.adler>>>16),fe(ce,65535&F.adler)),xe(F),ce.wrap>0&&(ce.wrap=-ce.wrap),ce.pending!==0?p:M)},u.deflateEnd=function(F){var ye;return F&&F.state?(ye=F.state.status)!==v&&ye!==A&&ye!==P&&ye!==X&&ye!==s&&ye!==h&&ye!==g?Z(F,I):(F.state=null,ye===h?Z(F,S):p):I},u.deflateSetDictionary=function(F,ye){var $,ce,De,Pe,Ye,Te,ze,Be,Ee=ye.length;if(!F||!F.state||(Pe=($=F.state).wrap)===2||Pe===1&&$.status!==v||$.lookahead)return I;for(Pe===1&&(F.adler=r(F.adler,ye,Ee,0)),$.wrap=0,Ee>=$.w_size&&(Pe===0&&(ge($.head),$.strstart=0,$.block_start=0,$.insert=0),Be=new e.Buf8($.w_size),e.arraySet(Be,ye,Ee-$.w_size,$.w_size,0),ye=Be,Ee=$.w_size),Ye=F.avail_in,Te=F.next_in,ze=F.input,F.avail_in=Ee,F.next_in=0,F.input=ye,Se($);$.lookahead>=D;){ce=$.strstart,De=$.lookahead-(D-1);do $.ins_h=($.ins_h<<$.hash_shift^$.window[ce+D-1])&$.hash_mask,$.prev[ce&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=ce,ce++;while(--De);$.strstart=ce,$.lookahead=D-1,Se($)}return $.strstart+=$.lookahead,$.block_start=$.strstart,$.insert=$.lookahead,$.lookahead=0,$.match_length=$.prev_length=D-1,$.match_available=0,F.next_in=Te,F.input=ze,F.avail_in=Ye,$.wrap=Pe,p},u.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":49,"./adler32":50,"./crc32":52,"./messages":57,"./trees":58}],54:[function(l,_,u){_.exports=function(o,e){var n,r,t,i,f,d,m,a,c,p,M,I,S,G,z,y,b,B,H,R,T,C,k,te,V;n=o.state,r=o.next_in,te=o.input,t=r+(o.avail_in-5),i=o.next_out,V=o.output,f=i-(e-o.avail_out),d=i+(o.avail_out-257),m=n.dmax,a=n.wsize,c=n.whave,p=n.wnext,M=n.window,I=n.hold,S=n.bits,G=n.lencode,z=n.distcode,y=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;e:do{S<15&&(I+=te[r++]<<S,S+=8,I+=te[r++]<<S,S+=8),B=G[I&y];t:for(;;){if(I>>>=H=B>>>24,S-=H,(H=B>>>16&255)==0)V[i++]=65535&B;else{if(!(16&H)){if(!(64&H)){B=G[(65535&B)+(I&(1<<H)-1)];continue t}if(32&H){n.mode=12;break e}o.msg="invalid literal/length code",n.mode=30;break e}R=65535&B,(H&=15)&&(S<H&&(I+=te[r++]<<S,S+=8),R+=I&(1<<H)-1,I>>>=H,S-=H),S<15&&(I+=te[r++]<<S,S+=8,I+=te[r++]<<S,S+=8),B=z[I&b];r:for(;;){if(I>>>=H=B>>>24,S-=H,!(16&(H=B>>>16&255))){if(!(64&H)){B=z[(65535&B)+(I&(1<<H)-1)];continue r}o.msg="invalid distance code",n.mode=30;break e}if(T=65535&B,S<(H&=15)&&(I+=te[r++]<<S,(S+=8)<H&&(I+=te[r++]<<S,S+=8)),(T+=I&(1<<H)-1)>m){o.msg="invalid distance too far back",n.mode=30;break e}if(I>>>=H,S-=H,T>(H=i-f)){if((H=T-H)>c&&n.sane){o.msg="invalid distance too far back",n.mode=30;break e}if(C=0,k=M,p===0){if(C+=a-H,H<R){R-=H;do V[i++]=M[C++];while(--H);C=i-T,k=V}}else if(p<H){if(C+=a+p-H,(H-=p)<R){R-=H;do V[i++]=M[C++];while(--H);if(C=0,p<R){R-=H=p;do V[i++]=M[C++];while(--H);C=i-T,k=V}}}else if(C+=p-H,H<R){R-=H;do V[i++]=M[C++];while(--H);C=i-T,k=V}for(;R>2;)V[i++]=k[C++],V[i++]=k[C++],V[i++]=k[C++],R-=3;R&&(V[i++]=k[C++],R>1&&(V[i++]=k[C++]))}else{C=i-T;do V[i++]=V[C++],V[i++]=V[C++],V[i++]=V[C++],R-=3;while(R>2);R&&(V[i++]=V[C++],R>1&&(V[i++]=V[C++]))}break}}break}}while(r<t&&i<d);r-=R=S>>3,I&=(1<<(S-=R<<3))-1,o.next_in=r,o.next_out=i,o.avail_in=r<t?t-r+5:5-(r-t),o.avail_out=i<d?d-i+257:257-(i-d),n.hold=I,n.bits=S}},{}],55:[function(l,_,u){var o=l("../utils/common"),e=l("./adler32"),n=l("./crc32"),r=l("./inffast"),t=l("./inftrees"),i=0,f=1,d=2,m=4,a=5,c=6,p=0,M=1,I=2,S=-2,G=-3,z=-4,y=-5,b=8,B=1,H=2,R=3,T=4,C=5,k=6,te=7,V=8,Q=9,W=10,L=11,Y=12,O=13,D=14,re=15,ae=16,he=17,v=18,A=19,P=20,X=21,s=22,h=23,g=24,U=25,K=26,E=27,J=28,oe=29,Z=30,de=31,ge=852,xe=592,we=15;function ne(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function fe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function be(F){var ye;return F&&F.state?(ye=F.state,F.total_in=F.total_out=ye.total=0,F.msg="",ye.wrap&&(F.adler=1&ye.wrap),ye.mode=B,ye.last=0,ye.havedict=0,ye.dmax=32768,ye.head=null,ye.hold=0,ye.bits=0,ye.lencode=ye.lendyn=new o.Buf32(ge),ye.distcode=ye.distdyn=new o.Buf32(xe),ye.sane=1,ye.back=-1,p):S}function Se(F){var ye;return F&&F.state?((ye=F.state).wsize=0,ye.whave=0,ye.wnext=0,be(F)):S}function me(F,ye){var $,ce;return F&&F.state?(ce=F.state,ye<0?($=0,ye=-ye):($=1+(ye>>4),ye<48&&(ye&=15)),ye&&(ye<8||ye>15)?S:(ce.window!==null&&ce.wbits!==ye&&(ce.window=null),ce.wrap=$,ce.wbits=ye,Se(F))):S}function Me(F,ye){var $,ce;return F?(ce=new fe,F.state=ce,ce.window=null,($=me(F,ye))!==p&&(F.state=null),$):S}var ke,Re,Ce=!0;function Ne(F){if(Ce){var ye;for(ke=new o.Buf32(512),Re=new o.Buf32(32),ye=0;ye<144;)F.lens[ye++]=8;for(;ye<256;)F.lens[ye++]=9;for(;ye<280;)F.lens[ye++]=7;for(;ye<288;)F.lens[ye++]=8;for(t(f,F.lens,0,288,ke,0,F.work,{bits:9}),ye=0;ye<32;)F.lens[ye++]=5;t(d,F.lens,0,32,Re,0,F.work,{bits:5}),Ce=!1}F.lencode=ke,F.lenbits=9,F.distcode=Re,F.distbits=5}function qe(F,ye,$,ce){var De,Pe=F.state;return Pe.window===null&&(Pe.wsize=1<<Pe.wbits,Pe.wnext=0,Pe.whave=0,Pe.window=new o.Buf8(Pe.wsize)),ce>=Pe.wsize?(o.arraySet(Pe.window,ye,$-Pe.wsize,Pe.wsize,0),Pe.wnext=0,Pe.whave=Pe.wsize):((De=Pe.wsize-Pe.wnext)>ce&&(De=ce),o.arraySet(Pe.window,ye,$-ce,De,Pe.wnext),(ce-=De)?(o.arraySet(Pe.window,ye,$-ce,ce,0),Pe.wnext=ce,Pe.whave=Pe.wsize):(Pe.wnext+=De,Pe.wnext===Pe.wsize&&(Pe.wnext=0),Pe.whave<Pe.wsize&&(Pe.whave+=De))),0}u.inflateReset=Se,u.inflateReset2=me,u.inflateResetKeep=be,u.inflateInit=function(F){return Me(F,we)},u.inflateInit2=Me,u.inflate=function(F,ye){var $,ce,De,Pe,Ye,Te,ze,Be,Ee,He,We,je,Xe,ft,Je,rt,st,ut,ht,bt,at,lt,mt,pt,dt=0,ct=new o.Buf8(4),Et=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return S;($=F.state).mode===Y&&($.mode=O),Ye=F.next_out,De=F.output,ze=F.avail_out,Pe=F.next_in,ce=F.input,Te=F.avail_in,Be=$.hold,Ee=$.bits,He=Te,We=ze,lt=p;e:for(;;)switch($.mode){case B:if($.wrap===0){$.mode=O;break}for(;Ee<16;){if(Te===0)break e;Te--,Be+=ce[Pe++]<<Ee,Ee+=8}if(2&$.wrap&&Be===35615){$.check=0,ct[0]=255&Be,ct[1]=Be>>>8&255,$.check=n($.check,ct,2,0),Be=0,Ee=0,$.mode=H;break}if($.flags=0,$.head&&($.head.done=!1),!(1&$.wrap)||(((255&Be)<<8)+(Be>>8))%31){F.msg="incorrect header check",$.mode=Z;break}if((15&Be)!==b){F.msg="unknown compression method",$.mode=Z;break}if(Ee-=4,at=8+(15&(Be>>>=4)),$.wbits===0)$.wbits=at;else if(at>$.wbits){F.msg="invalid window size",$.mode=Z;break}$.dmax=1<<at,F.adler=$.check=1,$.mode=512&Be?W:Y,Be=0,Ee=0;break;case H:for(;Ee<16;){if(Te===0)break e;Te--,Be+=ce[Pe++]<<Ee,Ee+=8}if($.flags=Be,(255&$.flags)!==b){F.msg="unknown compression method",$.mode=Z;break}if(57344&$.flags){F.msg="unknown header flags set",$.mode=Z;break}$.head&&($.head.text=Be>>8&1),512&$.flags&&(ct[0]=255&Be,ct[1]=Be>>>8&255,$.check=n($.check,ct,2,0)),Be=0,Ee=0,$.mode=R;case R:for(;Ee<32;){if(Te===0)break e;Te--,Be+=ce[Pe++]<<Ee,Ee+=8}$.head&&($.head.time=Be),512&$.flags&&(ct[0]=255&Be,ct[1]=Be>>>8&255,ct[2]=Be>>>16&255,ct[3]=Be>>>24&255,$.check=n($.check,ct,4,0)),Be=0,Ee=0,$.mode=T;case T:for(;Ee<16;){if(Te===0)break e;Te--,Be+=ce[Pe++]<<Ee,Ee+=8}$.head&&($.head.xflags=255&Be,$.head.os=Be>>8),512&$.flags&&(ct[0]=255&Be,ct[1]=Be>>>8&255,$.check=n($.check,ct,2,0)),Be=0,Ee=0,$.mode=C;case C:if(1024&$.flags){for(;Ee<16;){if(Te===0)break e;Te--,Be+=ce[Pe++]<<Ee,Ee+=8}$.length=Be,$.head&&($.head.extra_len=Be),512&$.flags&&(ct[0]=255&Be,ct[1]=Be>>>8&255,$.check=n($.check,ct,2,0)),Be=0,Ee=0}else $.head&&($.head.extra=null);$.mode=k;case k:if(1024&$.flags&&((je=$.length)>Te&&(je=Te),je&&($.head&&(at=$.head.extra_len-$.length,$.head.extra||($.head.extra=new Array($.head.extra_len)),o.arraySet($.head.extra,ce,Pe,je,at)),512&$.flags&&($.check=n($.check,ce,je,Pe)),Te-=je,Pe+=je,$.length-=je),$.length))break e;$.length=0,$.mode=te;case te:if(2048&$.flags){if(Te===0)break e;je=0;do at=ce[Pe+je++],$.head&&at&&$.length<65536&&($.head.name+=String.fromCharCode(at));while(at&&je<Te);if(512&$.flags&&($.check=n($.check,ce,je,Pe)),Te-=je,Pe+=je,at)break e}else $.head&&($.head.name=null);$.length=0,$.mode=V;case V:if(4096&$.flags){if(Te===0)break e;je=0;do at=ce[Pe+je++],$.head&&at&&$.length<65536&&($.head.comment+=String.fromCharCode(at));while(at&&je<Te);if(512&$.flags&&($.check=n($.check,ce,je,Pe)),Te-=je,Pe+=je,at)break e}else $.head&&($.head.comment=null);$.mode=Q;case Q:if(512&$.flags){for(;Ee<16;){if(Te===0)break e;Te--,Be+=ce[Pe++]<<Ee,Ee+=8}if(Be!==(65535&$.check)){F.msg="header crc mismatch",$.mode=Z;break}Be=0,Ee=0}$.head&&($.head.hcrc=$.flags>>9&1,$.head.done=!0),F.adler=$.check=0,$.mode=Y;break;case W:for(;Ee<32;){if(Te===0)break e;Te--,Be+=ce[Pe++]<<Ee,Ee+=8}F.adler=$.check=ne(Be),Be=0,Ee=0,$.mode=L;case L:if($.havedict===0)return F.next_out=Ye,F.avail_out=ze,F.next_in=Pe,F.avail_in=Te,$.hold=Be,$.bits=Ee,I;F.adler=$.check=1,$.mode=Y;case Y:if(ye===a||ye===c)break e;case O:if($.last){Be>>>=7&Ee,Ee-=7&Ee,$.mode=E;break}for(;Ee<3;){if(Te===0)break e;Te--,Be+=ce[Pe++]<<Ee,Ee+=8}switch($.last=1&Be,Ee-=1,3&(Be>>>=1)){case 0:$.mode=D;break;case 1:if(Ne($),$.mode=P,ye===c){Be>>>=2,Ee-=2;break e}break;case 2:$.mode=he;break;case 3:F.msg="invalid block type",$.mode=Z}Be>>>=2,Ee-=2;break;case D:for(Be>>>=7&Ee,Ee-=7&Ee;Ee<32;){if(Te===0)break e;Te--,Be+=ce[Pe++]<<Ee,Ee+=8}if((65535&Be)!=(Be>>>16^65535)){F.msg="invalid stored block lengths",$.mode=Z;break}if($.length=65535&Be,Be=0,Ee=0,$.mode=re,ye===c)break e;case re:$.mode=ae;case ae:if(je=$.length){if(je>Te&&(je=Te),je>ze&&(je=ze),je===0)break e;o.arraySet(De,ce,Pe,je,Ye),Te-=je,Pe+=je,ze-=je,Ye+=je,$.length-=je;break}$.mode=Y;break;case he:for(;Ee<14;){if(Te===0)break e;Te--,Be+=ce[Pe++]<<Ee,Ee+=8}if($.nlen=257+(31&Be),Be>>>=5,Ee-=5,$.ndist=1+(31&Be),Be>>>=5,Ee-=5,$.ncode=4+(15&Be),Be>>>=4,Ee-=4,$.nlen>286||$.ndist>30){F.msg="too many length or distance symbols",$.mode=Z;break}$.have=0,$.mode=v;case v:for(;$.have<$.ncode;){for(;Ee<3;){if(Te===0)break e;Te--,Be+=ce[Pe++]<<Ee,Ee+=8}$.lens[Et[$.have++]]=7&Be,Be>>>=3,Ee-=3}for(;$.have<19;)$.lens[Et[$.have++]]=0;if($.lencode=$.lendyn,$.lenbits=7,mt={bits:$.lenbits},lt=t(i,$.lens,0,19,$.lencode,0,$.work,mt),$.lenbits=mt.bits,lt){F.msg="invalid code lengths set",$.mode=Z;break}$.have=0,$.mode=A;case A:for(;$.have<$.nlen+$.ndist;){for(;rt=(dt=$.lencode[Be&(1<<$.lenbits)-1])>>>16&255,st=65535&dt,!((Je=dt>>>24)<=Ee);){if(Te===0)break e;Te--,Be+=ce[Pe++]<<Ee,Ee+=8}if(st<16)Be>>>=Je,Ee-=Je,$.lens[$.have++]=st;else{if(st===16){for(pt=Je+2;Ee<pt;){if(Te===0)break e;Te--,Be+=ce[Pe++]<<Ee,Ee+=8}if(Be>>>=Je,Ee-=Je,$.have===0){F.msg="invalid bit length repeat",$.mode=Z;break}at=$.lens[$.have-1],je=3+(3&Be),Be>>>=2,Ee-=2}else if(st===17){for(pt=Je+3;Ee<pt;){if(Te===0)break e;Te--,Be+=ce[Pe++]<<Ee,Ee+=8}Ee-=Je,at=0,je=3+(7&(Be>>>=Je)),Be>>>=3,Ee-=3}else{for(pt=Je+7;Ee<pt;){if(Te===0)break e;Te--,Be+=ce[Pe++]<<Ee,Ee+=8}Ee-=Je,at=0,je=11+(127&(Be>>>=Je)),Be>>>=7,Ee-=7}if($.have+je>$.nlen+$.ndist){F.msg="invalid bit length repeat",$.mode=Z;break}for(;je--;)$.lens[$.have++]=at}}if($.mode===Z)break;if($.lens[256]===0){F.msg="invalid code -- missing end-of-block",$.mode=Z;break}if($.lenbits=9,mt={bits:$.lenbits},lt=t(f,$.lens,0,$.nlen,$.lencode,0,$.work,mt),$.lenbits=mt.bits,lt){F.msg="invalid literal/lengths set",$.mode=Z;break}if($.distbits=6,$.distcode=$.distdyn,mt={bits:$.distbits},lt=t(d,$.lens,$.nlen,$.ndist,$.distcode,0,$.work,mt),$.distbits=mt.bits,lt){F.msg="invalid distances set",$.mode=Z;break}if($.mode=P,ye===c)break e;case P:$.mode=X;case X:if(Te>=6&&ze>=258){F.next_out=Ye,F.avail_out=ze,F.next_in=Pe,F.avail_in=Te,$.hold=Be,$.bits=Ee,r(F,We),Ye=F.next_out,De=F.output,ze=F.avail_out,Pe=F.next_in,ce=F.input,Te=F.avail_in,Be=$.hold,Ee=$.bits,$.mode===Y&&($.back=-1);break}for($.back=0;rt=(dt=$.lencode[Be&(1<<$.lenbits)-1])>>>16&255,st=65535&dt,!((Je=dt>>>24)<=Ee);){if(Te===0)break e;Te--,Be+=ce[Pe++]<<Ee,Ee+=8}if(rt&&!(240&rt)){for(ut=Je,ht=rt,bt=st;rt=(dt=$.lencode[bt+((Be&(1<<ut+ht)-1)>>ut)])>>>16&255,st=65535&dt,!(ut+(Je=dt>>>24)<=Ee);){if(Te===0)break e;Te--,Be+=ce[Pe++]<<Ee,Ee+=8}Be>>>=ut,Ee-=ut,$.back+=ut}if(Be>>>=Je,Ee-=Je,$.back+=Je,$.length=st,rt===0){$.mode=K;break}if(32&rt){$.back=-1,$.mode=Y;break}if(64&rt){F.msg="invalid literal/length code",$.mode=Z;break}$.extra=15&rt,$.mode=s;case s:if($.extra){for(pt=$.extra;Ee<pt;){if(Te===0)break e;Te--,Be+=ce[Pe++]<<Ee,Ee+=8}$.length+=Be&(1<<$.extra)-1,Be>>>=$.extra,Ee-=$.extra,$.back+=$.extra}$.was=$.length,$.mode=h;case h:for(;rt=(dt=$.distcode[Be&(1<<$.distbits)-1])>>>16&255,st=65535&dt,!((Je=dt>>>24)<=Ee);){if(Te===0)break e;Te--,Be+=ce[Pe++]<<Ee,Ee+=8}if(!(240&rt)){for(ut=Je,ht=rt,bt=st;rt=(dt=$.distcode[bt+((Be&(1<<ut+ht)-1)>>ut)])>>>16&255,st=65535&dt,!(ut+(Je=dt>>>24)<=Ee);){if(Te===0)break e;Te--,Be+=ce[Pe++]<<Ee,Ee+=8}Be>>>=ut,Ee-=ut,$.back+=ut}if(Be>>>=Je,Ee-=Je,$.back+=Je,64&rt){F.msg="invalid distance code",$.mode=Z;break}$.offset=st,$.extra=15&rt,$.mode=g;case g:if($.extra){for(pt=$.extra;Ee<pt;){if(Te===0)break e;Te--,Be+=ce[Pe++]<<Ee,Ee+=8}$.offset+=Be&(1<<$.extra)-1,Be>>>=$.extra,Ee-=$.extra,$.back+=$.extra}if($.offset>$.dmax){F.msg="invalid distance too far back",$.mode=Z;break}$.mode=U;case U:if(ze===0)break e;if(je=We-ze,$.offset>je){if((je=$.offset-je)>$.whave&&$.sane){F.msg="invalid distance too far back",$.mode=Z;break}je>$.wnext?(je-=$.wnext,Xe=$.wsize-je):Xe=$.wnext-je,je>$.length&&(je=$.length),ft=$.window}else ft=De,Xe=Ye-$.offset,je=$.length;je>ze&&(je=ze),ze-=je,$.length-=je;do De[Ye++]=ft[Xe++];while(--je);$.length===0&&($.mode=X);break;case K:if(ze===0)break e;De[Ye++]=$.length,ze--,$.mode=X;break;case E:if($.wrap){for(;Ee<32;){if(Te===0)break e;Te--,Be|=ce[Pe++]<<Ee,Ee+=8}if(We-=ze,F.total_out+=We,$.total+=We,We&&(F.adler=$.check=$.flags?n($.check,De,We,Ye-We):e($.check,De,We,Ye-We)),We=ze,($.flags?Be:ne(Be))!==$.check){F.msg="incorrect data check",$.mode=Z;break}Be=0,Ee=0}$.mode=J;case J:if($.wrap&&$.flags){for(;Ee<32;){if(Te===0)break e;Te--,Be+=ce[Pe++]<<Ee,Ee+=8}if(Be!==(4294967295&$.total)){F.msg="incorrect length check",$.mode=Z;break}Be=0,Ee=0}$.mode=oe;case oe:lt=M;break e;case Z:lt=G;break e;case de:return z;default:return S}return F.next_out=Ye,F.avail_out=ze,F.next_in=Pe,F.avail_in=Te,$.hold=Be,$.bits=Ee,($.wsize||We!==F.avail_out&&$.mode<Z&&($.mode<E||ye!==m))&&qe(F,F.output,F.next_out,We-F.avail_out)?($.mode=de,z):(He-=F.avail_in,We-=F.avail_out,F.total_in+=He,F.total_out+=We,$.total+=We,$.wrap&&We&&(F.adler=$.check=$.flags?n($.check,De,We,F.next_out-We):e($.check,De,We,F.next_out-We)),F.data_type=$.bits+($.last?64:0)+($.mode===Y?128:0)+($.mode===P||$.mode===re?256:0),(He===0&&We===0||ye===m)&&lt===p&&(lt=y),lt)},u.inflateEnd=function(F){if(!F||!F.state)return S;var ye=F.state;return ye.window&&(ye.window=null),F.state=null,p},u.inflateGetHeader=function(F,ye){var $;return F&&F.state&&2&($=F.state).wrap?($.head=ye,ye.done=!1,p):S},u.inflateSetDictionary=function(F,ye){var $,ce=ye.length;return F&&F.state?($=F.state).wrap!==0&&$.mode!==L?S:$.mode===L&&e(1,ye,ce,0)!==$.check?G:qe(F,ye,ce,ce)?($.mode=de,z):($.havedict=1,p):S},u.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":49,"./adler32":50,"./crc32":52,"./inffast":54,"./inftrees":56}],56:[function(l,_,u){var o=l("../utils/common"),e=15,n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],t=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],i=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];_.exports=function(f,d,m,a,c,p,M,I){var S,G,z,y,b,B,H,R,T,C=I.bits,k=0,te=0,V=0,Q=0,W=0,L=0,Y=0,O=0,D=0,re=0,ae=null,he=0,v=new o.Buf16(16),A=new o.Buf16(16),P=null,X=0;for(k=0;k<=e;k++)v[k]=0;for(te=0;te<a;te++)v[d[m+te]]++;for(W=C,Q=e;Q>=1&&v[Q]===0;Q--);if(W>Q&&(W=Q),Q===0)return c[p++]=20971520,c[p++]=20971520,I.bits=1,0;for(V=1;V<Q&&v[V]===0;V++);for(W<V&&(W=V),O=1,k=1;k<=e;k++)if(O<<=1,(O-=v[k])<0)return-1;if(O>0&&(f===0||Q!==1))return-1;for(A[1]=0,k=1;k<e;k++)A[k+1]=A[k]+v[k];for(te=0;te<a;te++)d[m+te]!==0&&(M[A[d[m+te]]++]=te);if(f===0?(ae=P=M,B=19):f===1?(ae=n,he-=257,P=r,X-=257,B=256):(ae=t,P=i,B=-1),re=0,te=0,k=V,b=p,L=W,Y=0,z=-1,y=(D=1<<W)-1,f===1&&D>852||f===2&&D>592)return 1;for(;;){H=k-Y,M[te]<B?(R=0,T=M[te]):M[te]>B?(R=P[X+M[te]],T=ae[he+M[te]]):(R=96,T=0),S=1<<k-Y,V=G=1<<L;do c[b+(re>>Y)+(G-=S)]=H<<24|R<<16|T|0;while(G!==0);for(S=1<<k-1;re&S;)S>>=1;if(S!==0?(re&=S-1,re+=S):re=0,te++,--v[k]==0){if(k===Q)break;k=d[m+M[te]]}if(k>W&&(re&y)!==z){for(Y===0&&(Y=W),b+=V,O=1<<(L=k-Y);L+Y<Q&&!((O-=v[L+Y])<=0);)L++,O<<=1;if(D+=1<<L,f===1&&D>852||f===2&&D>592)return 1;c[z=re&y]=W<<24|L<<16|b-p|0}}return re!==0&&(c[b+re]=k-Y<<24|4194304|0),I.bits=W,0}},{"../utils/common":49}],57:[function(l,_,u){_.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],58:[function(l,_,u){var o=l("../utils/common"),e=4,n=0,r=1,t=2;function i(ne){for(var fe=ne.length;--fe>=0;)ne[fe]=0}var f=0,d=1,m=2,a=29,c=256,p=c+1+a,M=30,I=19,S=2*p+1,G=15,z=16,y=7,b=256,B=16,H=17,R=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],C=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=new Array(2*(p+2));i(V);var Q=new Array(2*M);i(Q);var W=new Array(512);i(W);var L=new Array(256);i(L);var Y=new Array(a);i(Y);var O,D,re,ae=new Array(M);function he(ne,fe,be,Se,me){this.static_tree=ne,this.extra_bits=fe,this.extra_base=be,this.elems=Se,this.max_length=me,this.has_stree=ne&&ne.length}function v(ne,fe){this.dyn_tree=ne,this.max_code=0,this.stat_desc=fe}function A(ne){return ne<256?W[ne]:W[256+(ne>>>7)]}function P(ne,fe){ne.pending_buf[ne.pending++]=255&fe,ne.pending_buf[ne.pending++]=fe>>>8&255}function X(ne,fe,be){ne.bi_valid>z-be?(ne.bi_buf|=fe<<ne.bi_valid&65535,P(ne,ne.bi_buf),ne.bi_buf=fe>>z-ne.bi_valid,ne.bi_valid+=be-z):(ne.bi_buf|=fe<<ne.bi_valid&65535,ne.bi_valid+=be)}function s(ne,fe,be){X(ne,be[2*fe],be[2*fe+1])}function h(ne,fe){var be=0;do be|=1&ne,ne>>>=1,be<<=1;while(--fe>0);return be>>>1}function g(ne,fe,be){var Se,me,Me=new Array(G+1),ke=0;for(Se=1;Se<=G;Se++)Me[Se]=ke=ke+be[Se-1]<<1;for(me=0;me<=fe;me++){var Re=ne[2*me+1];Re!==0&&(ne[2*me]=h(Me[Re]++,Re))}}function U(ne){var fe;for(fe=0;fe<p;fe++)ne.dyn_ltree[2*fe]=0;for(fe=0;fe<M;fe++)ne.dyn_dtree[2*fe]=0;for(fe=0;fe<I;fe++)ne.bl_tree[2*fe]=0;ne.dyn_ltree[2*b]=1,ne.opt_len=ne.static_len=0,ne.last_lit=ne.matches=0}function K(ne){ne.bi_valid>8?P(ne,ne.bi_buf):ne.bi_valid>0&&(ne.pending_buf[ne.pending++]=ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0}function E(ne,fe,be,Se){var me=2*fe,Me=2*be;return ne[me]<ne[Me]||ne[me]===ne[Me]&&Se[fe]<=Se[be]}function J(ne,fe,be){for(var Se=ne.heap[be],me=be<<1;me<=ne.heap_len&&(me<ne.heap_len&&E(fe,ne.heap[me+1],ne.heap[me],ne.depth)&&me++,!E(fe,Se,ne.heap[me],ne.depth));)ne.heap[be]=ne.heap[me],be=me,me<<=1;ne.heap[be]=Se}function oe(ne,fe,be){var Se,me,Me,ke,Re=0;if(ne.last_lit!==0)do Se=ne.pending_buf[ne.d_buf+2*Re]<<8|ne.pending_buf[ne.d_buf+2*Re+1],me=ne.pending_buf[ne.l_buf+Re],Re++,Se===0?s(ne,me,fe):(s(ne,(Me=L[me])+c+1,fe),(ke=T[Me])!==0&&X(ne,me-=Y[Me],ke),s(ne,Me=A(--Se),be),(ke=C[Me])!==0&&X(ne,Se-=ae[Me],ke));while(Re<ne.last_lit);s(ne,b,fe)}function Z(ne,fe){var be,Se,me,Me=fe.dyn_tree,ke=fe.stat_desc.static_tree,Re=fe.stat_desc.has_stree,Ce=fe.stat_desc.elems,Ne=-1;for(ne.heap_len=0,ne.heap_max=S,be=0;be<Ce;be++)Me[2*be]!==0?(ne.heap[++ne.heap_len]=Ne=be,ne.depth[be]=0):Me[2*be+1]=0;for(;ne.heap_len<2;)Me[2*(me=ne.heap[++ne.heap_len]=Ne<2?++Ne:0)]=1,ne.depth[me]=0,ne.opt_len--,Re&&(ne.static_len-=ke[2*me+1]);for(fe.max_code=Ne,be=ne.heap_len>>1;be>=1;be--)J(ne,Me,be);me=Ce;do be=ne.heap[1],ne.heap[1]=ne.heap[ne.heap_len--],J(ne,Me,1),Se=ne.heap[1],ne.heap[--ne.heap_max]=be,ne.heap[--ne.heap_max]=Se,Me[2*me]=Me[2*be]+Me[2*Se],ne.depth[me]=(ne.depth[be]>=ne.depth[Se]?ne.depth[be]:ne.depth[Se])+1,Me[2*be+1]=Me[2*Se+1]=me,ne.heap[1]=me++,J(ne,Me,1);while(ne.heap_len>=2);ne.heap[--ne.heap_max]=ne.heap[1],function(qe,F){var ye,$,ce,De,Pe,Ye,Te=F.dyn_tree,ze=F.max_code,Be=F.stat_desc.static_tree,Ee=F.stat_desc.has_stree,He=F.stat_desc.extra_bits,We=F.stat_desc.extra_base,je=F.stat_desc.max_length,Xe=0;for(De=0;De<=G;De++)qe.bl_count[De]=0;for(Te[2*qe.heap[qe.heap_max]+1]=0,ye=qe.heap_max+1;ye<S;ye++)(De=Te[2*Te[2*($=qe.heap[ye])+1]+1]+1)>je&&(De=je,Xe++),Te[2*$+1]=De,$>ze||(qe.bl_count[De]++,Pe=0,$>=We&&(Pe=He[$-We]),Ye=Te[2*$],qe.opt_len+=Ye*(De+Pe),Ee&&(qe.static_len+=Ye*(Be[2*$+1]+Pe)));if(Xe!==0){do{for(De=je-1;qe.bl_count[De]===0;)De--;qe.bl_count[De]--,qe.bl_count[De+1]+=2,qe.bl_count[je]--,Xe-=2}while(Xe>0);for(De=je;De!==0;De--)for($=qe.bl_count[De];$!==0;)(ce=qe.heap[--ye])>ze||(Te[2*ce+1]!==De&&(qe.opt_len+=(De-Te[2*ce+1])*Te[2*ce],Te[2*ce+1]=De),$--)}}(ne,fe),g(Me,Ne,ne.bl_count)}function de(ne,fe,be){var Se,me,Me=-1,ke=fe[1],Re=0,Ce=7,Ne=4;for(ke===0&&(Ce=138,Ne=3),fe[2*(be+1)+1]=65535,Se=0;Se<=be;Se++)me=ke,ke=fe[2*(Se+1)+1],++Re<Ce&&me===ke||(Re<Ne?ne.bl_tree[2*me]+=Re:me!==0?(me!==Me&&ne.bl_tree[2*me]++,ne.bl_tree[2*B]++):Re<=10?ne.bl_tree[2*H]++:ne.bl_tree[2*R]++,Re=0,Me=me,ke===0?(Ce=138,Ne=3):me===ke?(Ce=6,Ne=3):(Ce=7,Ne=4))}function ge(ne,fe,be){var Se,me,Me=-1,ke=fe[1],Re=0,Ce=7,Ne=4;for(ke===0&&(Ce=138,Ne=3),Se=0;Se<=be;Se++)if(me=ke,ke=fe[2*(Se+1)+1],!(++Re<Ce&&me===ke)){if(Re<Ne)do s(ne,me,ne.bl_tree);while(--Re!=0);else me!==0?(me!==Me&&(s(ne,me,ne.bl_tree),Re--),s(ne,B,ne.bl_tree),X(ne,Re-3,2)):Re<=10?(s(ne,H,ne.bl_tree),X(ne,Re-3,3)):(s(ne,R,ne.bl_tree),X(ne,Re-11,7));Re=0,Me=me,ke===0?(Ce=138,Ne=3):me===ke?(Ce=6,Ne=3):(Ce=7,Ne=4)}}i(ae);var xe=!1;function we(ne,fe,be,Se){X(ne,(f<<1)+(Se?1:0),3),function(me,Me,ke,Re){K(me),Re&&(P(me,ke),P(me,~ke)),o.arraySet(me.pending_buf,me.window,Me,ke,me.pending),me.pending+=ke}(ne,fe,be,!0)}u._tr_init=function(ne){xe||(function(){var fe,be,Se,me,Me,ke=new Array(G+1);for(Se=0,me=0;me<a-1;me++)for(Y[me]=Se,fe=0;fe<1<<T[me];fe++)L[Se++]=me;for(L[Se-1]=me,Me=0,me=0;me<16;me++)for(ae[me]=Me,fe=0;fe<1<<C[me];fe++)W[Me++]=me;for(Me>>=7;me<M;me++)for(ae[me]=Me<<7,fe=0;fe<1<<C[me]-7;fe++)W[256+Me++]=me;for(be=0;be<=G;be++)ke[be]=0;for(fe=0;fe<=143;)V[2*fe+1]=8,fe++,ke[8]++;for(;fe<=255;)V[2*fe+1]=9,fe++,ke[9]++;for(;fe<=279;)V[2*fe+1]=7,fe++,ke[7]++;for(;fe<=287;)V[2*fe+1]=8,fe++,ke[8]++;for(g(V,p+1,ke),fe=0;fe<M;fe++)Q[2*fe+1]=5,Q[2*fe]=h(fe,5);O=new he(V,T,c+1,p,G),D=new he(Q,C,0,M,G),re=new he(new Array(0),k,0,I,y)}(),xe=!0),ne.l_desc=new v(ne.dyn_ltree,O),ne.d_desc=new v(ne.dyn_dtree,D),ne.bl_desc=new v(ne.bl_tree,re),ne.bi_buf=0,ne.bi_valid=0,U(ne)},u._tr_stored_block=we,u._tr_flush_block=function(ne,fe,be,Se){var me,Me,ke=0;ne.level>0?(ne.strm.data_type===t&&(ne.strm.data_type=function(Re){var Ce,Ne=4093624447;for(Ce=0;Ce<=31;Ce++,Ne>>>=1)if(1&Ne&&Re.dyn_ltree[2*Ce]!==0)return n;if(Re.dyn_ltree[18]!==0||Re.dyn_ltree[20]!==0||Re.dyn_ltree[26]!==0)return r;for(Ce=32;Ce<c;Ce++)if(Re.dyn_ltree[2*Ce]!==0)return r;return n}(ne)),Z(ne,ne.l_desc),Z(ne,ne.d_desc),ke=function(Re){var Ce;for(de(Re,Re.dyn_ltree,Re.l_desc.max_code),de(Re,Re.dyn_dtree,Re.d_desc.max_code),Z(Re,Re.bl_desc),Ce=I-1;Ce>=3&&Re.bl_tree[2*te[Ce]+1]===0;Ce--);return Re.opt_len+=3*(Ce+1)+5+5+4,Ce}(ne),me=ne.opt_len+3+7>>>3,(Me=ne.static_len+3+7>>>3)<=me&&(me=Me)):me=Me=be+5,be+4<=me&&fe!==-1?we(ne,fe,be,Se):ne.strategy===e||Me===me?(X(ne,(d<<1)+(Se?1:0),3),oe(ne,V,Q)):(X(ne,(m<<1)+(Se?1:0),3),function(Re,Ce,Ne,qe){var F;for(X(Re,Ce-257,5),X(Re,Ne-1,5),X(Re,qe-4,4),F=0;F<qe;F++)X(Re,Re.bl_tree[2*te[F]+1],3);ge(Re,Re.dyn_ltree,Ce-1),ge(Re,Re.dyn_dtree,Ne-1)}(ne,ne.l_desc.max_code+1,ne.d_desc.max_code+1,ke+1),oe(ne,ne.dyn_ltree,ne.dyn_dtree)),U(ne),Se&&K(ne)},u._tr_tally=function(ne,fe,be){return ne.pending_buf[ne.d_buf+2*ne.last_lit]=fe>>>8&255,ne.pending_buf[ne.d_buf+2*ne.last_lit+1]=255&fe,ne.pending_buf[ne.l_buf+ne.last_lit]=255&be,ne.last_lit++,fe===0?ne.dyn_ltree[2*be]++:(ne.matches++,fe--,ne.dyn_ltree[2*(L[be]+c+1)]++,ne.dyn_dtree[2*A(fe)]++),ne.last_lit===ne.lit_bufsize-1},u._tr_align=function(ne){X(ne,d<<1,3),s(ne,b,V),function(fe){fe.bi_valid===16?(P(fe,fe.bi_buf),fe.bi_buf=0,fe.bi_valid=0):fe.bi_valid>=8&&(fe.pending_buf[fe.pending++]=255&fe.bi_buf,fe.bi_buf>>=8,fe.bi_valid-=8)}(ne)}},{"../utils/common":49}],59:[function(l,_,u){_.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],60:[function(l,_,u){var o,e,n=_.exports={};function r(){throw new Error("setTimeout has not been defined")}function t(){throw new Error("clearTimeout has not been defined")}function i(S){if(o===setTimeout)return setTimeout(S,0);if((o===r||!o)&&setTimeout)return o=setTimeout,setTimeout(S,0);try{return o(S,0)}catch{try{return o.call(null,S,0)}catch{return o.call(this,S,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:r}catch{o=r}try{e=typeof clearTimeout=="function"?clearTimeout:t}catch{e=t}})();var f,d=[],m=!1,a=-1;function c(){m&&f&&(m=!1,f.length?d=f.concat(d):a=-1,d.length&&p())}function p(){if(!m){var S=i(c);m=!0;for(var G=d.length;G;){for(f=d,d=[];++a<G;)f&&f[a].run();a=-1,G=d.length}f=null,m=!1,function(z){if(e===clearTimeout)return clearTimeout(z);if((e===t||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(z);try{e(z)}catch{try{return e.call(null,z)}catch{return e.call(this,z)}}}(S)}}function M(S,G){this.fun=S,this.array=G}function I(){}n.nextTick=function(S){var G=new Array(arguments.length-1);if(arguments.length>1)for(var z=1;z<arguments.length;z++)G[z-1]=arguments[z];d.push(new M(S,G)),d.length!==1||m||i(p)},M.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=I,n.addListener=I,n.once=I,n.off=I,n.removeListener=I,n.removeAllListeners=I,n.emit=I,n.prependListener=I,n.prependOnceListener=I,n.listeners=function(S){return[]},n.binding=function(S){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(S){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],61:[function(l,_,u){_.exports=e;var o=l("events").EventEmitter;function e(){o.call(this)}l("inherits")(e,o),e.Readable=l("readable-stream/lib/_stream_readable.js"),e.Writable=l("readable-stream/lib/_stream_writable.js"),e.Duplex=l("readable-stream/lib/_stream_duplex.js"),e.Transform=l("readable-stream/lib/_stream_transform.js"),e.PassThrough=l("readable-stream/lib/_stream_passthrough.js"),e.finished=l("readable-stream/lib/internal/streams/end-of-stream.js"),e.pipeline=l("readable-stream/lib/internal/streams/pipeline.js"),e.Stream=e,e.prototype.pipe=function(n,r){var t=this;function i(M){n.writable&&n.write(M)===!1&&t.pause&&t.pause()}function f(){t.readable&&t.resume&&t.resume()}t.on("data",i),n.on("drain",f),n._isStdio||r&&r.end===!1||(t.on("end",m),t.on("close",a));var d=!1;function m(){d||(d=!0,n.end())}function a(){d||(d=!0,typeof n.destroy=="function"&&n.destroy())}function c(M){if(p(),o.listenerCount(this,"error")===0)throw M}function p(){t.removeListener("data",i),n.removeListener("drain",f),t.removeListener("end",m),t.removeListener("close",a),t.removeListener("error",c),n.removeListener("error",c),t.removeListener("end",p),t.removeListener("close",p),n.removeListener("close",p)}return t.on("error",c),n.on("error",c),t.on("end",p),t.on("close",p),n.on("close",p),n.emit("pipe",t),n}},{events:38,inherits:45,"readable-stream/lib/_stream_duplex.js":63,"readable-stream/lib/_stream_passthrough.js":64,"readable-stream/lib/_stream_readable.js":65,"readable-stream/lib/_stream_transform.js":66,"readable-stream/lib/_stream_writable.js":67,"readable-stream/lib/internal/streams/end-of-stream.js":71,"readable-stream/lib/internal/streams/pipeline.js":73}],62:[function(l,_,u){var o={};function e(r,t,i){i||(i=Error);var f=function(d){function m(p,M,I){return d.call(this,function(S,G,z){return typeof t=="string"?t:t(S,G,z)}(p,M,I))||this}return c=d,(a=m).prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c,m;var a,c}(i);f.prototype.name=i.name,f.prototype.code=r,o[r]=f}function n(r,t){if(Array.isArray(r)){var i=r.length;return r=r.map(function(f){return String(f)}),i>2?"one of ".concat(t," ").concat(r.slice(0,i-1).join(", "),", or ")+r[i-1]:i===2?"one of ".concat(t," ").concat(r[0]," or ").concat(r[1]):"of ".concat(t," ").concat(r[0])}return"of ".concat(t," ").concat(String(r))}e("ERR_INVALID_OPT_VALUE",function(r,t){return'The value "'+t+'" is invalid for option "'+r+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(r,t,i){var f,d,m;if(typeof t=="string"&&(m="not ",t.substr(0,m.length)===m)?(f="must not be",t=t.replace(/^not /,"")):f="must be",function(c,p,M){return(M===void 0||M>c.length)&&(M=c.length),c.substring(M-p.length,M)===p}(r," argument"))d="The ".concat(r," ").concat(f," ").concat(n(t,"type"));else{var a=function(c,p,M){return typeof M!="number"&&(M=0),!(M+p.length>c.length)&&c.indexOf(p,M)!==-1}(r,".")?"property":"argument";d='The "'.concat(r,'" ').concat(a," ").concat(f," ").concat(n(t,"type"))}return d+". Received type ".concat(typeof i)},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(r){return"The "+r+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(r){return"Cannot call "+r+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(r){return"Unknown encoding: "+r},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),_.exports.codes=o},{}],63:[function(l,_,u){(function(o){(function(){var e=Object.keys||function(c){var p=[];for(var M in c)p.push(M);return p};_.exports=d;var n=l("./_stream_readable"),r=l("./_stream_writable");l("inherits")(d,n);for(var t=e(r.prototype),i=0;i<t.length;i++){var f=t[i];d.prototype[f]||(d.prototype[f]=r.prototype[f])}function d(c){if(!(this instanceof d))return new d(c);n.call(this,c),r.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",m)))}function m(){this._writableState.ended||o.nextTick(a,this)}function a(c){c.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=c,this._writableState.destroyed=c)}})}).call(this)}).call(this,l("_process"))},{"./_stream_readable":65,"./_stream_writable":67,_process:60,inherits:45}],64:[function(l,_,u){_.exports=e;var o=l("./_stream_transform");function e(n){if(!(this instanceof e))return new e(n);o.call(this,n)}l("inherits")(e,o),e.prototype._transform=function(n,r,t){t(null,n)}},{"./_stream_transform":66,inherits:45}],65:[function(l,_,u){(function(o,e){(function(){var n;_.exports=C,C.ReadableState=T,l("events").EventEmitter;var r=function(s,h){return s.listeners(h).length},t=l("./internal/streams/stream"),i=l("buffer").Buffer,f=e.Uint8Array||function(){},d,m=l("util");d=m&&m.debuglog?m.debuglog("stream"):function(){};var a,c,p,M=l("./internal/streams/buffer_list"),I=l("./internal/streams/destroy"),S=l("./internal/streams/state").getHighWaterMark,G=l("../errors").codes,z=G.ERR_INVALID_ARG_TYPE,y=G.ERR_STREAM_PUSH_AFTER_EOF,b=G.ERR_METHOD_NOT_IMPLEMENTED,B=G.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;l("inherits")(C,t);var H=I.errorOrDestroy,R=["error","close","destroy","pause","resume"];function T(s,h,g){n=n||l("./_stream_duplex"),s=s||{},typeof g!="boolean"&&(g=h instanceof n),this.objectMode=!!s.objectMode,g&&(this.objectMode=this.objectMode||!!s.readableObjectMode),this.highWaterMark=S(this,s,"readableHighWaterMark",g),this.buffer=new M,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=s.emitClose!==!1,this.autoDestroy=!!s.autoDestroy,this.destroyed=!1,this.defaultEncoding=s.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,s.encoding&&(a||(a=l("string_decoder/").StringDecoder),this.decoder=new a(s.encoding),this.encoding=s.encoding)}function C(s){if(n=n||l("./_stream_duplex"),!(this instanceof C))return new C(s);var h=this instanceof n;this._readableState=new T(s,this,h),this.readable=!0,s&&(typeof s.read=="function"&&(this._read=s.read),typeof s.destroy=="function"&&(this._destroy=s.destroy)),t.call(this)}function k(s,h,g,U,K){d("readableAddChunk",h);var E,J=s._readableState;if(h===null)J.reading=!1,function(oe,Z){if(d("onEofChunk"),!Z.ended){if(Z.decoder){var de=Z.decoder.end();de&&de.length&&(Z.buffer.push(de),Z.length+=Z.objectMode?1:de.length)}Z.ended=!0,Z.sync?W(oe):(Z.needReadable=!1,Z.emittedReadable||(Z.emittedReadable=!0,L(oe)))}}(s,J);else if(K||(E=function(oe,Z){var de;return ge=Z,i.isBuffer(ge)||ge instanceof f||typeof Z=="string"||Z===void 0||oe.objectMode||(de=new z("chunk",["string","Buffer","Uint8Array"],Z)),de;var ge}(J,h)),E)H(s,E);else if(J.objectMode||h&&h.length>0)if(typeof h=="string"||J.objectMode||Object.getPrototypeOf(h)===i.prototype||(h=function(oe){return i.from(oe)}(h)),U)J.endEmitted?H(s,new B):te(s,J,h,!0);else if(J.ended)H(s,new y);else{if(J.destroyed)return!1;J.reading=!1,J.decoder&&!g?(h=J.decoder.write(h),J.objectMode||h.length!==0?te(s,J,h,!1):Y(s,J)):te(s,J,h,!1)}else U||(J.reading=!1,Y(s,J));return!J.ended&&(J.length<J.highWaterMark||J.length===0)}function te(s,h,g,U){h.flowing&&h.length===0&&!h.sync?(h.awaitDrain=0,s.emit("data",g)):(h.length+=h.objectMode?1:g.length,U?h.buffer.unshift(g):h.buffer.push(g),h.needReadable&&W(s)),Y(s,h)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(s){this._readableState&&(this._readableState.destroyed=s)}}),C.prototype.destroy=I.destroy,C.prototype._undestroy=I.undestroy,C.prototype._destroy=function(s,h){h(s)},C.prototype.push=function(s,h){var g,U=this._readableState;return U.objectMode?g=!0:typeof s=="string"&&((h=h||U.defaultEncoding)!==U.encoding&&(s=i.from(s,h),h=""),g=!0),k(this,s,h,!1,g)},C.prototype.unshift=function(s){return k(this,s,null,!0,!1)},C.prototype.isPaused=function(){return this._readableState.flowing===!1},C.prototype.setEncoding=function(s){a||(a=l("string_decoder/").StringDecoder);var h=new a(s);this._readableState.decoder=h,this._readableState.encoding=this._readableState.decoder.encoding;for(var g=this._readableState.buffer.head,U="";g!==null;)U+=h.write(g.data),g=g.next;return this._readableState.buffer.clear(),U!==""&&this._readableState.buffer.push(U),this._readableState.length=U.length,this};var V=1073741824;function Q(s,h){return s<=0||h.length===0&&h.ended?0:h.objectMode?1:s!=s?h.flowing&&h.length?h.buffer.head.data.length:h.length:(s>h.highWaterMark&&(h.highWaterMark=function(g){return g>=V?g=V:(g--,g|=g>>>1,g|=g>>>2,g|=g>>>4,g|=g>>>8,g|=g>>>16,g++),g}(s)),s<=h.length?s:h.ended?h.length:(h.needReadable=!0,0))}function W(s){var h=s._readableState;d("emitReadable",h.needReadable,h.emittedReadable),h.needReadable=!1,h.emittedReadable||(d("emitReadable",h.flowing),h.emittedReadable=!0,o.nextTick(L,s))}function L(s){var h=s._readableState;d("emitReadable_",h.destroyed,h.length,h.ended),h.destroyed||!h.length&&!h.ended||(s.emit("readable"),h.emittedReadable=!1),h.needReadable=!h.flowing&&!h.ended&&h.length<=h.highWaterMark,he(s)}function Y(s,h){h.readingMore||(h.readingMore=!0,o.nextTick(O,s,h))}function O(s,h){for(;!h.reading&&!h.ended&&(h.length<h.highWaterMark||h.flowing&&h.length===0);){var g=h.length;if(d("maybeReadMore read 0"),s.read(0),g===h.length)break}h.readingMore=!1}function D(s){var h=s._readableState;h.readableListening=s.listenerCount("readable")>0,h.resumeScheduled&&!h.paused?h.flowing=!0:s.listenerCount("data")>0&&s.resume()}function re(s){d("readable nexttick read 0"),s.read(0)}function ae(s,h){d("resume",h.reading),h.reading||s.read(0),h.resumeScheduled=!1,s.emit("resume"),he(s),h.flowing&&!h.reading&&s.read(0)}function he(s){var h=s._readableState;for(d("flow",h.flowing);h.flowing&&s.read()!==null;);}function v(s,h){return h.length===0?null:(h.objectMode?g=h.buffer.shift():!s||s>=h.length?(g=h.decoder?h.buffer.join(""):h.buffer.length===1?h.buffer.first():h.buffer.concat(h.length),h.buffer.clear()):g=h.buffer.consume(s,h.decoder),g);var g}function A(s){var h=s._readableState;d("endReadable",h.endEmitted),h.endEmitted||(h.ended=!0,o.nextTick(P,h,s))}function P(s,h){if(d("endReadableNT",s.endEmitted,s.length),!s.endEmitted&&s.length===0&&(s.endEmitted=!0,h.readable=!1,h.emit("end"),s.autoDestroy)){var g=h._writableState;(!g||g.autoDestroy&&g.finished)&&h.destroy()}}function X(s,h){for(var g=0,U=s.length;g<U;g++)if(s[g]===h)return g;return-1}C.prototype.read=function(s){d("read",s),s=parseInt(s,10);var h=this._readableState,g=s;if(s!==0&&(h.emittedReadable=!1),s===0&&h.needReadable&&((h.highWaterMark!==0?h.length>=h.highWaterMark:h.length>0)||h.ended))return d("read: emitReadable",h.length,h.ended),h.length===0&&h.ended?A(this):W(this),null;if((s=Q(s,h))===0&&h.ended)return h.length===0&&A(this),null;var U,K=h.needReadable;return d("need readable",K),(h.length===0||h.length-s<h.highWaterMark)&&d("length less than watermark",K=!0),h.ended||h.reading?d("reading or ended",K=!1):K&&(d("do read"),h.reading=!0,h.sync=!0,h.length===0&&(h.needReadable=!0),this._read(h.highWaterMark),h.sync=!1,h.reading||(s=Q(g,h))),(U=s>0?v(s,h):null)===null?(h.needReadable=h.length<=h.highWaterMark,s=0):(h.length-=s,h.awaitDrain=0),h.length===0&&(h.ended||(h.needReadable=!0),g!==s&&h.ended&&A(this)),U!==null&&this.emit("data",U),U},C.prototype._read=function(s){H(this,new b("_read()"))},C.prototype.pipe=function(s,h){var g=this,U=this._readableState;switch(U.pipesCount){case 0:U.pipes=s;break;case 1:U.pipes=[U.pipes,s];break;default:U.pipes.push(s)}U.pipesCount+=1,d("pipe count=%d opts=%j",U.pipesCount,h);var K=h&&h.end===!1||s===o.stdout||s===o.stderr?ne:J;function E(fe,be){d("onunpipe"),fe===g&&be&&be.hasUnpiped===!1&&(be.hasUnpiped=!0,d("cleanup"),s.removeListener("close",xe),s.removeListener("finish",we),s.removeListener("drain",oe),s.removeListener("error",ge),s.removeListener("unpipe",E),g.removeListener("end",J),g.removeListener("end",ne),g.removeListener("data",de),Z=!0,!U.awaitDrain||s._writableState&&!s._writableState.needDrain||oe())}function J(){d("onend"),s.end()}U.endEmitted?o.nextTick(K):g.once("end",K),s.on("unpipe",E);var oe=function(fe){return function(){var be=fe._readableState;d("pipeOnDrain",be.awaitDrain),be.awaitDrain&&be.awaitDrain--,be.awaitDrain===0&&r(fe,"data")&&(be.flowing=!0,he(fe))}}(g);s.on("drain",oe);var Z=!1;function de(fe){d("ondata");var be=s.write(fe);d("dest.write",be),be===!1&&((U.pipesCount===1&&U.pipes===s||U.pipesCount>1&&X(U.pipes,s)!==-1)&&!Z&&(d("false write response, pause",U.awaitDrain),U.awaitDrain++),g.pause())}function ge(fe){d("onerror",fe),ne(),s.removeListener("error",ge),r(s,"error")===0&&H(s,fe)}function xe(){s.removeListener("finish",we),ne()}function we(){d("onfinish"),s.removeListener("close",xe),ne()}function ne(){d("unpipe"),g.unpipe(s)}return g.on("data",de),function(fe,be,Se){if(typeof fe.prependListener=="function")return fe.prependListener(be,Se);fe._events&&fe._events[be]?Array.isArray(fe._events[be])?fe._events[be].unshift(Se):fe._events[be]=[Se,fe._events[be]]:fe.on(be,Se)}(s,"error",ge),s.once("close",xe),s.once("finish",we),s.emit("pipe",g),U.flowing||(d("pipe resume"),g.resume()),s},C.prototype.unpipe=function(s){var h=this._readableState,g={hasUnpiped:!1};if(h.pipesCount===0)return this;if(h.pipesCount===1)return s&&s!==h.pipes||(s||(s=h.pipes),h.pipes=null,h.pipesCount=0,h.flowing=!1,s&&s.emit("unpipe",this,g)),this;if(!s){var U=h.pipes,K=h.pipesCount;h.pipes=null,h.pipesCount=0,h.flowing=!1;for(var E=0;E<K;E++)U[E].emit("unpipe",this,{hasUnpiped:!1});return this}var J=X(h.pipes,s);return J===-1||(h.pipes.splice(J,1),h.pipesCount-=1,h.pipesCount===1&&(h.pipes=h.pipes[0]),s.emit("unpipe",this,g)),this},C.prototype.on=function(s,h){var g=t.prototype.on.call(this,s,h),U=this._readableState;return s==="data"?(U.readableListening=this.listenerCount("readable")>0,U.flowing!==!1&&this.resume()):s==="readable"&&(U.endEmitted||U.readableListening||(U.readableListening=U.needReadable=!0,U.flowing=!1,U.emittedReadable=!1,d("on readable",U.length,U.reading),U.length?W(this):U.reading||o.nextTick(re,this))),g},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(s,h){var g=t.prototype.removeListener.call(this,s,h);return s==="readable"&&o.nextTick(D,this),g},C.prototype.removeAllListeners=function(s){var h=t.prototype.removeAllListeners.apply(this,arguments);return s!=="readable"&&s!==void 0||o.nextTick(D,this),h},C.prototype.resume=function(){var s=this._readableState;return s.flowing||(d("resume"),s.flowing=!s.readableListening,function(h,g){g.resumeScheduled||(g.resumeScheduled=!0,o.nextTick(ae,h,g))}(this,s)),s.paused=!1,this},C.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(s){var h=this,g=this._readableState,U=!1;for(var K in s.on("end",function(){if(d("wrapped end"),g.decoder&&!g.ended){var J=g.decoder.end();J&&J.length&&h.push(J)}h.push(null)}),s.on("data",function(J){d("wrapped data"),g.decoder&&(J=g.decoder.write(J)),g.objectMode&&J==null||(g.objectMode||J&&J.length)&&(h.push(J)||(U=!0,s.pause()))}),s)this[K]===void 0&&typeof s[K]=="function"&&(this[K]=function(J){return function(){return s[J].apply(s,arguments)}}(K));for(var E=0;E<R.length;E++)s.on(R[E],this.emit.bind(this,R[E]));return this._read=function(J){d("wrapped _read",J),U&&(U=!1,s.resume())},this},typeof Symbol=="function"&&(C.prototype[Symbol.asyncIterator]=function(){return c===void 0&&(c=l("./internal/streams/async_iterator")),c(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(s){this._readableState&&(this._readableState.flowing=s)}}),C._fromList=v,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(C.from=function(s,h){return p===void 0&&(p=l("./internal/streams/from")),p(C,s,h)})}).call(this)}).call(this,l("_process"),j.g!==void 0?j.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":62,"./_stream_duplex":63,"./internal/streams/async_iterator":68,"./internal/streams/buffer_list":69,"./internal/streams/destroy":70,"./internal/streams/from":72,"./internal/streams/state":74,"./internal/streams/stream":75,_process:60,buffer:33,events:38,inherits:45,"string_decoder/":76,util:30}],66:[function(l,_,u){_.exports=d;var o=l("../errors").codes,e=o.ERR_METHOD_NOT_IMPLEMENTED,n=o.ERR_MULTIPLE_CALLBACK,r=o.ERR_TRANSFORM_ALREADY_TRANSFORMING,t=o.ERR_TRANSFORM_WITH_LENGTH_0,i=l("./_stream_duplex");function f(c,p){var M=this._transformState;M.transforming=!1;var I=M.writecb;if(I===null)return this.emit("error",new n);M.writechunk=null,M.writecb=null,p!=null&&this.push(p),I(c);var S=this._readableState;S.reading=!1,(S.needReadable||S.length<S.highWaterMark)&&this._read(S.highWaterMark)}function d(c){if(!(this instanceof d))return new d(c);i.call(this,c),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",m)}function m(){var c=this;typeof this._flush!="function"||this._readableState.destroyed?a(this,null,null):this._flush(function(p,M){a(c,p,M)})}function a(c,p,M){if(p)return c.emit("error",p);if(M!=null&&c.push(M),c._writableState.length)throw new t;if(c._transformState.transforming)throw new r;return c.push(null)}l("inherits")(d,i),d.prototype.push=function(c,p){return this._transformState.needTransform=!1,i.prototype.push.call(this,c,p)},d.prototype._transform=function(c,p,M){M(new e("_transform()"))},d.prototype._write=function(c,p,M){var I=this._transformState;if(I.writecb=M,I.writechunk=c,I.writeencoding=p,!I.transforming){var S=this._readableState;(I.needTransform||S.needReadable||S.length<S.highWaterMark)&&this._read(S.highWaterMark)}},d.prototype._read=function(c){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},d.prototype._destroy=function(c,p){i.prototype._destroy.call(this,c,function(M){p(M)})}},{"../errors":62,"./_stream_duplex":63,inherits:45}],67:[function(l,_,u){(function(o,e){(function(){function n(O){var D=this;this.next=null,this.entry=null,this.finish=function(){(function(re,ae,he){var v=re.entry;for(re.entry=null;v;){var A=v.callback;ae.pendingcb--,A(he),v=v.next}ae.corkedRequestsFree.next=re})(D,O)}}var r;_.exports=C,C.WritableState=T;var t={deprecate:l("util-deprecate")},i=l("./internal/streams/stream"),f=l("buffer").Buffer,d=e.Uint8Array||function(){},m,a=l("./internal/streams/destroy"),c=l("./internal/streams/state").getHighWaterMark,p=l("../errors").codes,M=p.ERR_INVALID_ARG_TYPE,I=p.ERR_METHOD_NOT_IMPLEMENTED,S=p.ERR_MULTIPLE_CALLBACK,G=p.ERR_STREAM_CANNOT_PIPE,z=p.ERR_STREAM_DESTROYED,y=p.ERR_STREAM_NULL_VALUES,b=p.ERR_STREAM_WRITE_AFTER_END,B=p.ERR_UNKNOWN_ENCODING,H=a.errorOrDestroy;function R(){}function T(O,D,re){r=r||l("./_stream_duplex"),O=O||{},typeof re!="boolean"&&(re=D instanceof r),this.objectMode=!!O.objectMode,re&&(this.objectMode=this.objectMode||!!O.writableObjectMode),this.highWaterMark=c(this,O,"writableHighWaterMark",re),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ae=O.decodeStrings===!1;this.decodeStrings=!ae,this.defaultEncoding=O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(he){(function(v,A){var P=v._writableState,X=P.sync,s=P.writecb;if(typeof s!="function")throw new S;if(function(g){g.writing=!1,g.writecb=null,g.length-=g.writelen,g.writelen=0}(P),A)(function(g,U,K,E,J){--U.pendingcb,K?(o.nextTick(J,E),o.nextTick(Y,g,U),g._writableState.errorEmitted=!0,H(g,E)):(J(E),g._writableState.errorEmitted=!0,H(g,E),Y(g,U))})(v,P,X,A,s);else{var h=W(P)||v.destroyed;h||P.corked||P.bufferProcessing||!P.bufferedRequest||Q(v,P),X?o.nextTick(V,v,P,h,s):V(v,P,h,s)}})(D,he)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function C(O){var D=this instanceof(r=r||l("./_stream_duplex"));if(!D&&!m.call(C,this))return new C(O);this._writableState=new T(O,this,D),this.writable=!0,O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final)),i.call(this)}function k(O,D,re,ae,he,v){if(!re){var A=function(h,g,U){return h.objectMode||h.decodeStrings===!1||typeof g!="string"||(g=f.from(g,U)),g}(D,ae,he);ae!==A&&(re=!0,he="buffer",ae=A)}var P=D.objectMode?1:ae.length;D.length+=P;var X=D.length<D.highWaterMark;if(X||(D.needDrain=!0),D.writing||D.corked){var s=D.lastBufferedRequest;D.lastBufferedRequest={chunk:ae,encoding:he,isBuf:re,callback:v,next:null},s?s.next=D.lastBufferedRequest:D.bufferedRequest=D.lastBufferedRequest,D.bufferedRequestCount+=1}else te(O,D,!1,P,ae,he,v);return X}function te(O,D,re,ae,he,v,A){D.writelen=ae,D.writecb=A,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new z("write")):re?O._writev(he,D.onwrite):O._write(he,v,D.onwrite),D.sync=!1}function V(O,D,re,ae){re||function(he,v){v.length===0&&v.needDrain&&(v.needDrain=!1,he.emit("drain"))}(O,D),D.pendingcb--,ae(),Y(O,D)}function Q(O,D){D.bufferProcessing=!0;var re=D.bufferedRequest;if(O._writev&&re&&re.next){var ae=D.bufferedRequestCount,he=new Array(ae),v=D.corkedRequestsFree;v.entry=re;for(var A=0,P=!0;re;)he[A]=re,re.isBuf||(P=!1),re=re.next,A+=1;he.allBuffers=P,te(O,D,!0,D.length,he,"",v.finish),D.pendingcb++,D.lastBufferedRequest=null,v.next?(D.corkedRequestsFree=v.next,v.next=null):D.corkedRequestsFree=new n(D),D.bufferedRequestCount=0}else{for(;re;){var X=re.chunk,s=re.encoding,h=re.callback;if(te(O,D,!1,D.objectMode?1:X.length,X,s,h),re=re.next,D.bufferedRequestCount--,D.writing)break}re===null&&(D.lastBufferedRequest=null)}D.bufferedRequest=re,D.bufferProcessing=!1}function W(O){return O.ending&&O.length===0&&O.bufferedRequest===null&&!O.finished&&!O.writing}function L(O,D){O._final(function(re){D.pendingcb--,re&&H(O,re),D.prefinished=!0,O.emit("prefinish"),Y(O,D)})}function Y(O,D){var re=W(D);if(re&&(function(he,v){v.prefinished||v.finalCalled||(typeof he._final!="function"||v.destroyed?(v.prefinished=!0,he.emit("prefinish")):(v.pendingcb++,v.finalCalled=!0,o.nextTick(L,he,v)))}(O,D),D.pendingcb===0&&(D.finished=!0,O.emit("finish"),D.autoDestroy))){var ae=O._readableState;(!ae||ae.autoDestroy&&ae.endEmitted)&&O.destroy()}return re}l("inherits")(C,i),T.prototype.getBuffer=function(){for(var O=this.bufferedRequest,D=[];O;)D.push(O),O=O.next;return D},function(){try{Object.defineProperty(T.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(O){return!!m.call(this,O)||this===C&&O&&O._writableState instanceof T}})):m=function(O){return O instanceof this},C.prototype.pipe=function(){H(this,new G)},C.prototype.write=function(O,D,re){var ae,he=this._writableState,v=!1,A=!he.objectMode&&(ae=O,f.isBuffer(ae)||ae instanceof d);return A&&!f.isBuffer(O)&&(O=function(P){return f.from(P)}(O)),typeof D=="function"&&(re=D,D=null),A?D="buffer":D||(D=he.defaultEncoding),typeof re!="function"&&(re=R),he.ending?function(P,X){var s=new b;H(P,s),o.nextTick(X,s)}(this,re):(A||function(P,X,s,h){var g;return s===null?g=new y:typeof s=="string"||X.objectMode||(g=new M("chunk",["string","Buffer"],s)),!g||(H(P,g),o.nextTick(h,g),!1)}(this,he,O,re))&&(he.pendingcb++,v=k(this,he,A,O,D,re)),v},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var O=this._writableState;O.corked&&(O.corked--,O.writing||O.corked||O.bufferProcessing||!O.bufferedRequest||Q(this,O))},C.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=O.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((O+"").toLowerCase())>-1))throw new B(O);return this._writableState.defaultEncoding=O,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(O,D,re){re(new I("_write()"))},C.prototype._writev=null,C.prototype.end=function(O,D,re){var ae=this._writableState;return typeof O=="function"?(re=O,O=null,D=null):typeof D=="function"&&(re=D,D=null),O!=null&&this.write(O,D),ae.corked&&(ae.corked=1,this.uncork()),ae.ending||function(he,v,A){v.ending=!0,Y(he,v),A&&(v.finished?o.nextTick(A):he.once("finish",A)),v.ended=!0,he.writable=!1}(this,ae,re),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(O){this._writableState&&(this._writableState.destroyed=O)}}),C.prototype.destroy=a.destroy,C.prototype._undestroy=a.undestroy,C.prototype._destroy=function(O,D){D(O)}}).call(this)}).call(this,l("_process"),j.g!==void 0?j.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":62,"./_stream_duplex":63,"./internal/streams/destroy":70,"./internal/streams/state":74,"./internal/streams/stream":75,_process:60,buffer:33,inherits:45,"util-deprecate":78}],68:[function(l,_,u){(function(o){(function(){var e;function n(z,y,b){return y in z?Object.defineProperty(z,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):z[y]=b,z}var r=l("./end-of-stream"),t=Symbol("lastResolve"),i=Symbol("lastReject"),f=Symbol("error"),d=Symbol("ended"),m=Symbol("lastPromise"),a=Symbol("handlePromise"),c=Symbol("stream");function p(z,y){return{value:z,done:y}}function M(z){var y=z[t];if(y!==null){var b=z[c].read();b!==null&&(z[m]=null,z[t]=null,z[i]=null,y(p(b,!1)))}}function I(z){o.nextTick(M,z)}var S=Object.getPrototypeOf(function(){}),G=Object.setPrototypeOf((n(e={get stream(){return this[c]},next:function(){var z=this,y=this[f];if(y!==null)return Promise.reject(y);if(this[d])return Promise.resolve(p(void 0,!0));if(this[c].destroyed)return new Promise(function(R,T){o.nextTick(function(){z[f]?T(z[f]):R(p(void 0,!0))})});var b,B=this[m];if(B)b=new Promise(function(R,T){return function(C,k){R.then(function(){T[d]?C(p(void 0,!0)):T[a](C,k)},k)}}(B,this));else{var H=this[c].read();if(H!==null)return Promise.resolve(p(H,!1));b=new Promise(this[a])}return this[m]=b,b}},Symbol.asyncIterator,function(){return this}),n(e,"return",function(){var z=this;return new Promise(function(y,b){z[c].destroy(null,function(B){B?b(B):y(p(void 0,!0))})})}),e),S);_.exports=function(z){var y,b=Object.create(G,(n(y={},c,{value:z,writable:!0}),n(y,t,{value:null,writable:!0}),n(y,i,{value:null,writable:!0}),n(y,f,{value:null,writable:!0}),n(y,d,{value:z._readableState.endEmitted,writable:!0}),n(y,a,{value:function(B,H){var R=b[c].read();R?(b[m]=null,b[t]=null,b[i]=null,B(p(R,!1))):(b[t]=B,b[i]=H)},writable:!0}),y));return b[m]=null,r(z,function(B){if(B&&B.code!=="ERR_STREAM_PREMATURE_CLOSE"){var H=b[i];return H!==null&&(b[m]=null,b[t]=null,b[i]=null,H(B)),void(b[f]=B)}var R=b[t];R!==null&&(b[m]=null,b[t]=null,b[i]=null,R(p(void 0,!0))),b[d]=!0}),z.on("readable",I.bind(null,b)),b}}).call(this)}).call(this,l("_process"))},{"./end-of-stream":71,_process:60}],69:[function(l,_,u){function o(f,d){var m=Object.keys(f);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(f);d&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(f,c).enumerable})),m.push.apply(m,a)}return m}function e(f,d,m){return d in f?Object.defineProperty(f,d,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[d]=m,f}function n(f,d){for(var m=0;m<d.length;m++){var a=d[m];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(f,a.key,a)}}var r=l("buffer").Buffer,t=l("util").inspect,i=t&&t.custom||"inspect";_.exports=function(){function f(){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,f),this.head=null,this.tail=null,this.length=0}return d=f,m=[{key:"push",value:function(c){var p={data:c,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length}},{key:"unshift",value:function(c){var p={data:c,next:this.head};this.length===0&&(this.tail=p),this.head=p,++this.length}},{key:"shift",value:function(){if(this.length!==0){var c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(c){if(this.length===0)return"";for(var p=this.head,M=""+p.data;p=p.next;)M+=c+p.data;return M}},{key:"concat",value:function(c){if(this.length===0)return r.alloc(0);for(var p=r.allocUnsafe(c>>>0),M=this.head,I=0;M;)S=M.data,G=p,z=I,r.prototype.copy.call(S,G,z),I+=M.data.length,M=M.next;var S,G,z;return p}},{key:"consume",value:function(c,p){var M;return c<this.head.data.length?(M=this.head.data.slice(0,c),this.head.data=this.head.data.slice(c)):M=c===this.head.data.length?this.shift():p?this._getString(c):this._getBuffer(c),M}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(c){var p=this.head,M=1,I=p.data;for(c-=I.length;p=p.next;){var S=p.data,G=c>S.length?S.length:c;if(G===S.length?I+=S:I+=S.slice(0,c),(c-=G)==0){G===S.length?(++M,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=S.slice(G));break}++M}return this.length-=M,I}},{key:"_getBuffer",value:function(c){var p=r.allocUnsafe(c),M=this.head,I=1;for(M.data.copy(p),c-=M.data.length;M=M.next;){var S=M.data,G=c>S.length?S.length:c;if(S.copy(p,p.length-c,0,G),(c-=G)==0){G===S.length?(++I,M.next?this.head=M.next:this.head=this.tail=null):(this.head=M,M.data=S.slice(G));break}++I}return this.length-=I,p}},{key:i,value:function(c,p){return t(this,function(M){for(var I=1;I<arguments.length;I++){var S=arguments[I]!=null?arguments[I]:{};I%2?o(Object(S),!0).forEach(function(G){e(M,G,S[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(S)):o(Object(S)).forEach(function(G){Object.defineProperty(M,G,Object.getOwnPropertyDescriptor(S,G))})}return M}({},p,{depth:0,customInspect:!1}))}}],m&&n(d.prototype,m),a&&n(d,a),f;var d,m,a}()},{buffer:33,util:30}],70:[function(l,_,u){(function(o){(function(){function e(t,i){r(t,i),n(t)}function n(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function r(t,i){t.emit("error",i)}_.exports={destroy:function(t,i){var f=this,d=this._readableState&&this._readableState.destroyed,m=this._writableState&&this._writableState.destroyed;return d||m?(i?i(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(r,this,t)):o.nextTick(r,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(a){!i&&a?f._writableState?f._writableState.errorEmitted?o.nextTick(n,f):(f._writableState.errorEmitted=!0,o.nextTick(e,f,a)):o.nextTick(e,f,a):i?(o.nextTick(n,f),i(a)):o.nextTick(n,f)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,i){var f=t._readableState,d=t._writableState;f&&f.autoDestroy||d&&d.autoDestroy?t.destroy(i):t.emit("error",i)}}}).call(this)}).call(this,l("_process"))},{_process:60}],71:[function(l,_,u){var o=l("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function e(){}_.exports=function n(r,t,i){if(typeof t=="function")return n(r,null,t);t||(t={}),i=function(z){var y=!1;return function(){if(!y){y=!0;for(var b=arguments.length,B=new Array(b),H=0;H<b;H++)B[H]=arguments[H];z.apply(this,B)}}}(i||e);var f=t.readable||t.readable!==!1&&r.readable,d=t.writable||t.writable!==!1&&r.writable,m=function(){r.writable||c()},a=r._writableState&&r._writableState.finished,c=function(){d=!1,a=!0,f||i.call(r)},p=r._readableState&&r._readableState.endEmitted,M=function(){f=!1,p=!0,d||i.call(r)},I=function(z){i.call(r,z)},S=function(){var z;return f&&!p?(r._readableState&&r._readableState.ended||(z=new o),i.call(r,z)):d&&!a?(r._writableState&&r._writableState.ended||(z=new o),i.call(r,z)):void 0},G=function(){r.req.on("finish",c)};return function(z){return z.setHeader&&typeof z.abort=="function"}(r)?(r.on("complete",c),r.on("abort",S),r.req?G():r.on("request",G)):d&&!r._writableState&&(r.on("end",m),r.on("close",m)),r.on("end",M),r.on("finish",c),t.error!==!1&&r.on("error",I),r.on("close",S),function(){r.removeListener("complete",c),r.removeListener("abort",S),r.removeListener("request",G),r.req&&r.req.removeListener("finish",c),r.removeListener("end",m),r.removeListener("close",m),r.removeListener("finish",c),r.removeListener("end",M),r.removeListener("error",I),r.removeListener("close",S)}}},{"../../../errors":62}],72:[function(l,_,u){_.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],73:[function(l,_,u){var o,e=l("../../../errors").codes,n=e.ERR_MISSING_ARGS,r=e.ERR_STREAM_DESTROYED;function t(d){if(d)throw d}function i(d){d()}function f(d,m){return d.pipe(m)}_.exports=function(){for(var d=arguments.length,m=new Array(d),a=0;a<d;a++)m[a]=arguments[a];var c,p=function(I){return I.length?typeof I[I.length-1]!="function"?t:I.pop():t}(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new n("streams");var M=m.map(function(I,S){var G=S<m.length-1;return function(z,y,b,B){B=function(T){var C=!1;return function(){C||(C=!0,T.apply(void 0,arguments))}}(B);var H=!1;z.on("close",function(){H=!0}),o===void 0&&(o=l("./end-of-stream")),o(z,{readable:y,writable:b},function(T){if(T)return B(T);H=!0,B()});var R=!1;return function(T){if(!H&&!R)return R=!0,function(C){return C.setHeader&&typeof C.abort=="function"}(z)?z.abort():typeof z.destroy=="function"?z.destroy():void B(T||new r("pipe"))}}(I,G,S>0,function(z){c||(c=z),z&&M.forEach(i),G||(M.forEach(i),p(c))})});return m.reduce(f)}},{"../../../errors":62,"./end-of-stream":71}],74:[function(l,_,u){var o=l("../../../errors").codes.ERR_INVALID_OPT_VALUE;_.exports={getHighWaterMark:function(e,n,r,t){var i=function(f,d,m){return f.highWaterMark!=null?f.highWaterMark:d?f[m]:null}(n,t,r);if(i!=null){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new o(t?r:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}}},{"../../../errors":62}],75:[function(l,_,u){_.exports=l("events").EventEmitter},{events:38}],76:[function(l,_,u){var o=l("safe-buffer").Buffer,e=o.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(p){var M;switch(this.encoding=function(I){var S=function(G){if(!G)return"utf8";for(var z;;)switch(G){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return G;default:if(z)return;G=(""+G).toLowerCase(),z=!0}}(I);if(typeof S!="string"&&(o.isEncoding===e||!e(I)))throw new Error("Unknown encoding: "+I);return S||I}(p),this.encoding){case"utf16le":this.text=i,this.end=f,M=4;break;case"utf8":this.fillLast=t,M=4;break;case"base64":this.text=d,this.end=m,M=3;break;default:return this.write=a,void(this.end=c)}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(M)}function r(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function t(p){var M=this.lastTotal-this.lastNeed,I=function(S,G,z){if((192&G[0])!=128)return S.lastNeed=0,"�";if(S.lastNeed>1&&G.length>1){if((192&G[1])!=128)return S.lastNeed=1,"�";if(S.lastNeed>2&&G.length>2&&(192&G[2])!=128)return S.lastNeed=2,"�"}}(this,p);return I!==void 0?I:this.lastNeed<=p.length?(p.copy(this.lastChar,M,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,M,0,p.length),void(this.lastNeed-=p.length))}function i(p,M){if((p.length-M)%2==0){var I=p.toString("utf16le",M);if(I){var S=I.charCodeAt(I.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],I.slice(0,-1)}return I}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",M,p.length-1)}function f(p){var M=p&&p.length?this.write(p):"";if(this.lastNeed){var I=this.lastTotal-this.lastNeed;return M+this.lastChar.toString("utf16le",0,I)}return M}function d(p,M){var I=(p.length-M)%3;return I===0?p.toString("base64",M):(this.lastNeed=3-I,this.lastTotal=3,I===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",M,p.length-I))}function m(p){var M=p&&p.length?this.write(p):"";return this.lastNeed?M+this.lastChar.toString("base64",0,3-this.lastNeed):M}function a(p){return p.toString(this.encoding)}function c(p){return p&&p.length?this.write(p):""}u.StringDecoder=n,n.prototype.write=function(p){if(p.length===0)return"";var M,I;if(this.lastNeed){if((M=this.fillLast(p))===void 0)return"";I=this.lastNeed,this.lastNeed=0}else I=0;return I<p.length?M?M+this.text(p,I):this.text(p,I):M||""},n.prototype.end=function(p){var M=p&&p.length?this.write(p):"";return this.lastNeed?M+"�":M},n.prototype.text=function(p,M){var I=function(G,z,y){var b=z.length-1;if(b<y)return 0;var B=r(z[b]);return B>=0?(B>0&&(G.lastNeed=B-1),B):--b<y||B===-2?0:(B=r(z[b]))>=0?(B>0&&(G.lastNeed=B-2),B):--b<y||B===-2?0:(B=r(z[b]))>=0?(B>0&&(B===2?B=0:G.lastNeed=B-3),B):0}(this,p,M);if(!this.lastNeed)return p.toString("utf8",M);this.lastTotal=I;var S=p.length-(I-this.lastNeed);return p.copy(this.lastChar,0,S),p.toString("utf8",M,S)},n.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},{"safe-buffer":77}],77:[function(l,_,u){var o=l("buffer"),e=o.Buffer;function n(t,i){for(var f in t)i[f]=t[f]}function r(t,i,f){return e(t,i,f)}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?_.exports=o:(n(o,u),u.Buffer=r),r.prototype=Object.create(e.prototype),n(e,r),r.from=function(t,i,f){if(typeof t=="number")throw new TypeError("Argument must not be a number");return e(t,i,f)},r.alloc=function(t,i,f){if(typeof t!="number")throw new TypeError("Argument must be a number");var d=e(t);return i!==void 0?typeof f=="string"?d.fill(i,f):d.fill(i):d.fill(0),d},r.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return e(t)},r.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},{buffer:33}],78:[function(l,_,u){(function(o){(function(){function e(n){try{if(!o.localStorage)return!1}catch{return!1}var r=o.localStorage[n];return r!=null&&String(r).toLowerCase()==="true"}_.exports=function(n,r){if(e("noDeprecation"))return n;var t=!1;return function(){if(!t){if(e("throwDeprecation"))throw new Error(r);e("traceDeprecation")?console.trace(r):console.warn(r),t=!0}return n.apply(this,arguments)}}}).call(this)}).call(this,j.g!==void 0?j.g:typeof self<"u"?self:typeof window<"u"?window:{})},{}],79:[function(l,_,u){arguments[4][25][0].apply(u,arguments)},{dup:25}],80:[function(l,_,u){var o=l("is-arguments"),e=l("is-generator-function"),n=l("which-typed-array"),r=l("is-typed-array");function t(L){return L.call.bind(L)}var i=typeof BigInt<"u",f=typeof Symbol<"u",d=t(Object.prototype.toString),m=t(Number.prototype.valueOf),a=t(String.prototype.valueOf),c=t(Boolean.prototype.valueOf);if(i)var p=t(BigInt.prototype.valueOf);if(f)var M=t(Symbol.prototype.valueOf);function I(L,Y){if(typeof L!="object")return!1;try{return Y(L),!0}catch{return!1}}function S(L){return d(L)==="[object Map]"}function G(L){return d(L)==="[object Set]"}function z(L){return d(L)==="[object WeakMap]"}function y(L){return d(L)==="[object WeakSet]"}function b(L){return d(L)==="[object ArrayBuffer]"}function B(L){return typeof ArrayBuffer<"u"&&(b.working?b(L):L instanceof ArrayBuffer)}function H(L){return d(L)==="[object DataView]"}function R(L){return typeof DataView<"u"&&(H.working?H(L):L instanceof DataView)}function T(L){return d(L)==="[object SharedArrayBuffer]"}function C(L){return typeof SharedArrayBuffer<"u"&&(T.working?T(L):L instanceof SharedArrayBuffer)}function k(L){return I(L,m)}function te(L){return I(L,a)}function V(L){return I(L,c)}function Q(L){return i&&I(L,p)}function W(L){return f&&I(L,M)}u.isArgumentsObject=o,u.isGeneratorFunction=e,u.isTypedArray=r,u.isPromise=function(L){return typeof Promise<"u"&&L instanceof Promise||L!==null&&typeof L=="object"&&typeof L.then=="function"&&typeof L.catch=="function"},u.isArrayBufferView=function(L){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(L):r(L)||R(L)},u.isUint8Array=function(L){return n(L)==="Uint8Array"},u.isUint8ClampedArray=function(L){return n(L)==="Uint8ClampedArray"},u.isUint16Array=function(L){return n(L)==="Uint16Array"},u.isUint32Array=function(L){return n(L)==="Uint32Array"},u.isInt8Array=function(L){return n(L)==="Int8Array"},u.isInt16Array=function(L){return n(L)==="Int16Array"},u.isInt32Array=function(L){return n(L)==="Int32Array"},u.isFloat32Array=function(L){return n(L)==="Float32Array"},u.isFloat64Array=function(L){return n(L)==="Float64Array"},u.isBigInt64Array=function(L){return n(L)==="BigInt64Array"},u.isBigUint64Array=function(L){return n(L)==="BigUint64Array"},S.working=typeof Map<"u"&&S(new Map),u.isMap=function(L){return typeof Map<"u"&&(S.working?S(L):L instanceof Map)},G.working=typeof Set<"u"&&G(new Set),u.isSet=function(L){return typeof Set<"u"&&(G.working?G(L):L instanceof Set)},z.working=typeof WeakMap<"u"&&z(new WeakMap),u.isWeakMap=function(L){return typeof WeakMap<"u"&&(z.working?z(L):L instanceof WeakMap)},y.working=typeof WeakSet<"u"&&y(new WeakSet),u.isWeakSet=function(L){return y(L)},b.working=typeof ArrayBuffer<"u"&&b(new ArrayBuffer),u.isArrayBuffer=B,H.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&H(new DataView(new ArrayBuffer(1),0,1)),u.isDataView=R,T.working=typeof SharedArrayBuffer<"u"&&T(new SharedArrayBuffer),u.isSharedArrayBuffer=C,u.isAsyncFunction=function(L){return d(L)==="[object AsyncFunction]"},u.isMapIterator=function(L){return d(L)==="[object Map Iterator]"},u.isSetIterator=function(L){return d(L)==="[object Set Iterator]"},u.isGeneratorObject=function(L){return d(L)==="[object Generator]"},u.isWebAssemblyCompiledModule=function(L){return d(L)==="[object WebAssembly.Module]"},u.isNumberObject=k,u.isStringObject=te,u.isBooleanObject=V,u.isBigIntObject=Q,u.isSymbolObject=W,u.isBoxedPrimitive=function(L){return k(L)||te(L)||V(L)||Q(L)||W(L)},u.isAnyArrayBuffer=function(L){return typeof Uint8Array<"u"&&(B(L)||C(L))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(L){Object.defineProperty(u,L,{enumerable:!1,value:function(){throw new Error(L+" is not supported in userland")}})})},{"is-arguments":46,"is-generator-function":47,"is-typed-array":48,"which-typed-array":82}],81:[function(l,_,u){(function(o){(function(){var e=Object.getOwnPropertyDescriptors||function(L){for(var Y=Object.keys(L),O={},D=0;D<Y.length;D++)O[Y[D]]=Object.getOwnPropertyDescriptor(L,Y[D]);return O},n=/%[sdj%]/g;u.format=function(L){if(!z(L)){for(var Y=[],O=0;O<arguments.length;O++)Y.push(f(arguments[O]));return Y.join(" ")}O=1;for(var D=arguments,re=D.length,ae=String(L).replace(n,function(v){if(v==="%%")return"%";if(O>=re)return v;switch(v){case"%s":return String(D[O++]);case"%d":return Number(D[O++]);case"%j":try{return JSON.stringify(D[O++])}catch{return"[Circular]"}default:return v}}),he=D[O];O<re;he=D[++O])S(he)||!B(he)?ae+=" "+he:ae+=" "+f(he);return ae},u.deprecate=function(L,Y){if(o!==void 0&&o.noDeprecation===!0)return L;if(o===void 0)return function(){return u.deprecate(L,Y).apply(this,arguments)};var O=!1;return function(){if(!O){if(o.throwDeprecation)throw new Error(Y);o.traceDeprecation?console.trace(Y):console.error(Y),O=!0}return L.apply(this,arguments)}};var r={},t=/^$/;if(o.env.NODE_DEBUG){var i=o.env.NODE_DEBUG;i=i.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),t=new RegExp("^"+i+"$","i")}function f(L,Y){var O={seen:[],stylize:m};return arguments.length>=3&&(O.depth=arguments[2]),arguments.length>=4&&(O.colors=arguments[3]),I(Y)?O.showHidden=Y:Y&&u._extend(O,Y),y(O.showHidden)&&(O.showHidden=!1),y(O.depth)&&(O.depth=2),y(O.colors)&&(O.colors=!1),y(O.customInspect)&&(O.customInspect=!0),O.colors&&(O.stylize=d),a(O,L,O.depth)}function d(L,Y){var O=f.styles[Y];return O?"\x1B["+f.colors[O][0]+"m"+L+"\x1B["+f.colors[O][1]+"m":L}function m(L,Y){return L}function a(L,Y,O){if(L.customInspect&&Y&&T(Y.inspect)&&Y.inspect!==u.inspect&&(!Y.constructor||Y.constructor.prototype!==Y)){var D=Y.inspect(O,L);return z(D)||(D=a(L,D,O)),D}var re=function(h,g){if(y(g))return h.stylize("undefined","undefined");if(z(g)){var U="'"+JSON.stringify(g).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return h.stylize(U,"string")}return G(g)?h.stylize(""+g,"number"):I(g)?h.stylize(""+g,"boolean"):S(g)?h.stylize("null","null"):void 0}(L,Y);if(re)return re;var ae=Object.keys(Y),he=function(h){var g={};return h.forEach(function(U,K){g[U]=!0}),g}(ae);if(L.showHidden&&(ae=Object.getOwnPropertyNames(Y)),R(Y)&&(ae.indexOf("message")>=0||ae.indexOf("description")>=0))return c(Y);if(ae.length===0){if(T(Y)){var v=Y.name?": "+Y.name:"";return L.stylize("[Function"+v+"]","special")}if(b(Y))return L.stylize(RegExp.prototype.toString.call(Y),"regexp");if(H(Y))return L.stylize(Date.prototype.toString.call(Y),"date");if(R(Y))return c(Y)}var A,P="",X=!1,s=["{","}"];return M(Y)&&(X=!0,s=["[","]"]),T(Y)&&(P=" [Function"+(Y.name?": "+Y.name:"")+"]"),b(Y)&&(P=" "+RegExp.prototype.toString.call(Y)),H(Y)&&(P=" "+Date.prototype.toUTCString.call(Y)),R(Y)&&(P=" "+c(Y)),ae.length!==0||X&&Y.length!=0?O<0?b(Y)?L.stylize(RegExp.prototype.toString.call(Y),"regexp"):L.stylize("[Object]","special"):(L.seen.push(Y),A=X?function(h,g,U,K,E){for(var J=[],oe=0,Z=g.length;oe<Z;++oe)V(g,String(oe))?J.push(p(h,g,U,K,String(oe),!0)):J.push("");return E.forEach(function(de){de.match(/^\d+$/)||J.push(p(h,g,U,K,de,!0))}),J}(L,Y,O,he,ae):ae.map(function(h){return p(L,Y,O,he,h,X)}),L.seen.pop(),function(h,g,U){return h.reduce(function(K,E){return E.indexOf(`
`),K+E.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?U[0]+(g===""?"":g+`
 `)+" "+h.join(`,
  `)+" "+U[1]:U[0]+g+" "+h.join(", ")+" "+U[1]}(A,P,s)):s[0]+P+s[1]}function c(L){return"["+Error.prototype.toString.call(L)+"]"}function p(L,Y,O,D,re,ae){var he,v,A;if((A=Object.getOwnPropertyDescriptor(Y,re)||{value:Y[re]}).get?v=A.set?L.stylize("[Getter/Setter]","special"):L.stylize("[Getter]","special"):A.set&&(v=L.stylize("[Setter]","special")),V(D,re)||(he="["+re+"]"),v||(L.seen.indexOf(A.value)<0?(v=S(O)?a(L,A.value,null):a(L,A.value,O-1)).indexOf(`
`)>-1&&(v=ae?v.split(`
`).map(function(P){return"  "+P}).join(`
`).substr(2):`
`+v.split(`
`).map(function(P){return"   "+P}).join(`
`)):v=L.stylize("[Circular]","special")),y(he)){if(ae&&re.match(/^\d+$/))return v;(he=JSON.stringify(""+re)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(he=he.substr(1,he.length-2),he=L.stylize(he,"name")):(he=he.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),he=L.stylize(he,"string"))}return he+": "+v}function M(L){return Array.isArray(L)}function I(L){return typeof L=="boolean"}function S(L){return L===null}function G(L){return typeof L=="number"}function z(L){return typeof L=="string"}function y(L){return L===void 0}function b(L){return B(L)&&C(L)==="[object RegExp]"}function B(L){return typeof L=="object"&&L!==null}function H(L){return B(L)&&C(L)==="[object Date]"}function R(L){return B(L)&&(C(L)==="[object Error]"||L instanceof Error)}function T(L){return typeof L=="function"}function C(L){return Object.prototype.toString.call(L)}function k(L){return L<10?"0"+L.toString(10):L.toString(10)}u.debuglog=function(L){if(L=L.toUpperCase(),!r[L])if(t.test(L)){var Y=o.pid;r[L]=function(){var O=u.format.apply(u,arguments);console.error("%s %d: %s",L,Y,O)}}else r[L]=function(){};return r[L]},u.inspect=f,f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},f.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},u.types=l("./support/types"),u.isArray=M,u.isBoolean=I,u.isNull=S,u.isNullOrUndefined=function(L){return L==null},u.isNumber=G,u.isString=z,u.isSymbol=function(L){return typeof L=="symbol"},u.isUndefined=y,u.isRegExp=b,u.types.isRegExp=b,u.isObject=B,u.isDate=H,u.types.isDate=H,u.isError=R,u.types.isNativeError=R,u.isFunction=T,u.isPrimitive=function(L){return L===null||typeof L=="boolean"||typeof L=="number"||typeof L=="string"||typeof L=="symbol"||L===void 0},u.isBuffer=l("./support/isBuffer");var te=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function V(L,Y){return Object.prototype.hasOwnProperty.call(L,Y)}u.log=function(){var L,Y;console.log("%s - %s",(L=new Date,Y=[k(L.getHours()),k(L.getMinutes()),k(L.getSeconds())].join(":"),[L.getDate(),te[L.getMonth()],Y].join(" ")),u.format.apply(u,arguments))},u.inherits=l("inherits"),u._extend=function(L,Y){if(!Y||!B(Y))return L;for(var O=Object.keys(Y),D=O.length;D--;)L[O[D]]=Y[O[D]];return L};var Q=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function W(L,Y){if(!L){var O=new Error("Promise was rejected with a falsy value");O.reason=L,L=O}return Y(L)}u.promisify=function(L){if(typeof L!="function")throw new TypeError('The "original" argument must be of type Function');if(Q&&L[Q]){var Y;if(typeof(Y=L[Q])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Y,Q,{value:Y,enumerable:!1,writable:!1,configurable:!0}),Y}function Y(){for(var O,D,re=new Promise(function(v,A){O=v,D=A}),ae=[],he=0;he<arguments.length;he++)ae.push(arguments[he]);ae.push(function(v,A){v?D(v):O(A)});try{L.apply(this,ae)}catch(v){D(v)}return re}return Object.setPrototypeOf(Y,Object.getPrototypeOf(L)),Q&&Object.defineProperty(Y,Q,{value:Y,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Y,e(L))},u.promisify.custom=Q,u.callbackify=function(L){if(typeof L!="function")throw new TypeError('The "original" argument must be of type Function');function Y(){for(var O=[],D=0;D<arguments.length;D++)O.push(arguments[D]);var re=O.pop();if(typeof re!="function")throw new TypeError("The last argument must be of type Function");var ae=this,he=function(){return re.apply(ae,arguments)};L.apply(this,O).then(function(v){o.nextTick(he.bind(null,null,v))},function(v){o.nextTick(W.bind(null,v,he))})}return Object.setPrototypeOf(Y,Object.getPrototypeOf(L)),Object.defineProperties(Y,e(L)),Y}}).call(this)}).call(this,l("_process"))},{"./support/isBuffer":79,"./support/types":80,_process:60,inherits:45}],82:[function(l,_,u){(function(o){(function(){var e=l("foreach"),n=l("available-typed-arrays"),r=l("es-abstract/helpers/callBound"),t=r("Object.prototype.toString"),i=l("has-symbols")()&&typeof Symbol.toStringTag=="symbol",f=n(),d=r("String.prototype.slice"),m={},a=l("es-abstract/helpers/getOwnPropertyDescriptor"),c=Object.getPrototypeOf;i&&a&&c&&e(f,function(M){if(typeof o[M]=="function"){var I=new o[M];if(!(Symbol.toStringTag in I))throw new EvalError("this engine has support for Symbol.toStringTag, but "+M+" does not have the property! Please report this.");var S=c(I),G=a(S,Symbol.toStringTag);if(!G){var z=c(S);G=a(z,Symbol.toStringTag)}m[M]=G.get}});var p=l("is-typed-array");_.exports=function(M){return!!p(M)&&(i?function(I){var S=!1;return e(m,function(G,z){if(!S)try{var y=G.call(I);y===z&&(S=y)}catch{}}),S}(M):d(t(M),8,-1))}}).call(this)}).call(this,j.g!==void 0?j.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"available-typed-arrays":27,"es-abstract/helpers/callBound":36,"es-abstract/helpers/getOwnPropertyDescriptor":37,foreach:39,"has-symbols":42,"is-typed-array":48}]},{},[20])(20)},4406:_e=>{var ie=_e.exports={};ie.nextTick=function(){var j=typeof window<"u"&&window.setImmediate,l=typeof window<"u"&&window.postMessage&&window.addEventListener;if(j)return function(u){return window.setImmediate(u)};if(l){var _=[];return window.addEventListener("message",function(u){var o=u.source;o!==window&&o!==null||u.data!=="process-tick"||(u.stopPropagation(),_.length>0&&_.shift()())},!0),function(u){_.push(u),window.postMessage("process-tick","*")}}return function(u){setTimeout(u,0)}}(),ie.title="browser",ie.browser=!0,ie.env={},ie.argv=[],ie.binding=function(j){throw new Error("process.binding is not supported")},ie.cwd=function(){return"/"},ie.chdir=function(j){throw new Error("process.chdir is not supported")}},6197:(_e,ie,j)=>{var l=j(8834).lW;Object.defineProperty(ie,"__esModule",{value:!0}),ie.AbstractTokenizer=void 0;const _=j(4644);ie.AbstractTokenizer=class{constructor(u){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=u||{}}async readToken(u,o=this.position){const e=l.alloc(u.len);if(await this.readBuffer(e,{position:o})<u.len)throw new _.EndOfStreamError;return u.get(e,0)}async peekToken(u,o=this.position){const e=l.alloc(u.len);if(await this.peekBuffer(e,{position:o})<u.len)throw new _.EndOfStreamError;return u.get(e,0)}async readNumber(u){if(await this.readBuffer(this.numBuffer,{length:u.len})<u.len)throw new _.EndOfStreamError;return u.get(this.numBuffer,0)}async peekNumber(u){if(await this.peekBuffer(this.numBuffer,{length:u.len})<u.len)throw new _.EndOfStreamError;return u.get(this.numBuffer,0)}async ignore(u){if(this.fileInfo.size!==void 0){const o=this.fileInfo.size-this.position;if(u>o)return this.position+=o,o}return this.position+=u,u}async close(){}normalizeOptions(u,o){if(o&&o.position!==void 0&&o.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return o?{mayBeLess:o.mayBeLess===!0,offset:o.offset?o.offset:0,length:o.length?o.length:u.length-(o.offset?o.offset:0),position:o.position?o.position:this.position}:{mayBeLess:!1,offset:0,length:u.length,position:this.position}}}},932:(_e,ie,j)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.BufferTokenizer=void 0;const l=j(4644),_=j(6197);class u extends _.AbstractTokenizer{constructor(e,n){super(n),this.uint8Array=e,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:e.length}async readBuffer(e,n){if(n&&n.position){if(n.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=n.position}const r=await this.peekBuffer(e,n);return this.position+=r,r}async peekBuffer(e,n){const r=this.normalizeOptions(e,n),t=Math.min(this.uint8Array.length-r.position,r.length);if(!r.mayBeLess&&t<r.length)throw new l.EndOfStreamError;return e.set(this.uint8Array.subarray(r.position,r.position+t),r.offset),t}async close(){}}ie.BufferTokenizer=u},9425:(_e,ie,j)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.fromFile=ie.FileTokenizer=void 0;const l=j(6197),_=j(4644),u=j(5187);class o extends l.AbstractTokenizer{constructor(n,r){super(r),this.fd=n}async readBuffer(n,r){const t=this.normalizeOptions(n,r);this.position=t.position;const i=await u.read(this.fd,n,t.offset,t.length,t.position);if(this.position+=i.bytesRead,i.bytesRead<t.length&&(!r||!r.mayBeLess))throw new _.EndOfStreamError;return i.bytesRead}async peekBuffer(n,r){const t=this.normalizeOptions(n,r),i=await u.read(this.fd,n,t.offset,t.length,t.position);if(!t.mayBeLess&&i.bytesRead<t.length)throw new _.EndOfStreamError;return i.bytesRead}async close(){return u.close(this.fd)}}ie.FileTokenizer=o,ie.fromFile=async function(e){const n=await u.stat(e);if(!n.isFile)throw new Error(`File not a file: ${e}`);const r=await u.open(e,"r");return new o(r,{path:e,size:n.size})}},5187:(_e,ie,j)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.readFile=ie.writeFileSync=ie.writeFile=ie.read=ie.open=ie.close=ie.stat=ie.createReadStream=ie.pathExists=void 0;const l=j(6777);ie.pathExists=l.existsSync,ie.createReadStream=l.createReadStream,ie.stat=async function(_){return new Promise((u,o)=>{l.stat(_,(e,n)=>{e?o(e):u(n)})})},ie.close=async function(_){return new Promise((u,o)=>{l.close(_,e=>{e?o(e):u()})})},ie.open=async function(_,u){return new Promise((o,e)=>{l.open(_,u,(n,r)=>{n?e(n):o(r)})})},ie.read=async function(_,u,o,e,n){return new Promise((r,t)=>{l.read(_,u,o,e,n,(i,f,d)=>{i?t(i):r({bytesRead:f,buffer:d})})})},ie.writeFile=async function(_,u){return new Promise((o,e)=>{l.writeFile(_,u,n=>{n?e(n):o()})})},ie.writeFileSync=function(_,u){l.writeFileSync(_,u)},ie.readFile=async function(_){return new Promise((u,o)=>{l.readFile(_,(e,n)=>{e?o(e):u(n)})})}},8286:(_e,ie,j)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.ReadStreamTokenizer=void 0;const l=j(6197),_=j(4644);class u extends l.AbstractTokenizer{constructor(e,n){super(n),this.streamReader=new _.StreamReader(e)}async getFileInfo(){return this.fileInfo}async readBuffer(e,n){const r=this.normalizeOptions(e,n),t=r.position-this.position;if(t>0)return await this.ignore(t),this.readBuffer(e,n);if(t<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(r.length===0)return 0;const i=await this.streamReader.read(e,r.offset,r.length);if(this.position+=i,(!n||!n.mayBeLess)&&i<r.length)throw new _.EndOfStreamError;return i}async peekBuffer(e,n){const r=this.normalizeOptions(e,n);let t=0;if(r.position){const i=r.position-this.position;if(i>0){const f=new Uint8Array(r.length+i);return t=await this.peekBuffer(f,{mayBeLess:r.mayBeLess}),e.set(f.subarray(i),r.offset),t-i}if(i<0)throw new Error("Cannot peek from a negative offset in a stream")}if(r.length>0){try{t=await this.streamReader.peek(e,r.offset,r.length)}catch(i){if(n&&n.mayBeLess&&i instanceof _.EndOfStreamError)return 0;throw i}if(!r.mayBeLess&&t<r.length)throw new _.EndOfStreamError}return t}async ignore(e){const n=Math.min(256e3,e),r=new Uint8Array(n);let t=0;for(;t<e;){const i=e-t,f=await this.readBuffer(r,{length:Math.min(n,i)});if(f<0)return f;t+=f}return t}}ie.ReadStreamTokenizer=u},7378:(_e,ie,j)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.fromBuffer=ie.fromStream=ie.EndOfStreamError=void 0;const l=j(8286),_=j(932);var u=j(4644);Object.defineProperty(ie,"EndOfStreamError",{enumerable:!0,get:function(){return u.EndOfStreamError}}),ie.fromStream=function(o,e){return e=e||{},new l.ReadStreamTokenizer(o,e)},ie.fromBuffer=function(o,e){return new _.BufferTokenizer(o,e)}},3569:(_e,ie,j)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.fromStream=ie.fromBuffer=ie.EndOfStreamError=ie.fromFile=void 0;const l=j(5187),_=j(7378);var u=j(9425);Object.defineProperty(ie,"fromFile",{enumerable:!0,get:function(){return u.fromFile}});var o=j(7378);Object.defineProperty(ie,"EndOfStreamError",{enumerable:!0,get:function(){return o.EndOfStreamError}}),Object.defineProperty(ie,"fromBuffer",{enumerable:!0,get:function(){return o.fromBuffer}}),ie.fromStream=async function(e,n){if(n=n||{},e.path){const r=await l.stat(e.path);n.path=e.path,n.size=r.size}return _.fromStream(e,n)}},643:(_e,ie)=>{var j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};ie.Ee=function(r,t,i,f,d,m){for(var a=arguments.length,c=Array(a>6?a-6:0),p=6;p<a;p++)c[p-6]=arguments[p];return c.length?e.call.apply(e,[null,!1,!0,r,t,i,f,d,m].concat(c)):e(!1,!0,r,t,i,f,d,m)};var l="INVALID_ARGS";function _(r){throw new Error(r)}function u(r){var t=Object.keys(r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t}function o(r){if(Array.isArray(r))return r.slice();for(var t=u(r),i={},f=0;f<t.length;f++){var d=t[f];i[d]=r[d]}return i}function e(r,t,i){var f=i;f==null&&_(l);for(var d=!1,m=arguments.length,a=Array(m>3?m-3:0),c=3;c<m;c++)a[c-3]=arguments[c];for(var p=0;p<a.length;p++){var M=a[p];if(M!=null){var I=u(M);if(I.length)for(var S=0;S<=I.length;S++){var G=I[S];if(!r||f[G]===void 0){var z=M[G];t&&n(f[G])&&n(z)&&(z=e(r,t,f[G],z)),z!==void 0&&z!==f[G]&&(d||(d=!0,f=o(f)),f[G]=z)}}}}return f}function n(r){var t=r===void 0?"undefined":j(r);return r!=null&&t==="object"}},5010:(_e,ie,j)=>{var l=j(8834).lW;Object.defineProperty(ie,"__esModule",{value:!0}),ie.AnsiStringType=ie.StringType=ie.BufferType=ie.Uint8ArrayType=ie.IgnoreType=ie.Float80_LE=ie.Float80_BE=ie.Float64_LE=ie.Float64_BE=ie.Float32_LE=ie.Float32_BE=ie.Float16_LE=ie.Float16_BE=ie.INT64_BE=ie.UINT64_BE=ie.INT64_LE=ie.UINT64_LE=ie.INT32_LE=ie.INT32_BE=ie.INT24_BE=ie.INT24_LE=ie.INT16_LE=ie.INT16_BE=ie.INT8=ie.UINT32_BE=ie.UINT32_LE=ie.UINT24_BE=ie.UINT24_LE=ie.UINT16_BE=ie.UINT16_LE=ie.UINT8=void 0;const _=j(2333);function u(e){return new DataView(e.buffer,e.byteOffset)}ie.UINT8={len:1,get:(e,n)=>u(e).getUint8(n),put:(e,n,r)=>(u(e).setUint8(n,r),n+1)},ie.UINT16_LE={len:2,get:(e,n)=>u(e).getUint16(n,!0),put:(e,n,r)=>(u(e).setUint16(n,r,!0),n+2)},ie.UINT16_BE={len:2,get:(e,n)=>u(e).getUint16(n),put:(e,n,r)=>(u(e).setUint16(n,r),n+2)},ie.UINT24_LE={len:3,get(e,n){const r=u(e);return r.getUint8(n)+(r.getUint16(n+1,!0)<<8)},put(e,n,r){const t=u(e);return t.setUint8(n,255&r),t.setUint16(n+1,r>>8,!0),n+3}},ie.UINT24_BE={len:3,get(e,n){const r=u(e);return(r.getUint16(n)<<8)+r.getUint8(n+2)},put(e,n,r){const t=u(e);return t.setUint16(n,r>>8),t.setUint8(n+2,255&r),n+3}},ie.UINT32_LE={len:4,get:(e,n)=>u(e).getUint32(n,!0),put:(e,n,r)=>(u(e).setUint32(n,r,!0),n+4)},ie.UINT32_BE={len:4,get:(e,n)=>u(e).getUint32(n),put:(e,n,r)=>(u(e).setUint32(n,r),n+4)},ie.INT8={len:1,get:(e,n)=>u(e).getInt8(n),put:(e,n,r)=>(u(e).setInt8(n,r),n+1)},ie.INT16_BE={len:2,get:(e,n)=>u(e).getInt16(n),put:(e,n,r)=>(u(e).setInt16(n,r),n+2)},ie.INT16_LE={len:2,get:(e,n)=>u(e).getInt16(n,!0),put:(e,n,r)=>(u(e).setInt16(n,r,!0),n+2)},ie.INT24_LE={len:3,get(e,n){const r=ie.UINT24_LE.get(e,n);return r>8388607?r-16777216:r},put(e,n,r){const t=u(e);return t.setUint8(n,255&r),t.setUint16(n+1,r>>8,!0),n+3}},ie.INT24_BE={len:3,get(e,n){const r=ie.UINT24_BE.get(e,n);return r>8388607?r-16777216:r},put(e,n,r){const t=u(e);return t.setUint16(n,r>>8),t.setUint8(n+2,255&r),n+3}},ie.INT32_BE={len:4,get:(e,n)=>u(e).getInt32(n),put:(e,n,r)=>(u(e).setInt32(n,r),n+4)},ie.INT32_LE={len:4,get:(e,n)=>u(e).getInt32(n,!0),put:(e,n,r)=>(u(e).setInt32(n,r,!0),n+4)},ie.UINT64_LE={len:8,get:(e,n)=>u(e).getBigUint64(n,!0),put:(e,n,r)=>(u(e).setBigUint64(n,r,!0),n+8)},ie.INT64_LE={len:8,get:(e,n)=>u(e).getBigInt64(n,!0),put:(e,n,r)=>(u(e).setBigInt64(n,r,!0),n+8)},ie.UINT64_BE={len:8,get:(e,n)=>u(e).getBigUint64(n),put:(e,n,r)=>(u(e).setBigUint64(n,r),n+8)},ie.INT64_BE={len:8,get:(e,n)=>u(e).getBigInt64(n),put:(e,n,r)=>(u(e).setBigInt64(n,r),n+8)},ie.Float16_BE={len:2,get(e,n){return _.read(e,n,!1,10,this.len)},put(e,n,r){return _.write(e,r,n,!1,10,this.len),n+this.len}},ie.Float16_LE={len:2,get(e,n){return _.read(e,n,!0,10,this.len)},put(e,n,r){return _.write(e,r,n,!0,10,this.len),n+this.len}},ie.Float32_BE={len:4,get:(e,n)=>u(e).getFloat32(n),put:(e,n,r)=>(u(e).setFloat32(n,r),n+4)},ie.Float32_LE={len:4,get:(e,n)=>u(e).getFloat32(n,!0),put:(e,n,r)=>(u(e).setFloat32(n,r,!0),n+4)},ie.Float64_BE={len:8,get:(e,n)=>u(e).getFloat64(n),put:(e,n,r)=>(u(e).setFloat64(n,r),n+8)},ie.Float64_LE={len:8,get:(e,n)=>u(e).getFloat64(n,!0),put:(e,n,r)=>(u(e).setFloat64(n,r,!0),n+8)},ie.Float80_BE={len:10,get(e,n){return _.read(e,n,!1,63,this.len)},put(e,n,r){return _.write(e,r,n,!1,63,this.len),n+this.len}},ie.Float80_LE={len:10,get(e,n){return _.read(e,n,!0,63,this.len)},put(e,n,r){return _.write(e,r,n,!0,63,this.len),n+this.len}},ie.IgnoreType=class{constructor(e){this.len=e}get(e,n){}},ie.Uint8ArrayType=class{constructor(e){this.len=e}get(e,n){return e.subarray(n,n+this.len)}},ie.BufferType=class{constructor(e){this.len=e}get(e,n){return l.from(e.subarray(n,n+this.len))}},ie.StringType=class{constructor(e,n){this.len=e,this.encoding=n}get(e,n){return l.from(e).toString(this.encoding,n,n+this.len)}};class o{constructor(n){this.len=n}static decode(n,r,t){let i="";for(let f=r;f<t;++f)i+=o.codePointToString(o.singleByteDecoder(n[f]));return i}static inRange(n,r,t){return r<=n&&n<=t}static codePointToString(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n)))}static singleByteDecoder(n){if(o.inRange(n,0,127))return n;const r=o.windows1252[n-128];if(r===null)throw Error("invaliding encoding");return r}get(n,r=0){return o.decode(n,r,r+this.len)}}ie.AnsiStringType=o,o.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},311:(_e,ie)=>{(ie=_e.exports=function(j){return j.replace(/^\s*|\s*$/g,"")}).left=function(j){return j.replace(/^\s*/,"")},ie.right=function(j){return j.replace(/\s*$/,"")}},9299:(_e,ie,j)=>{var l=j(4406);(function(){var _={};function u(){l===void 0&&console.log.apply(console,arguments)}_e.exports=_,function(o,e){var n,r,t,i,f,d,m,a,c,p,M,I,S,G,z;(function(){var y=function(){function H(R){this.message="JPEG error: "+R}return H.prototype=new Error,H.prototype.name="JpegError",H.constructor=H,H}(),b=function(){var H=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),R=4017,T=799,C=3406,k=2276,te=1567,V=3784,Q=5793,W=2896;function L(v){v==null&&(v={}),v.w==null&&(v.w=-1),this.V=v.n,this.N=v.w}function Y(v,A){for(var P,X,s,h=0,g=[],U=16;U>0&&!v[U-1];)U--;g.push({children:[],index:0});var K=g[0];for(P=0;P<U;P++){for(X=0;X<v[P];X++){for((K=g.pop()).children[K.index]=A[h];K.index>0;)K=g.pop();for(K.index++,g.push(K);g.length<=P;)g.push(s={children:[],index:0}),K.children[K.index]=s.children,K=s;h++}P+1<U&&(g.push(s={children:[],index:0}),K.children[K.index]=s.children,K=s)}return g[0].children}function O(v,A,P){return 64*((v.P+1)*A+P)}function D(v,A,P,X,s,h,g,U,K,E){E==null&&(E=!1);var J,oe,Z,de,ge,xe,we,ne,fe,be,Se,me=P.m,Me=P.Z,ke=A,Re=0,Ce=0,Ne=0,qe=0,F=0,ye=0;function $(){if(Ce>0)return Ce--,Re>>Ce&1;if((Re=v[A++])===255){var Ee=v[A++];if(Ee){if(Ee===220&&E){var He=B(v,A+=2);if(A+=2,He>0&&He!==P.s)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",He)}else if(Ee===217){if(E){var We=8*F;if(We>0&&We<P.s/10)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",We)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new y("unexpected marker")}}return Ce=7,Re>>>7}function ce(Ee){for(var He=Ee;;){switch(typeof(He=He[$()])){case"number":return He;case"object":continue}throw new y("invalid huffman sequence")}}function De(Ee){for(var He=0;Ee>0;)He=He<<1|$(),Ee--;return He}function Pe(Ee){if(Ee===1)return $()===1?1:-1;var He=De(Ee);return He>=1<<Ee-1?He:He+(-1<<Ee)+1}function Ye(Ee,He,We,je,Xe){var ft=We%me;F=(We/me|0)*Ee.A+je;var Je=ft*Ee.h+Xe;He(Ee,O(Ee,F,Je))}function Te(Ee,He,We){F=We/Ee.P|0;var je=We%Ee.P;He(Ee,O(Ee,F,je))}var ze=X.length;for(we=Me?h===0?U===0?function(Ee,He){var We=ce(Ee.J),je=We===0?0:Pe(We)<<K;Ee.D[He]=Ee.Q+=je}:function(Ee,He){Ee.D[He]|=$()<<K}:U===0?function(Ee,He){if(Ne>0)Ne--;else for(var We=h,je=g;We<=je;){var Xe=ce(Ee.i),ft=15&Xe,Je=Xe>>4;if(ft!==0){var rt=H[We+=Je];Ee.D[He+rt]=Pe(ft)*(1<<K),We++}else{if(Je<15){Ne=De(Je)+(1<<Je)-1;break}We+=16}}}:function(Ee,He){for(var We,je,Xe=h,ft=g,Je=0;Xe<=ft;){var rt=He+H[Xe],st=Ee.D[rt]<0?-1:1;switch(qe){case 0:if(Je=(je=ce(Ee.i))>>4,(We=15&je)==0)Je<15?(Ne=De(Je)+(1<<Je),qe=4):(Je=16,qe=1);else{if(We!==1)throw new y("invalid ACn encoding");J=Pe(We),qe=Je?2:3}continue;case 1:case 2:Ee.D[rt]?Ee.D[rt]+=st*($()<<K):--Je==0&&(qe=qe===2?3:0);break;case 3:Ee.D[rt]?Ee.D[rt]+=st*($()<<K):(Ee.D[rt]=J<<K,qe=0);break;case 4:Ee.D[rt]&&(Ee.D[rt]+=st*($()<<K))}Xe++}qe===4&&--Ne==0&&(qe=0)}:function(Ee,He){var We=ce(Ee.J),je=We===0?0:Pe(We),Xe=1;for(Ee.D[He]=Ee.Q+=je;Xe<64;){var ft=ce(Ee.i),Je=15&ft,rt=ft>>4;if(Je!==0){var st=H[Xe+=rt];Ee.D[He+st]=Pe(Je),Xe++}else{if(rt<15)break;Xe+=16}}},fe=ze===1?X[0].P*X[0].c:me*P.R;ye<=fe;){var Be=s?Math.min(fe-ye,s):fe;if(Be>0){for(Z=0;Z<ze;Z++)X[Z].Q=0;if(Ne=0,ze===1)for(oe=X[0],xe=0;xe<Be;xe++)Te(oe,we,ye),ye++;else for(xe=0;xe<Be;xe++){for(Z=0;Z<ze;Z++)for(be=(oe=X[Z]).h,Se=oe.A,de=0;de<Se;de++)for(ge=0;ge<be;ge++)Ye(oe,we,ye,de,ge);ye++}}if(Ce=0,!(ne=he(v,A))||(ne.u&&(A=ne.offset),!(ne.M>=65488&&ne.M<=65495)))break;A+=2}return A-ke}function re(v,A,P){var X,s,h,g,U,K,E,J,oe,Z,de,ge,xe,we,ne,fe,be,Se=v.$,me=v.D;if(!Se)throw new y("missing required Quantization Table.");for(var Me=0;Me<64;Me+=8)oe=me[A+Me],Z=me[A+Me+1],de=me[A+Me+2],ge=me[A+Me+3],xe=me[A+Me+4],we=me[A+Me+5],ne=me[A+Me+6],fe=me[A+Me+7],oe*=Se[Me],Z|de|ge|xe|we|ne|fe?(Z*=Se[Me+1],de*=Se[Me+2],ge*=Se[Me+3],xe*=Se[Me+4],we*=Se[Me+5],ne*=Se[Me+6],fe*=Se[Me+7],s=(X=(X=Q*oe+128>>8)+(s=Q*xe+128>>8)+1>>1)-s,be=(h=de)*V+(g=ne)*te+128>>8,h=h*te-g*V+128>>8,E=(U=(U=W*(Z-fe)+128>>8)+(E=we<<4)+1>>1)-E,K=(J=(J=W*(Z+fe)+128>>8)+(K=ge<<4)+1>>1)-K,g=(X=X+(g=be)+1>>1)-g,h=(s=s+h+1>>1)-h,be=U*k+J*C+2048>>12,U=U*C-J*k+2048>>12,J=be,be=K*T+E*R+2048>>12,K=K*R-E*T+2048>>12,E=be,P[Me]=X+J,P[Me+7]=X-J,P[Me+1]=s+E,P[Me+6]=s-E,P[Me+2]=h+K,P[Me+5]=h-K,P[Me+3]=g+U,P[Me+4]=g-U):(be=Q*oe+512>>10,P[Me]=be,P[Me+1]=be,P[Me+2]=be,P[Me+3]=be,P[Me+4]=be,P[Me+5]=be,P[Me+6]=be,P[Me+7]=be);for(var ke=0;ke<8;++ke)oe=P[ke],(Z=P[ke+8])|(de=P[ke+16])|(ge=P[ke+24])|(xe=P[ke+32])|(we=P[ke+40])|(ne=P[ke+48])|(fe=P[ke+56])?(s=(X=4112+((X=Q*oe+2048>>12)+(s=Q*xe+2048>>12)+1>>1))-s,be=(h=de)*V+(g=ne)*te+2048>>12,h=h*te-g*V+2048>>12,g=be,E=(U=(U=W*(Z-fe)+2048>>12)+(E=we)+1>>1)-E,K=(J=(J=W*(Z+fe)+2048>>12)+(K=ge)+1>>1)-K,be=U*k+J*C+2048>>12,U=U*C-J*k+2048>>12,J=be,be=K*T+E*R+2048>>12,K=K*R-E*T+2048>>12,(oe=(X=X+g+1>>1)+J)<16?oe=0:oe>=4080?oe=255:oe>>=4,(Z=(s=s+h+1>>1)+(E=be))<16?Z=0:Z>=4080?Z=255:Z>>=4,(de=(h=s-h)+K)<16?de=0:de>=4080?de=255:de>>=4,(ge=(g=X-g)+U)<16?ge=0:ge>=4080?ge=255:ge>>=4,(xe=g-U)<16?xe=0:xe>=4080?xe=255:xe>>=4,(we=h-K)<16?we=0:we>=4080?we=255:we>>=4,(ne=s-E)<16?ne=0:ne>=4080?ne=255:ne>>=4,(fe=X-J)<16?fe=0:fe>=4080?fe=255:fe>>=4,me[A+ke]=oe,me[A+ke+8]=Z,me[A+ke+16]=de,me[A+ke+24]=ge,me[A+ke+32]=xe,me[A+ke+40]=we,me[A+ke+48]=ne,me[A+ke+56]=fe):(be=(be=Q*oe+8192>>14)<-2040?0:be>=2024?255:be+2056>>4,me[A+ke]=be,me[A+ke+8]=be,me[A+ke+16]=be,me[A+ke+24]=be,me[A+ke+32]=be,me[A+ke+40]=be,me[A+ke+48]=be,me[A+ke+56]=be)}function ae(v,A){for(var P=A.P,X=A.c,s=new Int16Array(64),h=0;h<X;h++)for(var g=0;g<P;g++)re(A,O(A,h,g),s);return A.D}function he(v,A,P){P==null&&(P=A);var X=v.length-1,s=P<A?P:A;if(A>=X)return null;var h=B(v,A);if(h>=65472&&h<=65534)return{u:null,M:h,offset:A};for(var g=B(v,s);!(g>=65472&&g<=65534);){if(++s>=X)return null;g=B(v,s)}return{u:h.toString(16),M:g,offset:s}}return L.prototype={parse(v,A){A==null&&(A={});var P,X,s=A.F,h=0,g=null,U=null,K=0;function E(){var ht=B(v,h),bt=(h+=2)+ht-2,at=he(v,bt,h);at&&at.u&&(bt=at.offset);var lt=v.subarray(h,bt);return h+=lt.length,lt}function J(ht){for(var bt=Math.ceil(ht.o/8/ht.X),at=Math.ceil(ht.s/8/ht.B),lt=0;lt<ht.W.length;lt++){Te=ht.W[lt];var mt=Math.ceil(Math.ceil(ht.o/8)*Te.h/ht.X),pt=Math.ceil(Math.ceil(ht.s/8)*Te.A/ht.B),dt=bt*Te.h,ct=at*Te.A*64*(dt+1);Te.D=new Int16Array(ct),Te.P=mt,Te.c=pt}ht.m=bt,ht.R=at}var oe=[],Z=[],de=[],ge=B(v,h);if(h+=2,ge!==65496)throw new y("SOI not found");ge=B(v,h),h+=2;e:for(;ge!==65497;){var xe,we,ne;switch(ge){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var fe=E();ge===65504&&fe[0]===74&&fe[1]===70&&fe[2]===73&&fe[3]===70&&fe[4]===0&&(g={version:{d:fe[5],T:fe[6]},K:fe[7],j:fe[8]<<8|fe[9],H:fe[10]<<8|fe[11],S:fe[12],I:fe[13],C:fe.subarray(14,14+3*fe[12]*fe[13])}),ge===65518&&fe[0]===65&&fe[1]===100&&fe[2]===111&&fe[3]===98&&fe[4]===101&&(U={version:fe[5]<<8|fe[6],k:fe[7]<<8|fe[8],q:fe[9]<<8|fe[10],a:fe[11]});break;case 65499:for(var be=B(v,h)+(h+=2)-2;h<be;){var Se=v[h++],me=new Uint16Array(64);if(Se>>4){if(Se>>4!=1)throw new y("DQT - invalid table spec");for(we=0;we<64;we++)me[H[we]]=B(v,h),h+=2}else for(we=0;we<64;we++)me[H[we]]=v[h++];oe[15&Se]=me}break;case 65472:case 65473:case 65474:if(P)throw new y("Only single frame JPEGs supported");h+=2,(P={}).G=ge===65473,P.Z=ge===65474,P.precision=v[h++];var Me,ke=B(v,h),Re=0,Ce=0;h+=2,P.s=s||ke,P.o=B(v,h),h+=2,P.W=[],P._={};var Ne=v[h++];for(xe=0;xe<Ne;xe++){Me=v[h];var qe=v[h+1]>>4,F=15&v[h+1];Re<qe&&(Re=qe),Ce<F&&(Ce=F);var ye=v[h+2];ne=P.W.push({h:qe,A:F,L:ye,$:null}),P._[Me]=ne-1,h+=3}P.X=Re,P.B=Ce,J(P);break;case 65476:var $=B(v,h);for(h+=2,xe=2;xe<$;){var ce=v[h++],De=new Uint8Array(16),Pe=0;for(we=0;we<16;we++,h++)Pe+=De[we]=v[h];var Ye=new Uint8Array(Pe);for(we=0;we<Pe;we++,h++)Ye[we]=v[h];xe+=17+Pe,(ce>>4?Z:de)[15&ce]=Y(De,Ye)}break;case 65501:X=B(v,h+=2),h+=2;break;case 65498:var Te,ze=++K==1&&!s;h+=2;var Be=v[h++],Ee=[];for(xe=0;xe<Be;xe++){var He=v[h++],We=P._[He];(Te=P.W[We]).index=He;var je=v[h++];Te.J=de[je>>4],Te.i=Z[15&je],Ee.push(Te)}var Xe=v[h++],ft=v[h++],Je=v[h++];try{var rt=D(v,h,P,Ee,X,Xe,ft,Je>>4,15&Je,ze);h+=rt}catch(ht){if(ht instanceof DNLMarkerError)return this.parse(v,{F:ht.s});if(ht instanceof EOIMarkerError)break e;throw ht}break;case 65500:h+=4;break;case 65535:v[h]!==255&&h--;break;default:var st=he(v,h-2,h-3);if(st&&st.u){h=st.offset;break}if(h>=v.length-1)break e;throw new y("JpegImage.parse - unknown marker: "+ge.toString(16))}ge=B(v,h),h+=2}for(this.width=P.o,this.height=P.s,this.g=g,this.b=U,this.W=[],xe=0;xe<P.W.length;xe++){var ut=oe[(Te=P.W[xe]).L];ut&&(Te.$=ut),this.W.push({index:Te.index,e:ae(0,Te),l:Te.h/P.X,t:Te.A/P.B,P:Te.P,c:Te.c})}this.p=this.W.length},Y(v,A,P){P==null&&(P=!1);var X,s,h,g,U,K,E,J,oe,Z,de,ge,xe=this.width/v,we=this.height/A,ne=0,fe=this.W.length,be=v*A*fe,Se=new Uint8ClampedArray(be),me=new Uint32Array(v),Me=4294967288;for(E=0;E<fe;E++){if(s=(X=this.W[E]).l*xe,h=X.t*we,ne=E,de=X.e,g=X.P+1<<3,s!==ge){for(U=0;U<v;U++)J=0|U*s,me[U]=(J&Me)<<3|7&J;ge=s}for(K=0;K<A;K++)for(Z=g*((J=0|K*h)&Me)|(7&J)<<3,U=0;U<v;U++)Se[ne]=de[Z+me[U]],ne+=fe}var ke=this.V;if(P||fe!==4||ke||(ke=new Int32Array([-256,255,-256,255,-256,255,-256,255])),ke)for(E=0;E<be;)for(J=0,oe=0;J<fe;J++,E++,oe+=2)Se[E]=(Se[E]*ke[oe]>>8)+ke[oe+1];return Se},get f(){return this.b?!!this.b.a:this.p===3?this.N!==0&&(this.W[0].index!==82||this.W[1].index!==71||this.W[2].index!==66):this.N===1},z:function(v){for(var A,P,X,s=0,h=v.length;s<h;s+=3)A=v[s],P=v[s+1],X=v[s+2],v[s]=A-179.456+1.402*X,v[s+1]=A+135.459-.344*P-.714*X,v[s+2]=A-226.816+1.772*P;return v},O:function(v){for(var A,P,X,s,h=0,g=0,U=v.length;g<U;g+=4)A=v[g],P=v[g+1],X=v[g+2],s=v[g+3],v[h++]=P*(-660635669420364e-19*P+.000437130475926232*X-54080610064599e-18*A+.00048449797120281*s-.154362151871126)-122.67195406894+X*(-.000957964378445773*X+.000817076911346625*A-.00477271405408747*s+1.53380253221734)+A*(.000961250184130688*A-.00266257332283933*s+.48357088451265)+s*(-.000336197177618394*s+.484791561490776),v[h++]=107.268039397724+P*(219927104525741e-19*P-.000640992018297945*X+.000659397001245577*A+.000426105652938837*s-.176491792462875)+X*(-.000778269941513683*X+.00130872261408275*A+.000770482631801132*s-.151051492775562)+A*(.00126935368114843*A-.00265090189010898*s+.25802910206845)+s*(-.000318913117588328*s-.213742400323665),v[h++]=P*(-.000570115196973677*P-263409051004589e-19*X+.0020741088115012*A-.00288260236853442*s+.814272968359295)-20.810012546947+X*(-153496057440975e-19*X-.000132689043961446*A+.000560833691242812*s-.195152027534049)+A*(.00174418132927582*A-.00255243321439347*s+.116935020465145)+s*(-.000343531996510555*s+.24165260232407);return v.subarray(0,h)},r:function(v){for(var A,P,X,s=0,h=v.length;s<h;s+=4)A=v[s],P=v[s+1],X=v[s+2],v[s]=434.456-A-1.402*X,v[s+1]=119.541-A+.344*P+.714*X,v[s+2]=481.816-A-1.772*P;return v},U:function(v){for(var A,P,X,s,h=0,g=0,U=v.length;g<U;g+=4)A=v[g],P=v[g+1],X=v[g+2],s=v[g+3],v[h++]=255+A*(-6747147073602441e-20*A+.0008379262121013727*P+.0002894718188643294*X+.003264231057537806*s-1.1185611867203937)+P*(26374107616089405e-21*P-8626949158638572e-20*X-.0002748769067499491*s-.02155688794978967)+X*(-3878099212869363e-20*X-.0003267808279485286*s+.0686742238595345)-s*(.0003361971776183937*s+.7430659151342254),v[h++]=255+A*(.00013596372813588848*A+.000924537132573585*P+.00010567359618683593*X+.0004791864687436512*s-.3109689587515875)+P*(-.00023545346108370344*P+.0002702845253534714*X+.0020200308977307156*s-.7488052167015494)+X*(6834815998235662e-20*X+.00015168452363460973*s-.09751927774728933)-s*(.0003189131175883281*s+.7364883807733168),v[h++]=255+A*(13598650411385307e-21*A+.00012423956175490851*P+.0004751985097583589*X-36729317476630422e-22*s-.05562186980264034)+P*(.00016141380598724676*P+.0009692239130725186*X+.0007782692450036253*s-.44015232367526463)+X*(5068882914068769e-22*X+.0017778369011375071*s-.7591454649749609)-s*(.0003435319965105553*s+.7063770186160144);return v.subarray(0,h)},getData:function(v){var A=v.width,P=v.height,X=v.forceRGB,s=v.isSourcePDF;if(this.p>4)throw new y("Unsupported color mode");var h=this.Y(A,P,s);if(this.p===1&&X){for(var g=h.length,U=new Uint8ClampedArray(3*g),K=0,E=0;E<g;E++){var J=h[E];U[K++]=J,U[K++]=J,U[K++]=J}return U}if(this.p===3&&this.f)return this.z(h);if(this.p===4){if(this.f)return X?this.O(h):this.r(h);if(X)return this.U(h)}return h}},L}();function B(H,R){return H[R]<<8|H[R+1]}o.JpegDecoder=b})(),o.encodeImage=function(y,b,B,H){var R={t256:[b],t257:[B],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[B],t279:[b*B*4],t282:[[72,1]],t283:[[72,1]],t284:[1],t286:[[0,1]],t287:[[0,1]],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(H)for(var T in H)R[T]=H[T];var C=new Uint8Array(o.encode([R])),k=new Uint8Array(y),te=new Uint8Array(1e3+b*B*4);for(T=0;T<C.length;T++)te[T]=C[T];for(T=0;T<k.length;T++)te[1e3+T]=k[T];return te.buffer},o.encode=function(y){var b=new Uint8Array(2e4),B=4,H=o._binBE;b[0]=b[1]=77,H.writeUshort(b,2,42);var R=8;H.writeUint(b,B,R),B+=4;for(var T=0;T<y.length;T++){var C=o._writeIFD(H,o._types.basic,b,R,y[T]);R=C[1],T<y.length-1&&(3&R&&(R+=4-(3&R)),H.writeUint(b,C[0],R))}return b.slice(0,R).buffer},o.decode=function(y,b){b==null&&(b={parseMN:!0,debug:!1});var B=new Uint8Array(y),H=0,R=o._binBE.readASCII(B,H,2);H+=2;var T=R=="II"?o._binLE:o._binBE;T.readUshort(B,H),H+=2;var C=T.readUint(B,H);H+=4;for(var k=[];;){var te=T.readUshort(B,C),V=T.readUshort(B,C+4);if(te!=0&&(V<1||13<V)){u("error in TIFF");break}if(o._readIFD(T,B,C,k,0,b),(C=T.readUint(B,C+2+12*te))==0)break}return k},o.decodeImage=function(y,b,B){if(!b.data){var H=new Uint8Array(y),R=o._binBE.readASCII(H,0,2);if(b.t256!=null){b.isLE=R=="II",b.width=b.t256[0],b.height=b.t257[0];var T,C=b.t259?b.t259[0]:1,k=b.t266?b.t266[0]:1;b.t284&&b.t284[0]==2&&u("PlanarConfiguration 2 should not be used!"),C==7&&b.t258&&b.t258.length>3&&(b.t258=b.t258.slice(0,3)),T=b.t258?Math.min(32,b.t258[0])*b.t258.length:b.t277?b.t277[0]:1,C==1&&b.t279!=null&&b.t278&&b.t262[0]==32803&&(T=Math.round(8*b.t279[0]/(b.width*b.t278[0]))),b.t50885&&b.t50885[0]==4&&(T=3*b.t258[0]);var te=8*Math.ceil(b.width*T/8),V=b.t273;(V==null||b.t322)&&(V=b.t324);var Q=b.t279;C==1&&V.length==1&&(Q=[b.height*(te>>>3)]),(Q==null||b.t322)&&(Q=b.t325);var W=new Uint8Array(b.height*(te>>>3)),L=0;if(b.t322!=null){var Y=b.t322[0],O=b.t323[0],D=Math.floor((b.width+Y-1)/Y),re=Math.floor((b.height+O-1)/O),ae=new Uint8Array(0|Math.ceil(Y*O*T/8));console.log("====",D,re);for(var he=0;he<re;he++)for(var v=0;v<D;v++){var A=he*D+v;ae.fill(0),o.decode._decompress(b,B,H,V[A],Q[A],C,ae,0,k),C==6?W=ae:o._copyTile(ae,0|Math.ceil(Y*T/8),O,W,0|Math.ceil(b.width*T/8),b.height,0|Math.ceil(v*Y*T/8),he*O)}L=8*W.length}else{var P=b.t278?b.t278[0]:b.height;for(P=Math.min(P,b.height),console.log("====",b.width,P),A=0;A<V.length;A++)o.decode._decompress(b,B,H,V[A],Q[A],C,W,0|Math.ceil(L/8),k),L+=te*P;L=Math.min(L,8*W.length)}b.data=new Uint8Array(W.buffer,0,0|Math.ceil(L/8))}}},o.decode._decompress=function(y,b,B,H,R,T,C,k,te){if(T==1)for(var V=0;V<R;V++)C[k+V]=B[H+V];else if(T==2)o.decode._decodeG2(B,H,R,C,k,y.width,te);else if(T==3)o.decode._decodeG3(B,H,R,C,k,y.width,te,!!y.t292&&(1&y.t292[0])==1);else if(T==4)o.decode._decodeG4(B,H,R,C,k,y.width,te);else if(T==5)o.decode._decodeLZW(B,H,R,C,k,8);else if(T==6)o.decode._decodeOldJPEG(y,B,H,R,C,k);else if(T==7||T==34892)o.decode._decodeNewJPEG(y,B,H,R,C,k);else if(T==8||T==32946)for(var Q=new Uint8Array(B.buffer,H,R),W=e.inflate(Q),L=0;L<W.length;L++)C[k+L]=W[L];else T==9?o.decode._decodeVC5(B,H,R,C,k):T==32767?o.decode._decodeARW(y,B,H,R,C,k):T==32773?o.decode._decodePackBits(B,H,R,C,k):T==32809?o.decode._decodeThunder(B,H,R,C,k):T==34713?o.decode._decodeNikon(y,b,B,H,R,C,k):T==34676?o.decode._decodeLogLuv32(y,B,H,R,C,k):u("Unknown compression",T);var Y=y.t258?Math.min(32,y.t258[0]):1,O=y.t277?y.t277[0]:1,D=Y*O>>>3,re=y.t278?y.t278[0]:y.height,ae=Math.ceil(Y*O*y.width/8);if(Y==16&&!y.isLE&&y.t33422==null)for(var he=0;he<re;he++)for(var v=k+he*ae,A=1;A<ae;A+=2){var P=C[v+A];C[v+A]=C[v+A-1],C[v+A-1]=P}if(y.t317&&y.t317[0]==2)for(he=0;he<re;he++){var X=k+he*ae;if(Y==16)for(V=D;V<ae;V+=2){var s=(C[X+V+1]<<8|C[X+V])+(C[X+V-D+1]<<8|C[X+V-D]);C[X+V]=255&s,C[X+V+1]=s>>>8&255}else if(O==3)for(V=3;V<ae;V+=3)C[X+V]=C[X+V]+C[X+V-3]&255,C[X+V+1]=C[X+V+1]+C[X+V-2]&255,C[X+V+2]=C[X+V+2]+C[X+V-1]&255;else for(V=D;V<ae;V++)C[X+V]=C[X+V]+C[X+V-D]&255}},o.decode._decodeVC5=o.decode._decodeVC5=function(){var y,b,B,H=[1,0,1,0,2,2,1,1,3,7,1,2,5,25,1,3,6,48,1,4,6,54,1,5,7,111,1,8,7,99,1,6,7,105,12,0,7,107,1,7,8,209,20,0,8,212,1,9,8,220,1,10,9,393,1,11,9,394,32,0,9,416,1,12,9,427,1,13,10,887,1,18,10,784,1,14,10,790,1,15,10,835,60,0,10,852,1,16,10,885,1,17,11,1571,1,19,11,1668,1,20,11,1669,100,0,11,1707,1,21,11,1772,1,22,12,3547,1,29,12,3164,1,24,12,3166,1,25,12,3140,1,23,12,3413,1,26,12,3537,1,27,12,3539,1,28,13,7093,1,35,13,6283,1,30,13,6331,1,31,13,6335,180,0,13,6824,1,32,13,7072,1,33,13,7077,320,0,13,7076,1,34,14,12565,1,36,14,12661,1,37,14,12669,1,38,14,13651,1,39,14,14184,1,40,15,28295,1,46,15,28371,1,47,15,25320,1,42,15,25336,1,43,15,25128,1,41,15,27300,1,44,15,28293,1,45,16,50259,1,48,16,50643,1,49,16,50675,1,50,16,56740,1,53,16,56584,1,51,16,56588,1,52,17,113483,1,61,17,113482,1,60,17,101285,1,55,17,101349,1,56,17,109205,1,57,17,109207,1,58,17,100516,1,54,17,113171,1,59,18,202568,1,62,18,202696,1,63,18,218408,1,64,18,218412,1,65,18,226340,1,66,18,226356,1,67,18,226358,1,68,19,402068,1,69,19,405138,1,70,19,405394,1,71,19,436818,1,72,19,436826,1,73,19,452714,1,75,19,452718,1,76,19,452682,1,74,20,804138,1,77,20,810279,1,78,20,810790,1,79,20,873638,1,80,20,873654,1,81,20,905366,1,82,20,905430,1,83,20,905438,1,84,21,1608278,1,85,21,1620557,1,86,21,1621582,1,87,21,1621583,1,88,21,1747310,1,89,21,1810734,1,90,21,1810735,1,91,21,1810863,1,92,21,1810879,1,93,22,3621725,1,99,22,3621757,1,100,22,3241112,1,94,22,3494556,1,95,22,3494557,1,96,22,3494622,1,97,22,3494623,1,98,23,6482227,1,102,23,6433117,1,101,23,6989117,1,103,23,6989119,1,105,23,6989118,1,104,23,7243449,1,106,23,7243512,1,107,24,13978233,1,111,24,12964453,1,109,24,12866232,1,108,24,14486897,1,113,24,13978232,1,110,24,14486896,1,112,24,14487026,1,114,24,14487027,1,115,25,25732598,1,225,25,25732597,1,189,25,25732596,1,188,25,25732595,1,203,25,25732594,1,202,25,25732593,1,197,25,25732592,1,207,25,25732591,1,169,25,25732590,1,223,25,25732589,1,159,25,25732522,1,235,25,25732579,1,152,25,25732575,1,192,25,25732489,1,179,25,25732573,1,201,25,25732472,1,172,25,25732576,1,149,25,25732488,1,178,25,25732566,1,120,25,25732571,1,219,25,25732577,1,150,25,25732487,1,127,25,25732506,1,211,25,25732548,1,125,25,25732588,1,158,25,25732486,1,247,25,25732467,1,238,25,25732508,1,163,25,25732552,1,228,25,25732603,1,183,25,25732513,1,217,25,25732587,1,168,25,25732520,1,122,25,25732484,1,128,25,25732562,1,249,25,25732505,1,187,25,25732504,1,186,25,25732483,1,136,25,25928905,1,181,25,25732560,1,255,25,25732500,1,230,25,25732482,1,135,25,25732555,1,233,25,25732568,1,222,25,25732583,1,145,25,25732481,1,134,25,25732586,1,167,25,25732521,1,248,25,25732518,1,209,25,25732480,1,243,25,25732512,1,216,25,25732509,1,164,25,25732547,1,140,25,25732479,1,157,25,25732544,1,239,25,25732574,1,191,25,25732564,1,251,25,25732478,1,156,25,25732546,1,139,25,25732498,1,242,25,25732557,1,133,25,25732477,1,162,25,25732515,1,213,25,25732584,1,165,25,25732514,1,212,25,25732476,1,227,25,25732494,1,198,25,25732531,1,236,25,25732530,1,234,25,25732529,1,117,25,25732528,1,215,25,25732527,1,124,25,25732526,1,123,25,25732525,1,254,25,25732524,1,253,25,25732523,1,148,25,25732570,1,218,25,25732580,1,146,25,25732581,1,147,25,25732569,1,224,25,25732533,1,143,25,25732540,1,184,25,25732541,1,185,25,25732585,1,166,25,25732556,1,132,25,25732485,1,129,25,25732563,1,250,25,25732578,1,151,25,25732501,1,119,25,25732502,1,193,25,25732536,1,176,25,25732496,1,245,25,25732553,1,229,25,25732516,1,206,25,25732582,1,144,25,25732517,1,208,25,25732558,1,137,25,25732543,1,241,25,25732466,1,237,25,25732507,1,190,25,25732542,1,240,25,25732551,1,131,25,25732554,1,232,25,25732565,1,252,25,25732475,1,171,25,25732493,1,205,25,25732492,1,204,25,25732491,1,118,25,25732490,1,214,25,25928904,1,180,25,25732549,1,126,25,25732602,1,182,25,25732539,1,175,25,25732545,1,141,25,25732559,1,138,25,25732537,1,177,25,25732534,1,153,25,25732503,1,194,25,25732606,1,160,25,25732567,1,121,25,25732538,1,174,25,25732497,1,246,25,25732550,1,130,25,25732572,1,200,25,25732474,1,170,25,25732511,1,221,25,25732601,1,196,25,25732532,1,142,25,25732519,1,210,25,25732495,1,199,25,25732605,1,155,25,25732535,1,154,25,25732499,1,244,25,25732510,1,220,25,25732600,1,195,25,25732607,1,161,25,25732604,1,231,25,25732473,1,173,25,25732599,1,226,26,51465122,1,116,26,51465123,0,1],R=[3,3,3,3,2,2,2,1,1,1];function T(Y){var O=Y[1],D=Y[0][O>>>3]>>>7-(7&O)&1;return Y[1]++,D}function C(Y,O){if(y==null){y={};for(var D=0;D<H.length;D+=4)y[H[D+1]]=H.slice(D,D+4)}for(var re=T(Y),ae=y[re];ae==null;)re=re<<1|T(Y),ae=y[re];var he=ae[3];he!=0&&(he=T(Y)==0?he:-he),O[0]=ae[2],O[1]=he}function k(Y,O){for(var D=0;D<O;D++)(1&Y)==1&&Y++,Y>>>=1;return Y}function te(Y,O){return Y>>O}function V(Y,O,D,re,ae,he){O[D]=te(te(11*Y[ae]-4*Y[ae+he]+Y[ae+he+he]+4,3)+Y[re],1),O[D+he]=te(te(5*Y[ae]+4*Y[ae+he]-Y[ae+he+he]+4,3)-Y[re],1)}function Q(Y,O,D,re,ae,he){var v=Y[ae-he]-Y[ae+he],A=Y[ae],P=Y[re];O[D]=te(te(v+4,3)+A+P,1),O[D+he]=te(te(4-v,3)+A-P,1)}function W(Y,O,D,re,ae,he){O[D]=te(te(5*Y[ae]+4*Y[ae-he]-Y[ae-he-he]+4,3)+Y[re],1),O[D+he]=te(te(11*Y[ae]-4*Y[ae-he]+Y[ae-he-he]+4,3)-Y[re],1)}function L(Y){return B[Y=Y<0?0:Y>4095?4095:Y]>>>2}return function(Y,O,D,re,ae){re=new Uint16Array(re.buffer);var he,v,A,P,X,s,h,g,U=Date.now(),K=o._binBE,E=O+D;for(O+=4;O<E;){var J=K.readShort(Y,O),oe=K.readUshort(Y,O+2);if(O+=4,J==12)fe=oe;else if(J==20)he=oe;else if(J==21)v=oe;else if(J==48)A=oe;else if(J==53)P=oe;else if(J!=35){if(J==62)X=oe;else if(J!=101){if(J==109)s=oe;else if(J!=84){if(J!=106){if(J!=107){if(J!=108){if(J!=102){if(J==104)Ee=oe;else if(J!=105){var Z=J<0?-J:J,de=65280&Z,ge=0;if(24576&Z&&(8192&Z?(ge=65535&oe,ge+=(255&Z)<<16):ge=65535&oe),(24576&Z)==24576){if(h==null){h=[];for(var xe=0;xe<4;xe++)h[xe]=new Int16Array((he>>>1)*(v>>>1));for(g=new Int16Array((he>>>1)*(v>>>1)),b=new Int16Array(1024),xe=0;xe<1024;xe++){var we=xe-512,ne=Math.abs(we),fe=Math.floor(768*ne*ne*ne/16581375)+ne;b[xe]=Math.sign(we)*fe}for(B=new Uint16Array(4096),xe=0;xe<4096;xe++){var be=xe,Se=65535*(Math.pow(113,be/4095)-1)/112;B[xe]=Math.min(Se,65535)}}var me=h[X],Me=k(he,1+R[A]),ke=k(v,1+R[A]);if(A==0)for(var Re=0;Re<ke;Re++)for(var Ce=0;Ce<Me;Ce++){var Ne=O+2*(Re*Me+Ce);me[Re*(he>>>1)+Ce]=Y[Ne]<<8|Y[Ne+1]}else{var qe=[Y,8*O],F=[],ye=0,$=Me*ke,ce=[0,0],De=0;for(oe=0;ye<$;)for(C(qe,ce),De=ce[0],oe=ce[1];De>0;)F[ye++]=oe,De--;var Pe=(A-1)%3,Ye=Pe!=1?Me:0,Te=Pe!=0?ke:0;for(Re=0;Re<ke;Re++){var ze=(Re+Te)*(he>>>1)+Ye,Be=Re*Me;for(Ce=0;Ce<Me;Ce++)me[ze+Ce]=b[F[Be+Ce]+512]*P}if(Pe==2){var Ee=he>>>1,He=2*Me,We=2*ke;for(Re=0;Re<ke;Re++)for(Ce=0;Ce<He;Ce++){xe=2*Re*Ee+Ce;var je=ke*Ee+(ft=Re*Ee+Ce);Re==0?V(me,g,xe,je,ft,Ee):Re==ke-1?W(me,g,xe,je,ft,Ee):Q(me,g,xe,je,ft,Ee)}var Xe=me;for(me=g,g=Xe,Re=0;Re<We;Re++)for(Ce=0;Ce<Me;Ce++){var ft;xe=Re*Ee+2*Ce,je=Me+(ft=Re*Ee+Ce),Ce==0?V(me,g,xe,je,ft,1):Ce==Me-1?W(me,g,xe,je,ft,1):Q(me,g,xe,je,ft,1)}Xe=me,me=g,g=Xe;for(var Je=[],rt=2-~~((A-1)/3),st=0;st<3;st++)Je[st]=s>>14-2*st&3;var ut=Je[rt];if(ut!=0)for(Re=0;Re<We;Re++)for(Ce=0;Ce<He;Ce++)me[xe=Re*Ee+Ce]=me[xe]<<ut}}if(A==9&&X==3){var ht=h[0],bt=h[1],at=h[2],lt=h[3];for(Re=0;Re<v;Re+=2)for(Ce=0;Ce<he;Ce+=2){var mt=Re*he+Ce,pt=ht[Ne=(Re>>>1)*(he>>>1)+(Ce>>>1)],dt=bt[Ne]-2048,ct=at[Ne]-2048,Et=lt[Ne]-2048,Tt=(dt<<1)+pt,Mt=(ct<<1)+pt,It=pt+Et,_t=pt-Et;re[mt]=L(Tt),re[mt+1]=L(It),re[mt+he]=L(_t),re[mt+he+1]=L(Mt)}}O+=4*ge}else if(Z==16388)O+=4*ge;else if(de!=8192&&de!=8448&&de!=9216)throw Z.toString(16)}}}}}}}}}console.log(Date.now()-U)}}(),o.decode._decodeLogLuv32=function(y,b,B,H,R,T){for(var C=y.width,k=4*C,te=0,V=new Uint8Array(k);te<H;){for(var Q=0;Q<k;){var W=b[B+te];if(te++,W<128){for(var L=0;L<W;L++)V[Q+L]=b[B+te+L];Q+=W,te+=W}else{for(W-=126,L=0;L<W;L++)V[Q+L]=b[B+te];Q+=W,te++}}for(var Y=0;Y<C;Y++)R[T+0]=V[Y],R[T+1]=V[Y+C],R[T+2]=V[Y+2*C],R[T+4]=V[Y+3*C],T+=6}},o.decode._ljpeg_diff=function(y,b,B){var H,R,T=o.decode._getbithuff;return H=T(y,b,B[0],B),!((R=T(y,b,H,0))&1<<H-1)&&(R-=(1<<H)-1),R},o.decode._decodeARW=function(y,b,B,H,R,T){var C=y.t256[0],k=y.t257[0],te=y.t258[0],V=y.isLE?o._binLE:o._binBE;if(C*k==H||C*k*1.5==H)if(C*k*1.5!=H){var Q,W,L,Y,O,D,re,ae,he=new Uint16Array(16),v=new Uint8Array(C+1);for(K=0;K<k;K++){for(var A=0;A<C;A++)v[A]=b[B++];for(ae=0,U=0;U<C-30;ae+=16){for(W=2047&(Q=V.readUint(v,ae)),L=2047&Q>>>11,Y=15&Q>>>22,O=15&Q>>>26,D=0;D<4&&128<<D<=W-L;D++);for(re=30,P=0;P<16;P++)P==Y?he[P]=W:P==O?he[P]=L:(he[P]=((V.readUshort(v,ae+(re>>3))>>>(7&re)&127)<<D)+L,he[P]>2047&&(he[P]=2047),re+=7);for(P=0;P<16;P++,U+=2)we=he[P]<<1,o.decode._putsF(R,(K*C+U)*te,we<<16-te);U-=1&U?1:31}}}else for(var P=0;P<H;P+=3){var X=b[B+P+0],s=b[B+P+1],h=b[B+P+2];R[T+P]=s<<4|X>>>4,R[T+P+1]=X<<4|h>>>4,R[T+P+2]=h<<4|s>>>4}else{k+=8;var g,U,K,E=[B,0,0,0],J=new Uint16Array(32770),oe=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],Z=0,de=o.decode._ljpeg_diff;for(J[0]=15,g=P=0;P<18;P++)for(var ge=32768>>>(oe[P]>>>8),xe=0;xe<ge;xe++)J[++g]=oe[P];for(U=C;U--;)for(K=0;K<k+1;K+=2)if(K==k&&(K=1),Z+=de(b,E,J),K<k){var we=4095&Z;o.decode._putsF(R,(K*C+U)*te,we<<16-te)}}},o.decode._decodeNikon=function(y,b,B,H,R,T,C){var k=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],te=y.t256[0],V=y.t257[0],Q=y.t258[0],W=0,L=0,Y=o.decode._make_decoder,O=o.decode._getbithuff,D=b[0].exifIFD.makerNote,re=D.t150?D.t150:D.t140,ae=0,he=re[ae++],v=re[ae++];he!=73&&v!=88||(ae+=2110),he==70&&(W=2),Q==14&&(W+=3);for(var A=[[0,0],[0,0]],P=y.isLE?o._binLE:o._binBE,X=0;X<2;X++)for(var s=0;s<2;s++)A[X][s]=P.readShort(re,ae),ae+=2;var h,g,U,K,E,J=1<<Q&32767,oe=0,Z=P.readShort(re,ae);ae+=2,Z>1&&(oe=Math.floor(J/(Z-1))),he==68&&v==32&&oe>0&&(L=P.readShort(re,562));var de=[0,0],ge=Y(k[W]),xe=[H,0,0,0];for(h=0;h<V;h++)for(L&&h==L&&(ge=Y(k[W+1])),g=0;g<te;g++){X=O(B,xe,ge[0],ge),!((E=1+(O(B,xe,(U=15&X)-(K=X>>>4),0)<<1)<<K>>>1)&1<<U-1)&&(E-=(1<<U)-(K==0?1:0)),g<2?de[g]=A[1&h][g]+=E:de[1&g]+=E;var we=Math.min(Math.max(de[1&g],0),(1<<Q)-1),ne=(h*te+g)*Q;o.decode._putsF(T,ne,we<<16-Q)}},o.decode._putsF=function(y,b,B){B<<=8-(7&b);var H=b>>>3;y[H]|=B>>>16,y[H+1]|=B>>>8,y[H+2]|=B},o.decode._getbithuff=function(y,b,B,H){o.decode._get_byte;var R,T=b[0],C=b[1],k=b[2],te=b[3];if(B==0||k<0)return 0;for(;!te&&k<B&&(R=y[T++])!=-1&&!(te=0);)C=(C<<8)+R,k+=8;if(R=C<<32-k>>>32-B,H?(k-=H[R+1]>>>8,R=255&H[R+1]):k-=B,k<0)throw"e";return b[0]=T,b[1]=C,b[2]=k,b[3]=te,R},o.decode._make_decoder=function(y){var b,B,H,R,T,C=[];for(b=16;b!=0&&!y[b];b--);var k=17;for(C[0]=b,H=B=1;B<=b;B++)for(R=0;R<y[B];R++,++k)for(T=0;T<1<<b-B;T++)H<=1<<b&&(C[H++]=B<<8|y[k]);return C},o.decode._decodeNewJPEG=function(y,b,B,H,R,T){H=Math.min(H,b.length-B);var C=y.t347,k=C?C.length:0,te=new Uint8Array(k+H);if(C){for(var V=0,Q=0;Q<k-1&&(C[Q]!=255||C[Q+1]!=217);Q++)te[V++]=C[Q];var W=b[B],L=b[B+1];for(W==255&&L==216||(te[V++]=W,te[V++]=L),Q=2;Q<H;Q++)te[V++]=b[B+Q]}else for(Q=0;Q<H;Q++)te[Q]=b[B+Q];if(y.t262[0]==32803||y.t259[0]==7&&y.t262[0]==34892){var Y=y.t258[0],O=o.LosslessJpegDecode(te),D=O.length;if(Y==16)if(y.isLE)for(Q=0;Q<D;Q++)R[T+(Q<<1)]=255&O[Q],R[T+(Q<<1)+1]=O[Q]>>>8;else for(Q=0;Q<D;Q++)R[T+(Q<<1)]=O[Q]>>>8,R[T+(Q<<1)+1]=255&O[Q];else if(Y==14||Y==12){var re=16-Y;for(Q=0;Q<D;Q++)o.decode._putsF(R,Q*Y,O[Q]<<re)}else{if(Y!=8)throw new Error("unsupported bit depth "+Y);for(Q=0;Q<D;Q++)R[T+Q]=O[Q]}}else{var ae=new o.JpegDecoder;ae.parse(te);var he=ae.getData({width:ae.width,height:ae.height,forceRGB:!0,isSourcePDF:!1});for(Q=0;Q<he.length;Q++)R[T+Q]=he[Q]}y.t262[0]==6&&(y.t262[0]=2)},o.decode._decodeOldJPEGInit=function(y,b,B,H){var R,T,C,k,te,V=216,Q=0,W=0,L=!1,Y=y.t513,O=Y?Y[0]:0,D=y.t514,re=D?D[0]:0,ae=y.t324||y.t273||Y,he=y.t530,v=0,A=0,P=y.t277?y.t277[0]:1,X=y.t515;if(ae&&(W=ae[0],L=ae.length>1),!L){if(b[B]==255&&b[B+1]==V)return{jpegOffset:B};if(Y!=null&&(b[B+O]==255&&b[B+O+1]==V?Q=B+O:u("JPEGInterchangeFormat does not point to SOI"),D==null?u("JPEGInterchangeFormatLength field is missing"):(O>=W||O+re<=W)&&u("JPEGInterchangeFormatLength field value is invalid"),Q!=null))return{jpegOffset:Q}}if(he!=null&&(v=he[0],A=he[1]),Y!=null&&D!=null)if(re>=2&&O+re<=W){for(R=b[B+O+re-2]==255&&b[B+O+re-1]==V?new Uint8Array(re-2):new Uint8Array(re),C=0;C<R.length;C++)R[C]=b[B+O+C];u("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else u("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(R==null){var s=0,h=[];h[s++]=255,h[s++]=V;var g=y.t519;if(g==null)throw new Error("JPEGQTables tag is missing");for(C=0;C<g.length;C++)for(h[s++]=255,h[s++]=219,h[s++]=0,h[s++]=67,h[s++]=C,k=0;k<64;k++)h[s++]=b[B+g[C]+k];for(te=0;te<2;te++){var U=y[te==0?"t520":"t521"];if(U==null)throw new Error((te==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(C=0;C<U.length;C++){h[s++]=255,h[s++]=196;var K=19;for(k=0;k<16;k++)K+=b[B+U[C]+k];for(h[s++]=K>>>8,h[s++]=255&K,h[s++]=C|te<<4,k=0;k<16;k++)h[s++]=b[B+U[C]+k];for(k=0;k<K;k++)h[s++]=b[B+U[C]+16+k]}}if(h[s++]=255,h[s++]=192,h[s++]=0,h[s++]=8+3*P,h[s++]=8,h[s++]=y.height>>>8&255,h[s++]=255&y.height,h[s++]=y.width>>>8&255,h[s++]=255&y.width,h[s++]=P,P==1)h[s++]=1,h[s++]=17,h[s++]=0;else for(C=0;C<3;C++)h[s++]=C+1,h[s++]=C!=0?17:(15&v)<<4|15&A,h[s++]=C;X!=null&&X[0]!=0&&(h[s++]=255,h[s++]=221,h[s++]=0,h[s++]=4,h[s++]=X[0]>>>8&255,h[s++]=255&X[0]),R=new Uint8Array(h)}var E=-1;for(C=0;C<R.length-1;){if(R[C]==255&&R[C+1]==192){E=C;break}C++}if(E==-1){var J=new Uint8Array(R.length+10+3*P);J.set(R);var oe=R.length;if(E=R.length,(R=J)[oe++]=255,R[oe++]=192,R[oe++]=0,R[oe++]=8+3*P,R[oe++]=8,R[oe++]=y.height>>>8&255,R[oe++]=255&y.height,R[oe++]=y.width>>>8&255,R[oe++]=255&y.width,R[oe++]=P,P==1)R[oe++]=1,R[oe++]=17,R[oe++]=0;else for(C=0;C<3;C++)R[oe++]=C+1,R[oe++]=C!=0?17:(15&v)<<4|15&A,R[oe++]=C}if(b[W]==255&&b[W+1]==218){var Z=b[W+2]<<8|b[W+3];for((T=new Uint8Array(Z+2))[0]=b[W],T[1]=b[W+1],T[2]=b[W+2],T[3]=b[W+3],C=0;C<Z-2;C++)T[C+4]=b[W+C+4]}else{var de=0;if((T=new Uint8Array(8+2*P))[de++]=255,T[de++]=218,T[de++]=0,T[de++]=6+2*P,T[de++]=P,P==1)T[de++]=1,T[de++]=0;else for(C=0;C<3;C++)T[de++]=C+1,T[de++]=C<<4|C;T[de++]=0,T[de++]=63,T[de++]=0}return{jpegOffset:B,tables:R,sosMarker:T,sofPosition:E}},o.decode._decodeOldJPEG=function(y,b,B,H,R,T){var C,k,te,V,Q=o.decode._decodeOldJPEGInit(y,b,B,H);if(Q.jpegOffset!=null)for(C=B+H-Q.jpegOffset,te=new Uint8Array(C),Y=0;Y<C;Y++)te[Y]=b[Q.jpegOffset+Y];else{for(k=Q.tables.length,(te=new Uint8Array(k+Q.sosMarker.length+H+2)).set(Q.tables),V=k,te[Q.sofPosition+5]=y.height>>>8&255,te[Q.sofPosition+6]=255&y.height,te[Q.sofPosition+7]=y.width>>>8&255,te[Q.sofPosition+8]=255&y.width,b[B]==255&&b[B+1]==SOS||(te.set(Q.sosMarker,V),V+=sosMarker.length),Y=0;Y<H;Y++)te[V++]=b[B+Y];te[V++]=255,te[V++]=EOI}var W=new o.JpegDecoder;W.parse(te);for(var L=W.getData({width:W.width,height:W.height,forceRGB:!0,isSourcePDF:!1}),Y=0;Y<L.length;Y++)R[T+Y]=L[Y];y.t262&&y.t262[0]==6&&(y.t262[0]=2)},o.decode._decodePackBits=function(y,b,B,H,R){for(var T=new Int8Array(y.buffer),C=new Int8Array(H.buffer),k=b+B;b<k;){var te=T[b];if(b++,te>=0&&te<128)for(var V=0;V<te+1;V++)C[R]=T[b],R++,b++;if(te>=-127&&te<0){for(V=0;V<1-te;V++)C[R]=T[b],R++;b++}}return R},o.decode._decodeThunder=function(y,b,B,H,R){for(var T=[0,1,0,-1],C=[0,1,2,3,0,-3,-2,-1],k=b+B,te=2*R,V=0;b<k;){var Q=y[b],W=Q>>>6,L=63&Q;if(b++,W==3&&(V=15&L,H[te>>>1]|=V<<4*(1-te&1),te++),W==0)for(var Y=0;Y<L;Y++)H[te>>>1]|=V<<4*(1-te&1),te++;if(W==2)for(Y=0;Y<2;Y++)(O=L>>>3*(1-Y)&7)!=4&&(V+=C[O],H[te>>>1]|=V<<4*(1-te&1),te++);if(W==1)for(Y=0;Y<3;Y++){var O;(O=L>>>2*(2-Y)&3)!=2&&(V+=T[O],H[te>>>1]|=V<<4*(1-te&1),te++)}}},o.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},o.decode._lens=function(){var y=function(te,V,Q,W){for(var L=0;L<V.length;L++)te[V[L]]=Q+L*W},b="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",B="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",H="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",R="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",T="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";b=b.split(","),B=B.split(","),H=H.split(","),R=R.split(","),T=T.split(",");var C={},k={};return y(C,b,0,1),y(C,H,64,64),y(C,T,1792,64),y(k,B,0,1),y(k,R,64,64),y(k,T,1792,64),[C,k]}(),o.decode._decodeG4=function(y,b,B,H,R,T,C){for(var k=o.decode,te=b<<3,V=0,Q="",W=[],L=[],Y=0;Y<T;Y++)L.push(0);L=k._makeDiff(L);for(var O=0,D=0,re=0,ae=0,he=0,v=0,A="",P=0,X=8*Math.ceil(T/8);te>>>3<b+B;){re=k._findDiff(L,O+(O==0?0:1),1-he),ae=k._findDiff(L,re,he);var s=0;if(C==1&&(s=y[te>>>3]>>>7-(7&te)&1),C==2&&(s=y[te>>>3]>>>(7&te)&1),te++,Q+=s,A=="H"){if(k._lens[he][Q]!=null){var h=k._lens[he][Q];Q="",V+=h,h<64&&(k._addNtimes(W,V,he),O+=V,he=1-he,V=0,--P==0&&(A=""))}}else Q=="0001"&&(Q="",k._addNtimes(W,ae-O,he),O=ae),Q=="001"&&(Q="",A="H",P=2),k._dmap[Q]!=null&&(D=re+k._dmap[Q],k._addNtimes(W,D-O,he),O=D,Q="",he=1-he);W.length==T&&A==""&&(k._writeBits(W,H,8*R+v*X),he=0,v++,O=0,L=k._makeDiff(W),W=[])}},o.decode._findDiff=function(y,b,B){for(var H=0;H<y.length;H+=2)if(y[H]>=b&&y[H+1]==B)return y[H]},o.decode._makeDiff=function(y){var b=[];y[0]==1&&b.push(0,1);for(var B=1;B<y.length;B++)y[B-1]!=y[B]&&b.push(B,y[B]);return b.push(y.length,0,y.length,1),b},o.decode._decodeG2=function(y,b,B,H,R,T,C){for(var k=o.decode,te=b<<3,V=0,Q="",W=[],L=0,Y=0,O=8*Math.ceil(T/8);te>>>3<b+B;){var D=0;C==1&&(D=y[te>>>3]>>>7-(7&te)&1),C==2&&(D=y[te>>>3]>>>(7&te)&1),te++,Q+=D,(V=k._lens[L][Q])!=null&&(k._addNtimes(W,V,L),Q="",V<64&&(L=1-L),W.length==T&&(k._writeBits(W,H,8*R+Y*O),W=[],Y++,L=0,7&te&&(te+=8-(7&te)),V>=64&&(te+=8)))}},o.decode._decodeG3=function(y,b,B,H,R,T,C,k){for(var te=o.decode,V=b<<3,Q=0,W="",L=[],Y=[],O=0;O<T;O++)L.push(0);for(var D=0,re=0,ae=0,he=0,v=0,A=-1,P="",X=0,s=!0,h=8*Math.ceil(T/8);V>>>3<b+B;){ae=te._findDiff(Y,D+(D==0?0:1),1-v),he=te._findDiff(Y,ae,v);var g=0;if(C==1&&(g=y[V>>>3]>>>7-(7&V)&1),C==2&&(g=y[V>>>3]>>>(7&V)&1),V++,W+=g,s){if(te._lens[v][W]!=null){var U=te._lens[v][W];W="",Q+=U,U<64&&(te._addNtimes(L,Q,v),v=1-v,Q=0)}}else P=="H"?te._lens[v][W]!=null&&(U=te._lens[v][W],W="",Q+=U,U<64&&(te._addNtimes(L,Q,v),D+=Q,v=1-v,Q=0,--X==0&&(P=""))):(W=="0001"&&(W="",te._addNtimes(L,he-D,v),D=he),W=="001"&&(W="",P="H",X=2),te._dmap[W]!=null&&(re=ae+te._dmap[W],te._addNtimes(L,re-D,v),D=re,W="",v=1-v));W.endsWith("000000000001")&&(A>=0&&te._writeBits(L,H,8*R+A*h),k&&(C==1&&(s=(y[V>>>3]>>>7-(7&V)&1)==1),C==2&&(s=(y[V>>>3]>>>(7&V)&1)==1),V++),W="",v=0,A++,D=0,Y=te._makeDiff(L),L=[])}L.length==T&&te._writeBits(L,H,8*R+A*h)},o.decode._addNtimes=function(y,b,B){for(var H=0;H<b;H++)y.push(B)},o.decode._writeBits=function(y,b,B){for(var H=0;H<y.length;H++)b[B+H>>>3]|=y[H]<<7-(B+H&7)},o.decode._decodeLZW=o.decode._decodeLZW=(f=0,d=0,m=0,a=0,c=function(){var y=n>>>3,b=(r[y]<<16|r[y+1]<<8|r[y+2])>>>24-(7&n)-d&(1<<d)-1;return n+=d,b},p=new Uint32Array(16384),M=0,I=function(y){d=y+1,f=a+1},S=function(y){for(var b=y<<2,B=p[b+2],H=i+B-1;b!=65535;)t[H--]=p[b],b=p[b+1];i+=B},G=function(y,b){var B=f<<2,H=y<<2;p[B]=p[3+(b<<2)],p[B+1]=H,p[B+2]=p[H+2]+1,p[B+3]=p[H+3],1+ ++f==1<<d&&d!=12&&d++},function(y,b,B,H,R,T){n=b<<3,r=y,t=H,i=R;var C=b+B<<3,k=0,te=0;for(function(V){if(V!=M){M=V,a=1+(m=1<<V);for(var Q=0;Q<a+1;Q++)p[4*Q]=p[4*Q+3]=Q,p[4*Q+1]=65535,p[4*Q+2]=1}}(T),I(T);n<C&&(k=c())!=a;){if(k==m){if(I(T),(k=c())==a)break;S(k)}else k<f?(S(k),G(te,k)):(G(te,te),S(f-1));te=k}return i}),o.tags={},o._types=((z=new Array(250)).fill(0),{basic:{main:z=z.concat([0,0,0,0,4,3,3,3,3,3,0,0,3,0,0,0,3,0,0,2,2,2,2,4,3,0,0,3,4,4,3,3,5,5,3,2,5,5,0,0,0,0,4,4,0,0,3,3,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,3,5,5,3,0,3,3,4,4,4,3,4,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),rest:{33432:2,33434:5,33437:5,34665:4,34850:3,34853:4,34855:3,34864:3,34866:4,36864:7,36867:2,36868:2,37121:7,37377:10,37378:5,37380:10,37381:5,37383:3,37384:3,37385:3,37386:5,37510:7,37520:2,37521:2,37522:2,40960:7,40961:3,40962:4,40963:4,40965:4,41486:5,41487:5,41488:3,41985:3,41986:3,41987:3,41988:5,41989:3,41990:3,41993:3,41994:3,41995:7,41996:3,42032:2,42033:2,42034:5,42036:2,42037:2,59932:7}},gps:{main:[1,2,5,2,5,1,5,5,0,9],rest:{18:2,29:2}}}),o._readIFD=function(y,b,B,H,R,T){var C=y.readUshort(b,B);B+=2;var k={};T.debug&&u("   ".repeat(R),H.length-1,">>>----------------");for(var te=0;te<C;te++){var V=y.readUshort(b,B);B+=2;var Q=y.readUshort(b,B);B+=2;var W=y.readUint(b,B);B+=4;var L=y.readUint(b,B);B+=4;var Y=[];if(Q!=1&&Q!=7||(Y=new Uint8Array(b.buffer,W<5?B-4:L,W)),Q==2){var O=W<5?B-4:L,D=b[O],re=Math.max(0,Math.min(W-1,b.length-O));D<128||re==0?Y.push(y.readASCII(b,O,re)):Y=new Uint8Array(b.buffer,O,re)}if(Q==3)for(var ae=0;ae<W;ae++)Y.push(y.readUshort(b,(W<3?B-4:L)+2*ae));if(Q==4||Q==13)for(ae=0;ae<W;ae++)Y.push(y.readUint(b,(W<2?B-4:L)+4*ae));if(Q==5||Q==10){var he=Q==5?y.readUint:y.readInt;for(ae=0;ae<W;ae++)Y.push([he(b,L+8*ae),he(b,L+8*ae+4)])}if(Q==8)for(ae=0;ae<W;ae++)Y.push(y.readShort(b,(W<3?B-4:L)+2*ae));if(Q==9)for(ae=0;ae<W;ae++)Y.push(y.readInt(b,(W<2?B-4:L)+4*ae));if(Q==11)for(ae=0;ae<W;ae++)Y.push(y.readFloat(b,L+4*ae));if(Q==12)for(ae=0;ae<W;ae++)Y.push(y.readDouble(b,L+8*ae));if(W==0||Y.length!=0){if(T.debug&&u("   ".repeat(R),V,Q,o.tags[V],Y),k["t"+V]=Y,!(V==330&&k.t272&&k.t272[0]=="DSLR-A100")){if(V==330||V==34665||V==34853||V==50740&&y.readUshort(b,y.readUint(Y,0))<300||V==61440){var v=V==50740?[y.readUint(Y,0)]:Y,A=[];for(ae=0;ae<v.length;ae++)o._readIFD(y,b,v[ae],A,R+1,T);V==330&&(k.subIFD=A),V==34665&&(k.exifIFD=A[0]),V==34853&&(k.gpsiIFD=A[0]),V==50740&&(k.dngPrvt=A[0]),V==61440&&(k.fujiIFD=A[0])}}if(V==37500&&T.parseMN){var P=Y;if(y.readASCII(P,0,5)=="Nikon")k.makerNote=o.decode(P.slice(10).buffer)[0];else if(y.readUshort(b,L)<300&&y.readUshort(b,L+4)<=12){var X=[];o._readIFD(y,b,L,X,R+1,T),k.makerNote=X[0]}}}else if(u(V,"unknown TIFF tag type: ",Q,"num:",W),te==0)return}return H.push(k),T.debug&&u("   ".repeat(R),"<<<---------------"),B},o._writeIFD=function(y,b,B,H,R){var T=Object.keys(R),C=T.length;R.exifIFD&&C--,R.gpsiIFD&&C--,y.writeUshort(B,H,C);for(var k=(H+=2)+12*C+4,te=0;te<T.length;te++){var V=T[te];if(V!="t34665"&&V!="t34853"){V=="exifIFD"&&(V="t34665"),V=="gpsiIFD"&&(V="t34853");var Q=parseInt(V.slice(1)),W=b.main[Q];if(W==null&&(W=b.rest[Q]),W==null||W==0)throw new Error("unknown type of tag: "+Q);var L=R[V];Q==34665&&(L=[k],k=o._writeIFD(y,b,B,k,R.exifIFD)[1]),Q==34853&&(L=[k],k=o._writeIFD(y,o._types.gps,B,k,R.gpsiIFD)[1]),W==2&&(L=L[0]+"\0");var Y=L.length;y.writeUshort(B,H,Q),H+=2,y.writeUshort(B,H,W),H+=2,y.writeUint(B,H,Y);var O=[-1,1,1,2,4,8,0,1,0,4,8,0,8][W]*Y,D=H+=4;if(O>4&&(y.writeUint(B,H,k),D=k),W==1||W==7)for(var re=0;re<Y;re++)B[D+re]=L[re];else if(W==2)y.writeASCII(B,D,L);else if(W==3)for(re=0;re<Y;re++)y.writeUshort(B,D+2*re,L[re]);else if(W==4)for(re=0;re<Y;re++)y.writeUint(B,D+4*re,L[re]);else if(W==5||W==10){var ae=W==5?y.writeUint:y.writeInt;for(re=0;re<Y;re++){var he=L[re],v=he[0],A=he[1];if(v==null)throw"e";ae(B,D+8*re,v),ae(B,D+8*re+4,A)}}else if(W==9)for(re=0;re<Y;re++)y.writeInt(B,D+4*re,L[re]);else{if(W!=12)throw W;for(re=0;re<Y;re++)y.writeDouble(B,D+8*re,L[re])}O>4&&(k+=O+=1&O),H+=4}}return[H,k]},o.toRGBA8=function(y,b){var B=y.width,H=y.height,R=B*H,T=4*R,C=y.data,k=new Uint8Array(4*R),te=y.t262?y.t262[0]:2,V=y.t258?Math.min(32,y.t258[0]):1;if(y.t262==null&&V==1&&(te=0),te==0)for(var Q=Math.ceil(V*B/8),W=0;W<H;W++){var L=W*Q,Y=W*B;if(V==1)for(var O=0;O<B;O++){var D=Y+O<<2,re=C[L+(O>>3)]>>7-(7&O)&1;k[D]=k[D+1]=k[D+2]=255*(1-re),k[D+3]=255}if(V==4)for(O=0;O<B;O++)D=Y+O<<2,re=C[L+(O>>1)]>>4-4*(1&O)&15,k[D]=k[D+1]=k[D+2]=17*(15-re),k[D+3]=255;if(V==8)for(O=0;O<B;O++)D=Y+O<<2,re=C[L+O],k[D]=k[D+1]=k[D+2]=255-re,k[D+3]=255}else if(te==1){var ae=y.t258?y.t258.length:1;for(Q=Math.ceil(ae*V*B/8),b==null&&(b=.00390625),W=0;W<H;W++){if(L=W*Q,Y=W*B,V==1)for(O=0;O<B;O++)D=Y+O<<2,re=C[L+(O>>3)]>>7-(7&O)&1,k[D]=k[D+1]=k[D+2]=255*re,k[D+3]=255;if(V==2)for(O=0;O<B;O++)D=Y+O<<2,re=C[L+(O>>2)]>>6-2*(3&O)&3,k[D]=k[D+1]=k[D+2]=85*re,k[D+3]=255;if(V==8)for(O=0;O<B;O++)D=Y+O<<2,re=C[L+O*ae],k[D]=k[D+1]=k[D+2]=re,k[D+3]=255;if(V==16)for(O=0;O<B;O++){D=Y+O<<2;var he=L+2*O;re=C[he+1]<<8|C[he],k[D]=k[D+1]=k[D+2]=Math.min(255,~~(re*b)),k[D+3]=255}}}else if(te==2)if(ae=y.t258?y.t258.length:3,V==8){if(ae==4)for(O=0;O<T;O++)k[O]=C[O];if(ae==3)for(O=0;O<R;O++){var v=3*O;k[D=O<<2]=C[v],k[D+1]=C[v+1],k[D+2]=C[v+2],k[D+3]=255}}else if(V==16){if(ae==4)for(O=0;O<R;O++)v=8*O+1,k[D=O<<2]=C[v],k[D+1]=C[v+2],k[D+2]=C[v+4],k[D+3]=C[v+6];if(ae==3)for(O=0;O<R;O++)v=6*O+1,k[D=O<<2]=C[v],k[D+1]=C[v+2],k[D+2]=C[v+4],k[D+3]=255}else{if(V!=32)throw V;if(!k.isLE)for(O=0;O<C.length;O+=4){var A=C[O];C[O]=C[O+3],C[O+3]=A,A=C[O+1],C[O+1]=C[O+2],C[O+2]=A}var P=new Float32Array(C.buffer);if(ae!=3)throw ae;for(O=0;O<R;O++)v=3*O,k[D=O<<2]=~~(.5+255*P[v]),k[D+1]=~~(.5+255*P[v+1]),k[D+2]=~~(.5+255*P[v+2]),k[D+3]=255}else if(te==3){var X=y.t320,s=(ae=y.t258?y.t258.length:1,Q=Math.ceil(ae*V*B/8),1<<V);for(W=0;W<H;W++)for(var h=0;h<B;h++){D=(O=W*B+h)<<2;var g=0,U=W*Q;if(V==1)g=C[U+(h>>>3)]>>>7-(7&h)&1;else if(V==2)g=C[U+(h>>>2)]>>>6-2*(3&h)&3;else if(V==4)g=C[U+(h>>>1)]>>>4-4*(1&h)&15;else{if(V!=8)throw V;g=C[U+h*ae]}k[D]=X[g]>>8,k[D+1]=X[s+g]>>8,k[D+2]=X[s+s+g]>>8,k[D+3]=255}}else if(te==5){var K=(ae=y.t258?y.t258.length:4)>4?1:0;for(O=0;O<R;O++){D=O<<2;var E=O*ae;if(UDOC){var J=C[E],oe=C[E+1],Z=C[E+2],de=C[E+3],ge=UDOC.C.cmykToRgb([J*(1/255),oe*(1/255),Z*(1/255),de*(1/255)]);k[D]=~~(.5+255*ge[0]),k[D+1]=~~(.5+255*ge[1]),k[D+2]=~~(.5+255*ge[2])}else J=255-C[E],oe=255-C[E+1],Z=255-C[E+2],de=(255-C[E+3])*.00392156862745098,k[D]=~~(J*de+.5),k[D+1]=~~(oe*de+.5),k[D+2]=~~(Z*de+.5);k[D+3]=255*(1-K)+C[E+4]*K}}else if(te==6&&y.t278){var xe=y.t278[0];for(W=0;W<H;W+=xe){O=W*B;for(var we=xe*B,ne=0;ne<we;ne++){D=4*(O+ne),Z=C[(E=3*O+4*(ne>>>1))+(1&ne)];var fe=C[E+2]-128,be=C[E+3]-128,Se=Z+((be>>2)+(be>>3)+(be>>5)),me=Z-((fe>>2)+(fe>>4)+(fe>>5))-((be>>1)+(be>>3)+(be>>4)+(be>>5)),Me=Z+(fe+(fe>>1)+(fe>>2)+(fe>>6));k[D]=Math.max(0,Math.min(255,Se)),k[D+1]=Math.max(0,Math.min(255,me)),k[D+2]=Math.max(0,Math.min(255,Me)),k[D+3]=255}}}else if(te==32845){let $=function(ce){return ce<.0031308?12.92*ce:1.055*Math.pow(ce,.4166666666666667)-.055};for(W=0;W<H;W++)for(h=0;h<B;h++){D=4*(W*B+h);var ke=C[1+(E=6*(W*B+h))]<<8|C[E],Re=(ke=Math.pow(2,(ke+.5)/256-64),(C[E+3]+.5)/410),Ce=(C[E+5]+.5)/410,Ne=9*Re/(6*Re-16*Ce+12),qe=4*Ce/(6*Re-16*Ce+12),F=Ne*ke/qe,ye=(1-Ne-qe)*ke/qe;Se=2.69*F-1.276*(Z=ke)-.414*ye,me=-1.022*F+1.978*Z+.044*ye,Me=.061*F-.224*Z+1.163*ye,k[D]=255*$(Math.min(Se,1)),k[D+1]=255*$(Math.min(me,1)),k[D+2]=255*$(Math.min(Me,1)),k[D+3]=255}}else u("Unknown Photometric interpretation: "+te);return k},o.replaceIMG=function(y){y==null&&(y=document.getElementsByTagName("img"));for(var b=["tif","tiff","dng","cr2","nef"],B=0;B<y.length;B++){var H=y[B],R=H.getAttribute("src");if(R!=null){var T=R.split(".").pop().toLowerCase();if(b.indexOf(T)!=-1){var C=new XMLHttpRequest;o._xhrs.push(C),o._imgs.push(H),C.open("GET",R),C.responseType="arraybuffer",C.onload=o._imgLoaded,C.send()}}}},o._xhrs=[],o._imgs=[],o._imgLoaded=function(y){var b=o._xhrs.indexOf(y.target),B=o._imgs[b];o._xhrs.splice(b,1),o._imgs.splice(b,1),B.setAttribute("src",o.bufferToURI(y.target.response))},o.bufferToURI=function(y){var b=o.decode(y),B=b,H=0,R=B[0];b[0].subIFD&&(B=B.concat(b[0].subIFD));for(var T=0;T<B.length;T++){var C=B[T];if(!(C.t258==null||C.t258.length<3)){var k=C.t256*C.t257;k>H&&(H=k,R=C)}}o.decodeImage(y,R,b);var te=o.toRGBA8(R),V=R.width,Q=R.height,W=document.createElement("canvas");W.width=V,W.height=Q;var L=W.getContext("2d"),Y=new ImageData(new Uint8ClampedArray(te.buffer),V,Q);return L.putImageData(Y,0,0),W.toDataURL()},o._binBE={nextZero:function(y,b){for(;y[b]!=0;)b++;return b},readUshort:function(y,b){return y[b]<<8|y[b+1]},readShort:function(y,b){var B=o._binBE.ui8;return B[0]=y[b+1],B[1]=y[b+0],o._binBE.i16[0]},readInt:function(y,b){var B=o._binBE.ui8;return B[0]=y[b+3],B[1]=y[b+2],B[2]=y[b+1],B[3]=y[b+0],o._binBE.i32[0]},readUint:function(y,b){var B=o._binBE.ui8;return B[0]=y[b+3],B[1]=y[b+2],B[2]=y[b+1],B[3]=y[b+0],o._binBE.ui32[0]},readASCII:function(y,b,B){for(var H="",R=0;R<B;R++)H+=String.fromCharCode(y[b+R]);return H},readFloat:function(y,b){for(var B=o._binBE.ui8,H=0;H<4;H++)B[H]=y[b+3-H];return o._binBE.fl32[0]},readDouble:function(y,b){for(var B=o._binBE.ui8,H=0;H<8;H++)B[H]=y[b+7-H];return o._binBE.fl64[0]},writeUshort:function(y,b,B){y[b]=B>>8&255,y[b+1]=255&B},writeInt:function(y,b,B){var H=o._binBE.ui8;o._binBE.i32[0]=B,y[b+3]=H[0],y[b+2]=H[1],y[b+1]=H[2],y[b+0]=H[3]},writeUint:function(y,b,B){y[b]=B>>24&255,y[b+1]=B>>16&255,y[b+2]=B>>8&255,y[b+3]=B>>0&255},writeASCII:function(y,b,B){for(var H=0;H<B.length;H++)y[b+H]=B.charCodeAt(H)},writeDouble:function(y,b,B){o._binBE.fl64[0]=B;for(var H=0;H<8;H++)y[b+H]=o._binBE.ui8[7-H]}},o._binBE.ui8=new Uint8Array(8),o._binBE.i16=new Int16Array(o._binBE.ui8.buffer),o._binBE.i32=new Int32Array(o._binBE.ui8.buffer),o._binBE.ui32=new Uint32Array(o._binBE.ui8.buffer),o._binBE.fl32=new Float32Array(o._binBE.ui8.buffer),o._binBE.fl64=new Float64Array(o._binBE.ui8.buffer),o._binLE={nextZero:o._binBE.nextZero,readUshort:function(y,b){return y[b+1]<<8|y[b]},readShort:function(y,b){var B=o._binBE.ui8;return B[0]=y[b+0],B[1]=y[b+1],o._binBE.i16[0]},readInt:function(y,b){var B=o._binBE.ui8;return B[0]=y[b+0],B[1]=y[b+1],B[2]=y[b+2],B[3]=y[b+3],o._binBE.i32[0]},readUint:function(y,b){var B=o._binBE.ui8;return B[0]=y[b+0],B[1]=y[b+1],B[2]=y[b+2],B[3]=y[b+3],o._binBE.ui32[0]},readASCII:o._binBE.readASCII,readFloat:function(y,b){for(var B=o._binBE.ui8,H=0;H<4;H++)B[H]=y[b+H];return o._binBE.fl32[0]},readDouble:function(y,b){for(var B=o._binBE.ui8,H=0;H<8;H++)B[H]=y[b+H];return o._binBE.fl64[0]},writeUshort:function(y,b,B){y[b]=255&B,y[b+1]=B>>8&255},writeInt:function(y,b,B){var H=o._binBE.ui8;o._binBE.i32[0]=B,y[b+0]=H[0],y[b+1]=H[1],y[b+2]=H[2],y[b+3]=H[3]},writeUint:function(y,b,B){y[b]=B>>>0&255,y[b+1]=B>>>8&255,y[b+2]=B>>>16&255,y[b+3]=B>>>24&255},writeASCII:o._binBE.writeASCII},o._copyTile=function(y,b,B,H,R,T,C,k){for(var te=Math.min(b,R-C),V=Math.min(B,T-k),Q=0;Q<V;Q++)for(var W=(k+Q)*R+C,L=Q*b,Y=0;Y<te;Y++)H[W+Y]=y[L+Y]},o.LosslessJpegDecode=function(){var y,b;function B(){return y[b++]}function H(){return y[b++]<<8|y[b++]}function R(O){for(var D=B(),re=[0,0,0,255],ae=[],he=0;he<16;he++)ae[he]=B();for(he=0;he<16;he++)for(var v=0;v<ae[he];v++)re[T(re,0,he+1,1)+3]=B();var A=new Uint8Array(256);for(O[D]=[new Uint8Array(re),A],he=0;he<256;he++){for(var P=8,X=he,s=0;re[s+3]==255&&P!=0;)s=re[s+(X>>--P&1)];A[he]=s}}function T(O,D,re,ae){if(O[D+3]!=255)return 0;if(re==0)return D;for(var he=0;he<2;he++){O[D+he]==0&&(O[D+he]=O.length,O.push(0,0,ae,255));var v=T(O,O[D+he],re-1,ae+1);if(v!=0)return v}return 0}function C(O){for(var D=O.b,re=O.a;D<25&&O.e<O.d;){var ae=O.data[O.e++];O.c||(O.e+=ae+1>>>8),re=re<<8|ae,D+=8}if(D<0)throw"e";O.b=D,O.a=re}function k(O,D){return D.b<O&&C(D),D.a>>(D.b-=O)&65535>>16-O}function te(O,D){var re=O[0],ae=0,he=255;D.b<16&&C(D);var v=D.a>>D.b-8&255;for(he=re[(ae=O[1][v])+3],D.b-=re[ae+2];he==255;)he=re[(ae=re[ae+(D.a>>--D.b&1)])+3];return he}function V(O,D){return O<32768>>16-D&&(O+=1-(1<<D)),O}function Q(O,D){var re=te(O,D);return re==0?0:re==16?-32768:V(k(re,D),re)}function W(O,D,re,ae,he,v){for(var A=0;A<v;A++)for(var P=A*D,X=0;X<D;X+=he)for(var s=0;s<he;s++)O[P+X+s]=Q(ae[s],re)}function L(O,D){return V(k(O,D),O)}function Y(O,D,re,ae,he,v,A,P){for(var X=re*A,s=he;s<v;s++)O[s]+=1<<P-1;for(var h=A;h<X;h+=A)for(s=he;s<v;s++)O[h+s]+=O[h+s-A];for(var g=1;g<ae;g++){var U=g*X;for(s=he;s<v;s++)O[U+s]+=O[U+s-X];for(h=A;h<X;h+=A)for(s=he;s<v;s++){var K=U+h+s,E=K-X,J=O[K-A],oe=0;if(D==0)oe=0;else if(D==1)oe=J;else if(D==2)oe=O[E];else if(D==3)oe=O[E-A];else if(D==4)oe=J+(O[E]-O[E-A]);else if(D==5)oe=J+(O[E]-O[E-A]>>>1);else if(D==6)oe=O[E]+(J-O[E-A]>>>1);else{if(D!=7)throw D;oe=J+O[E]>>>1}O[K]+=oe}}}return function(O){if(y=O,b=0,H()!=65496)throw"e";for(var D=[],re=0,ae=0,he=[],v=[],A=[],P=0,X=0,s=0;;){var h=H();if(h!=65535){var g=H();if(h==65475){ae=B(),X=H(),s=H(),P=B();for(var U=0;U<P;U++){var K=B(),E=B();if(B()!=0)throw"e";D[K]=[U,E>>4,15&E]}}else if(h==65476)for(var J=b+g-2;b<J;)R(v);else{if(h==65498){for(b++,U=0;U<P;U++){var oe=D[B()];A[oe[0]]=v[B()>>>4],he[oe[0]]=oe.slice(1)}re=B(),b+=2;break}b+=g-2}}else b--}var Z=new(ae>8?Uint16Array:Uint8Array)(X*s*P),de={b:0,a:0,c:re==8,e:b,data:y,d:y.length};if(de.c)(function(ce,De,Pe,Ye,Te){for(var ze=y.length-b,Be=0;Be<ze;Be+=4){var Ee=y[b+Be];y[b+Be]=y[b+Be+3],y[b+Be+3]=Ee,Ee=y[b+Be+1],y[b+Be+1]=y[b+Be+2],y[b+Be+2]=Ee}for(var He=0;He<Te;He++)for(var We=32768,je=32768,Xe=0;Xe<De;Xe+=2){var ft=te(Ye,Pe),Je=te(Ye,Pe);ft!=0&&(We+=L(ft,Pe)),Je!=0&&(je+=L(Je,Pe)),ce[He*De+Xe]=65535&We,ce[He*De+Xe+1]=65535&je}})(Z,s*P,de,A[0],X);else{var ge=[],xe=0,we=0;for(U=0;U<P;U++){var ne=he[U];(Ce=ne[0])>xe&&(xe=Ce),(Re=ne[1])>we&&(we=Re),ge.push(Ce*Re)}if(xe!=1||we!=1){var fe=[],be=0;for(U=0;U<P;U++){for(var Se=0;Se<ge[U];Se++)fe.push(A[U]);be+=ge[U]}var me=s/xe,Me=X/we;W(Z,me*be,de,fe,be,Me),Y(Z,re,me,Me,be-2,be,be,ae);for(var ke=Z.slice(0),Re=0;Re<X;Re++)for(var Ce=0;Ce<s;Ce++){var Ne=(Re*s+Ce)*P,qe=~~(Re/we)*me+~~(Ce/xe),F=0;for(U=0;U<P;U++){var ye=1&Ce,$=qe*be+F+(U==0?we==1?ye:2*ye+(1&Re):0);Z[Ne+U]=ke[$],F+=ge[U]}}Y(Z,re,s,X,0,1,P,ae)}else W(Z,s*P,de,A,P,X),Y(Z,re,s,X,0,P,P,ae)}return Z}}(),function(){var y=2,b=3,B=4,H=5,R=6,T=7,C=8,k=9,te=10,V=11,Q=12,W=13,L=14,Y=15,O=16,D=17;function re(h){for(var g=[[],[],[]],U=Math.max(2,h.w+32>>>6),K=0;K<3;K++)for(var E=0;E<41;E++)g[K][E]=[U,1];return g}function ae(h,g){var U=0,K=8-h.a;if(h.j,h.a,g){if(g>=K)do U<<=K,g-=K,U|=h[h.j]&(1<<K)-1,h.j++,K=8;while(g>=8);g&&(U<<=g,K-=g,U|=h[h.j]>>>K&(1<<g)-1),h.a=8-K}return U}function he(h,g,U,K,E,J,oe,Z){Z==null&&(Z=0);var de,ge,xe,we,ne,fe,be=J+1,Se=be%2,me=0,Me=K[E],ke=K[E-1],Re=K[E-2][be],Ce=ke[be-1],Ne=ke[be],qe=ke[be+1],F=Me[be-1],ye=Me[be+1],$=Math.abs;if(Se&&(xe=$(qe-Ne),we=$(Re-Ne),ne=$(Ce-Ne)),Se){if(fe=(fe=xe>ne&&we<xe?Re+Ce:xe<ne&&we<ne?Re+qe:qe+Ce)+2*Ne>>>2,Z)return void(Me[be]=fe);de=g.t*g.c[h.g+Ne-Re]+g.c[h.g+Ce-Ne]}else fe=Ne>Ce&&Ne>qe||Ne<Ce&&Ne<qe?ye+F+2*Ne>>>2:F+ye>>>1,de=g.t*g.c[h.g+Ne-Ce]+g.c[h.g+Ce-F];ge=$(de);var ce=function(Pe){for(var Ye=-1,Te=0;!Te;Ye++)Te=Pe[Pe.j]>>>7-Pe.a&1,Pe.a++,Pe.a&=7,Pe.a||Pe.j++;return Ye}(U);if(ce<h.n-g.v-1){var De=function(Pe,Ye){var Te=0;if(Ye<Pe)for(;Te<=14&&Ye<<++Te<Pe;);return Te}(oe[ge][0],oe[ge][1]);me=ae(U,De)+(ce<<De)}else me=ae(U,g.v)+1;me=1&me?-1-(me>>>1):me>>>1,oe[ge][0]+=$(me),oe[ge][1]==h.f&&(oe[ge][0]>>>=1,oe[ge][1]>>>=1),oe[ge][1]++,fe=de<0?fe-me:fe+me,h.i&&(fe<0?fe+=g.w:fe>h.g&&(fe-=g.w)),Me[be]=fe>=0?Math.min(fe,h.g):0}function v(h,g,U){for(var K=h[0].length,E=g;E<=U;E++)h[E][0]=h[E-1][1],h[E][K-1]=h[E-1][K-2]}function A(h){v(h,T,Q),v(h,y,B),v(h,Y,D)}function P(h,g,U,K,E,J,oe,Z,de,ge,xe,we,ne){for(var fe=0,be=1,Se=E<W&&E>B;be<h.m;)fe<h.m&&(he(h,g,U,K,E,fe,oe[de],h.h&&(Se&&ge||!Se&&(xe||(fe&we)==ne))),he(h,g,U,K,J,fe,oe[de],h.h&&(!Se&&ge||Se&&(xe||(fe&we)==ne))),fe+=2),fe>8&&(he(h,g,U,K,E,be,Z[de]),he(h,g,U,K,J,be,Z[de]),be+=2);A(K)}function X(h,g,U,K,E,J){P(h,g,U,K,y,T,E,J,0,0,1,0,8),P(h,g,U,K,C,Y,E,J,1,0,1,0,8),P(h,g,U,K,b,k,E,J,2,1,0,3,0),P(h,g,U,K,te,O,E,J,0,0,0,3,2),P(h,g,U,K,B,V,E,J,1,0,0,3,2),P(h,g,U,K,Q,D,E,J,2,1,0,3,0)}function s(h,g,U,K,E,J){var oe=J.length,Z=h.l;E+1==h.s&&(Z=h.e-E*h.l);for(var de=6*h.e*K+E*h.l,ge=0;ge<6;ge++){for(var xe=0;xe<Z;xe++){var we,ne=J[ge%oe][xe%oe];we=ne==0?y+(ge>>>1):ne==2?Y+(ge>>>1):T+ge;var fe=h.h?(2*xe/3&2147483646|xe%3&1)+(xe%3>>>1):xe>>>1;g[de+xe]=U[we][fe+1]}de+=h.e}}o._decompressRAF=function(h,g){var U=function(be){var Se=o._binBE.readUshort,me={b:Se(be,0),i:be[2],C:be[3],u:be[4],q:Se(be,5),k:Se(be,7),e:Se(be,9),l:Se(be,11),s:be[13],d:Se(be,14)};if(me.b!=18771||me.i>1||me.q<6||me.q%6||me.e<768||me.e%24||me.l!=768||me.k<me.l||me.k%me.l||me.k-me.e>=me.l||me.s>16||me.s!=me.k/me.l||me.s!=Math.ceil(me.e/me.l)||me.d!=me.q/6||me.u!=12&&me.u!=14&&me.u!=16||me.C!=16&&me.C!=0)throw"Invalid data";if(me.i==0)throw"Not implemented. We need this file!";return me.h=me.C==16,me.m=0|(me.h?2*me.l/3:me.l>>>1),me.A=me.m+2,me.f=64,me.g=(1<<me.u)-1,me.n=4*me.u,me}(h),K=function(be,Se){var me=new Array(Se.s),Me=4*Se.s,ke=16+Me;12&Me&&(ke+=16-(12&Me));for(var Re=0,Ce=16;Re<Se.s;Ce+=4){var Ne=o._binBE.readUint(be,Ce);me[Re]=be.slice(ke,ke+Ne),me[Re].j=0,me[Re].a=0,ke+=Ne,Re++}if(ke!=be.length)throw"Invalid data";return me}(h,U),E=function(be){var Se={c:new Int8Array(2<<be.u)};return function(me,Me,ke){var Re=[0,18,67,276,ke];me.o=0,me.w=(Re[4]+0)/1+1|0,me.v=Math.ceil(Math.log2(me.w)),me.t=9,function(Ce,Ne){for(var qe=-Ne[4],F=0;qe<=Ne[4];F++,qe++)Ce[F]=qe<=-Ne[3]?-4:qe<=-Ne[2]?-3:qe<=-Ne[1]?-2:qe<-Ne[0]?-1:qe<=Ne[0]?0:qe<Ne[1]?1:qe<Ne[2]?2:qe<Ne[3]?3:4}(me.c,Re)}(Se,0,be.g),Se}(U),J=new Int16Array(U.e*U.q);g==null&&(g=U.h?[[1,1,0,1,1,2],[1,1,2,1,1,0],[2,0,1,0,2,1],[1,1,2,1,1,0],[1,1,0,1,1,2],[0,2,1,2,0,1]]:[[0,1],[3,2]]);for(var oe=[[0,b],[1,B],[H,V],[R,Q],[W,O],[L,D]],Z=[],de=0;de<18;de++)Z[de]=new Uint16Array(U.A);for(var ge=0;ge<U.s;ge++){var xe=re(E),we=re(E);for(de=0;de<18;de++)for(var ne=0;ne<U.A;ne++)Z[de][ne]=0;for(var fe=0;fe<U.d;fe++){for(X(U,E,K[ge],Z,xe,we),de=0;de<6;de++)for(ne=0;ne<U.A;ne++)Z[oe[de][0]][ne]=Z[oe[de][1]][ne];for(s(U,J,Z,fe,ge,g),de=y;de<18;de++)if([H,R,W,L].indexOf(de)==-1)for(ne=0;ne<U.A;ne++)Z[de][ne]=0;A(Z)}}return J}}()}(_,j(2845))})()},6168:(_e,ie,j)=>{j.r(ie),j.d(ie,{DOMException:()=>G,Headers:()=>t,Request:()=>p,Response:()=>I,fetch:()=>z});var l=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||l!==void 0&&l,_={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};if(_.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(y){return y&&u.indexOf(Object.prototype.toString.call(y))>-1};function e(y){if(typeof y!="string"&&(y=String(y)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(y)||y==="")throw new TypeError('Invalid character in header field name: "'+y+'"');return y.toLowerCase()}function n(y){return typeof y!="string"&&(y=String(y)),y}function r(y){var b={next:function(){var B=y.shift();return{done:B===void 0,value:B}}};return _.iterable&&(b[Symbol.iterator]=function(){return b}),b}function t(y){this.map={},y instanceof t?y.forEach(function(b,B){this.append(B,b)},this):Array.isArray(y)?y.forEach(function(b){this.append(b[0],b[1])},this):y&&Object.getOwnPropertyNames(y).forEach(function(b){this.append(b,y[b])},this)}function i(y){if(y.bodyUsed)return Promise.reject(new TypeError("Already read"));y.bodyUsed=!0}function f(y){return new Promise(function(b,B){y.onload=function(){b(y.result)},y.onerror=function(){B(y.error)}})}function d(y){var b=new FileReader,B=f(b);return b.readAsArrayBuffer(y),B}function m(y){if(y.slice)return y.slice(0);var b=new Uint8Array(y.byteLength);return b.set(new Uint8Array(y)),b.buffer}function a(){return this.bodyUsed=!1,this._initBody=function(y){var b;this.bodyUsed=this.bodyUsed,this._bodyInit=y,y?typeof y=="string"?this._bodyText=y:_.blob&&Blob.prototype.isPrototypeOf(y)?this._bodyBlob=y:_.formData&&FormData.prototype.isPrototypeOf(y)?this._bodyFormData=y:_.searchParams&&URLSearchParams.prototype.isPrototypeOf(y)?this._bodyText=y.toString():_.arrayBuffer&&_.blob&&(b=y)&&DataView.prototype.isPrototypeOf(b)?(this._bodyArrayBuffer=m(y.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):_.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(y)||o(y))?this._bodyArrayBuffer=m(y):this._bodyText=y=Object.prototype.toString.call(y):this._bodyText="",this.headers.get("content-type")||(typeof y=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):_.searchParams&&URLSearchParams.prototype.isPrototypeOf(y)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},_.blob&&(this.blob=function(){var y=i(this);if(y)return y;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(d)}),this.text=function(){var y,b,B,H=i(this);if(H)return H;if(this._bodyBlob)return y=this._bodyBlob,B=f(b=new FileReader),b.readAsText(y),B;if(this._bodyArrayBuffer)return Promise.resolve(function(R){for(var T=new Uint8Array(R),C=new Array(T.length),k=0;k<T.length;k++)C[k]=String.fromCharCode(T[k]);return C.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},_.formData&&(this.formData=function(){return this.text().then(M)}),this.json=function(){return this.text().then(JSON.parse)},this}t.prototype.append=function(y,b){y=e(y),b=n(b);var B=this.map[y];this.map[y]=B?B+", "+b:b},t.prototype.delete=function(y){delete this.map[e(y)]},t.prototype.get=function(y){return y=e(y),this.has(y)?this.map[y]:null},t.prototype.has=function(y){return this.map.hasOwnProperty(e(y))},t.prototype.set=function(y,b){this.map[e(y)]=n(b)},t.prototype.forEach=function(y,b){for(var B in this.map)this.map.hasOwnProperty(B)&&y.call(b,this.map[B],B,this)},t.prototype.keys=function(){var y=[];return this.forEach(function(b,B){y.push(B)}),r(y)},t.prototype.values=function(){var y=[];return this.forEach(function(b){y.push(b)}),r(y)},t.prototype.entries=function(){var y=[];return this.forEach(function(b,B){y.push([B,b])}),r(y)},_.iterable&&(t.prototype[Symbol.iterator]=t.prototype.entries);var c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function p(y,b){if(!(this instanceof p))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var B,H,R=(b=b||{}).body;if(y instanceof p){if(y.bodyUsed)throw new TypeError("Already read");this.url=y.url,this.credentials=y.credentials,b.headers||(this.headers=new t(y.headers)),this.method=y.method,this.mode=y.mode,this.signal=y.signal,R||y._bodyInit==null||(R=y._bodyInit,y.bodyUsed=!0)}else this.url=String(y);if(this.credentials=b.credentials||this.credentials||"same-origin",!b.headers&&this.headers||(this.headers=new t(b.headers)),this.method=(H=(B=b.method||this.method||"GET").toUpperCase(),c.indexOf(H)>-1?H:B),this.mode=b.mode||this.mode||null,this.signal=b.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&R)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(R),!(this.method!=="GET"&&this.method!=="HEAD"||b.cache!=="no-store"&&b.cache!=="no-cache")){var T=/([?&])_=[^&]*/;T.test(this.url)?this.url=this.url.replace(T,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function M(y){var b=new FormData;return y.trim().split("&").forEach(function(B){if(B){var H=B.split("="),R=H.shift().replace(/\+/g," "),T=H.join("=").replace(/\+/g," ");b.append(decodeURIComponent(R),decodeURIComponent(T))}}),b}function I(y,b){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');b||(b={}),this.type="default",this.status=b.status===void 0?200:b.status,this.ok=this.status>=200&&this.status<300,this.statusText=b.statusText===void 0?"":""+b.statusText,this.headers=new t(b.headers),this.url=b.url||"",this._initBody(y)}p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},a.call(p.prototype),a.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new t(this.headers),url:this.url})},I.error=function(){var y=new I(null,{status:0,statusText:""});return y.type="error",y};var S=[301,302,303,307,308];I.redirect=function(y,b){if(S.indexOf(b)===-1)throw new RangeError("Invalid status code");return new I(null,{status:b,headers:{location:y}})};var G=l.DOMException;try{new G}catch{(G=function(b,B){this.message=b,this.name=B;var H=Error(b);this.stack=H.stack}).prototype=Object.create(Error.prototype),G.prototype.constructor=G}function z(y,b){return new Promise(function(B,H){var R=new p(y,b);if(R.signal&&R.signal.aborted)return H(new G("Aborted","AbortError"));var T=new XMLHttpRequest;function C(){T.abort()}T.onload=function(){var k,te,V={status:T.status,statusText:T.statusText,headers:(k=T.getAllResponseHeaders()||"",te=new t,k.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(W){return W.indexOf(`
`)===0?W.substr(1,W.length):W}).forEach(function(W){var L=W.split(":"),Y=L.shift().trim();if(Y){var O=L.join(":").trim();te.append(Y,O)}}),te)};V.url="responseURL"in T?T.responseURL:V.headers.get("X-Request-URL");var Q="response"in T?T.response:T.responseText;setTimeout(function(){B(new I(Q,V))},0)},T.onerror=function(){setTimeout(function(){H(new TypeError("Network request failed"))},0)},T.ontimeout=function(){setTimeout(function(){H(new TypeError("Network request failed"))},0)},T.onabort=function(){setTimeout(function(){H(new G("Aborted","AbortError"))},0)},T.open(R.method,function(k){try{return k===""&&l.location.href?l.location.href:k}catch{return k}}(R.url),!0),R.credentials==="include"?T.withCredentials=!0:R.credentials==="omit"&&(T.withCredentials=!1),"responseType"in T&&(_.blob?T.responseType="blob":_.arrayBuffer&&R.headers.get("Content-Type")&&R.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(T.responseType="arraybuffer")),!b||typeof b.headers!="object"||b.headers instanceof t?R.headers.forEach(function(k,te){T.setRequestHeader(te,k)}):Object.getOwnPropertyNames(b.headers).forEach(function(k){T.setRequestHeader(k,n(b.headers[k]))}),R.signal&&(R.signal.addEventListener("abort",C),T.onreadystatechange=function(){T.readyState===4&&R.signal.removeEventListener("abort",C)}),T.send(R._bodyInit===void 0?null:R._bodyInit)})}z.polyfill=!0,l.fetch||(l.fetch=z,l.Headers=t,l.Request=p,l.Response=I)},6290:(_e,ie,j)=>{var l=j(5048),_=j(9748),u=j(4655),o=j(1960);function e(t,i,f){var d=t;return _(i)?(f=i,typeof t=="string"&&(d={uri:t})):d=o(i,{uri:t}),d.callback=f,d}function n(t,i,f){return r(i=e(t,i,f))}function r(t){if(t.callback===void 0)throw new Error("callback argument missing");var i=!1,f=function(R,T,C){i||(i=!0,t.callback(R,T,C))};function d(){var R=void 0;if(R=M.response?M.response:M.responseText||function(T){try{if(T.responseType==="document")return T.responseXML;var C=T.responseXML&&T.responseXML.documentElement.nodeName==="parsererror";if(T.responseType===""&&!C)return T.responseXML}catch{}return null}(M),B)try{R=JSON.parse(R)}catch{}return R}function m(R){return clearTimeout(I),R instanceof Error||(R=new Error(""+(R||"Unknown XMLHttpRequest Error"))),R.statusCode=0,f(R,H)}function a(){if(!p){var R;clearTimeout(I),R=t.useXDR&&M.status===void 0?200:M.status===1223?204:M.status;var T=H,C=null;return R!==0?(T={body:d(),statusCode:R,method:G,headers:{},url:S,rawRequest:M},M.getAllResponseHeaders&&(T.headers=u(M.getAllResponseHeaders()))):C=new Error("Internal XMLHttpRequest Error"),f(C,T,T.body)}}var c,p,M=t.xhr||null;M||(M=t.cors||t.useXDR?new n.XDomainRequest:new n.XMLHttpRequest);var I,S=M.url=t.uri||t.url,G=M.method=t.method||"GET",z=t.body||t.data,y=M.headers=t.headers||{},b=!!t.sync,B=!1,H={body:void 0,headers:{},statusCode:0,method:G,url:S,rawRequest:M};if("json"in t&&t.json!==!1&&(B=!0,y.accept||y.Accept||(y.Accept="application/json"),G!=="GET"&&G!=="HEAD"&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),z=JSON.stringify(t.json===!0?z:t.json))),M.onreadystatechange=function(){M.readyState===4&&setTimeout(a,0)},M.onload=a,M.onerror=m,M.onprogress=function(){},M.onabort=function(){p=!0},M.ontimeout=m,M.open(G,S,!b,t.username,t.password),b||(M.withCredentials=!!t.withCredentials),!b&&t.timeout>0&&(I=setTimeout(function(){if(!p){p=!0,M.abort("timeout");var R=new Error("XMLHttpRequest timeout");R.code="ETIMEDOUT",m(R)}},t.timeout)),M.setRequestHeader)for(c in y)y.hasOwnProperty(c)&&M.setRequestHeader(c,y[c]);else if(t.headers&&!function(R){for(var T in R)if(R.hasOwnProperty(T))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(M.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(M),M.send(z||null),M}_e.exports=n,_e.exports.default=n,n.XMLHttpRequest=l.XMLHttpRequest||function(){},n.XDomainRequest="withCredentials"in new n.XMLHttpRequest?n.XMLHttpRequest:l.XDomainRequest,function(t,i){for(var f=0;f<t.length;f++)i(t[f])}(["get","put","post","patch","head","delete"],function(t){n[t==="delete"?"del":t]=function(i,f,d){return(f=e(i,f,d)).method=t.toUpperCase(),r(f)}})},1596:_e=>{_e.exports=self.DOMParser!==void 0?function(ie){return new self.DOMParser().parseFromString(ie,"application/xml")}:self.ActiveXObject!==void 0&&new self.ActiveXObject("Microsoft.XMLDOM")?function(ie){var j=new self.ActiveXObject("Microsoft.XMLDOM");return j.async="false",j.loadXML(ie),j}:function(ie){var j=document.createElement("div");return j.innerHTML=ie,j}},1960:_e=>{_e.exports=function(){for(var j={},l=0;l<arguments.length;l++){var _=arguments[l];for(var u in _)ie.call(_,u)&&(j[u]=_[u])}return j};var ie=Object.prototype.hasOwnProperty},8522:()=>{},6777:()=>{},5546:()=>{}},__webpack_module_cache__={};function __webpack_require__(_e){var ie=__webpack_module_cache__[_e];if(ie!==void 0)return ie.exports;var j=__webpack_module_cache__[_e]={exports:{}};return __webpack_modules__[_e].call(j.exports,j,j.exports,__webpack_require__),j.exports}__webpack_require__.n=_e=>{var ie=_e&&_e.__esModule?()=>_e.default:()=>_e;return __webpack_require__.d(ie,{a:ie}),ie},__webpack_require__.d=(_e,ie)=>{for(var j in ie)__webpack_require__.o(ie,j)&&!__webpack_require__.o(_e,j)&&Object.defineProperty(_e,j,{enumerable:!0,get:ie[j]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=(_e,ie)=>Object.prototype.hasOwnProperty.call(_e,ie),__webpack_require__.r=_e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_e,"__esModule",{value:!0})},(()=>{var _e={};__webpack_require__.r(_e),__webpack_require__.d(_e,{AUTO:()=>xe,BLEND_ADD:()=>Ce,BLEND_DARKEN:()=>F,BLEND_DESTINATION_OVER:()=>ke,BLEND_DIFFERENCE:()=>ce,BLEND_EXCLUSION:()=>De,BLEND_HARDLIGHT:()=>$,BLEND_LIGHTEN:()=>ye,BLEND_MULTIPLY:()=>Re,BLEND_OVERLAY:()=>qe,BLEND_SCREEN:()=>Ne,BLEND_SOURCE_OVER:()=>Me,EDGE_CROP:()=>Te,EDGE_EXTEND:()=>Pe,EDGE_WRAP:()=>Ye,HORIZONTAL_ALIGN_CENTER:()=>ne,HORIZONTAL_ALIGN_LEFT:()=>we,HORIZONTAL_ALIGN_RIGHT:()=>fe,VERTICAL_ALIGN_BOTTOM:()=>me,VERTICAL_ALIGN_MIDDLE:()=>Se,VERTICAL_ALIGN_TOP:()=>be});var ie={};__webpack_require__.r(ie),__webpack_require__.d(ie,{add:()=>He,darken:()=>Xe,difference:()=>rt,dstOver:()=>Be,exclusion:()=>st,hardLight:()=>Je,lighten:()=>ft,multiply:()=>Ee,overlay:()=>je,screen:()=>We,srcOver:()=>ze});var j=__webpack_require__(5546),l=__webpack_require__.n(j),_=__webpack_require__(1023),u=__webpack_require__.n(_),o=__webpack_require__(2699),e=__webpack_require__.n(o);function n(w){if(w===void 0)return!1;if(typeof w!="function")throw new TypeError("Callback must be a function");return!0}function r(w,x){if(typeof w=="string"&&(w=new Error(w)),typeof x=="function")return x.call(this,w);throw w}function t(w,x,N,q,ee,se){x=Math.round(x),N=Math.round(N),q=Math.round(q),ee=Math.round(ee);for(let le=N;le<N+ee;le++)for(let ue=x;ue<x+q;ue++){const pe=w.bitmap.width*le+ue<<2;se.call(w,ue,le,pe)}return w}var i=__webpack_require__(236),f=__webpack_require__.n(i),d=__webpack_require__(869),m=__webpack_require__.n(d),a=__webpack_require__(1294),c=__webpack_require__.n(a);function p(w){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},p(w)}var M=/^\s+/,I=/\s+$/;function S(w,x){if(x=x||{},(w=w||"")instanceof S)return w;if(!(this instanceof S))return new S(w,x);var N=function(q){var ee,se,le,ue={r:0,g:0,b:0},pe=1,ve=null,Ie=null,Ae=null,Fe=!1,Ue=!1;return typeof q=="string"&&(q=function(Le){Le=Le.replace(M,"").replace(I,"").toLowerCase();var Oe,Ge=!1;if(O[Le])Le=O[Le],Ge=!0;else if(Le=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(Oe=K.rgb.exec(Le))?{r:Oe[1],g:Oe[2],b:Oe[3]}:(Oe=K.rgba.exec(Le))?{r:Oe[1],g:Oe[2],b:Oe[3],a:Oe[4]}:(Oe=K.hsl.exec(Le))?{h:Oe[1],s:Oe[2],l:Oe[3]}:(Oe=K.hsla.exec(Le))?{h:Oe[1],s:Oe[2],l:Oe[3],a:Oe[4]}:(Oe=K.hsv.exec(Le))?{h:Oe[1],s:Oe[2],v:Oe[3]}:(Oe=K.hsva.exec(Le))?{h:Oe[1],s:Oe[2],v:Oe[3],a:Oe[4]}:(Oe=K.hex8.exec(Le))?{r:v(Oe[1]),g:v(Oe[2]),b:v(Oe[3]),a:s(Oe[4]),format:Ge?"name":"hex8"}:(Oe=K.hex6.exec(Le))?{r:v(Oe[1]),g:v(Oe[2]),b:v(Oe[3]),format:Ge?"name":"hex"}:(Oe=K.hex4.exec(Le))?{r:v(Oe[1]+""+Oe[1]),g:v(Oe[2]+""+Oe[2]),b:v(Oe[3]+""+Oe[3]),a:s(Oe[4]+""+Oe[4]),format:Ge?"name":"hex8"}:!!(Oe=K.hex3.exec(Le))&&{r:v(Oe[1]+""+Oe[1]),g:v(Oe[2]+""+Oe[2]),b:v(Oe[3]+""+Oe[3]),format:Ge?"name":"hex"}}(q)),p(q)=="object"&&(E(q.r)&&E(q.g)&&E(q.b)?(ee=q.r,se=q.g,le=q.b,ue={r:255*ae(ee,255),g:255*ae(se,255),b:255*ae(le,255)},Fe=!0,Ue=String(q.r).substr(-1)==="%"?"prgb":"rgb"):E(q.h)&&E(q.s)&&E(q.v)?(ve=P(q.s),Ie=P(q.v),ue=function(Le,Oe,Ge){Le=6*ae(Le,360),Oe=ae(Oe,100),Ge=ae(Ge,100);var Ze=Math.floor(Le),Ve=Le-Ze,Ke=Ge*(1-Oe),tt=Ge*(1-Ve*Oe),Qe=Ge*(1-(1-Ve)*Oe),et=Ze%6;return{r:255*[Ge,tt,Ke,Ke,Qe,Ge][et],g:255*[Qe,Ge,Ge,tt,Ke,Ke][et],b:255*[Ke,Ke,Qe,Ge,Ge,tt][et]}}(q.h,ve,Ie),Fe=!0,Ue="hsv"):E(q.h)&&E(q.s)&&E(q.l)&&(ve=P(q.s),Ae=P(q.l),ue=function(Le,Oe,Ge){var Ze,Ve,Ke;function tt($e,it,nt){return nt<0&&(nt+=1),nt>1&&(nt-=1),nt<1/6?$e+6*(it-$e)*nt:nt<.5?it:nt<2/3?$e+(it-$e)*(2/3-nt)*6:$e}if(Le=ae(Le,360),Oe=ae(Oe,100),Ge=ae(Ge,100),Oe===0)Ze=Ve=Ke=Ge;else{var Qe=Ge<.5?Ge*(1+Oe):Ge+Oe-Ge*Oe,et=2*Ge-Qe;Ze=tt(et,Qe,Le+1/3),Ve=tt(et,Qe,Le),Ke=tt(et,Qe,Le-1/3)}return{r:255*Ze,g:255*Ve,b:255*Ke}}(q.h,ve,Ae),Fe=!0,Ue="hsl"),q.hasOwnProperty("a")&&(pe=q.a)),pe=re(pe),{ok:Fe,format:q.format||Ue,r:Math.min(255,Math.max(ue.r,0)),g:Math.min(255,Math.max(ue.g,0)),b:Math.min(255,Math.max(ue.b,0)),a:pe}}(w);this._originalInput=w,this._r=N.r,this._g=N.g,this._b=N.b,this._a=N.a,this._roundA=Math.round(100*this._a)/100,this._format=x.format||N.format,this._gradientType=x.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=N.ok}function G(w,x,N){w=ae(w,255),x=ae(x,255),N=ae(N,255);var q,ee,se=Math.max(w,x,N),le=Math.min(w,x,N),ue=(se+le)/2;if(se==le)q=ee=0;else{var pe=se-le;switch(ee=ue>.5?pe/(2-se-le):pe/(se+le),se){case w:q=(x-N)/pe+(x<N?6:0);break;case x:q=(N-w)/pe+2;break;case N:q=(w-x)/pe+4}q/=6}return{h:q,s:ee,l:ue}}function z(w,x,N){w=ae(w,255),x=ae(x,255),N=ae(N,255);var q,ee,se=Math.max(w,x,N),le=Math.min(w,x,N),ue=se,pe=se-le;if(ee=se===0?0:pe/se,se==le)q=0;else{switch(se){case w:q=(x-N)/pe+(x<N?6:0);break;case x:q=(N-w)/pe+2;break;case N:q=(w-x)/pe+4}q/=6}return{h:q,s:ee,v:ue}}function y(w,x,N,q){var ee=[A(Math.round(w).toString(16)),A(Math.round(x).toString(16)),A(Math.round(N).toString(16))];return q&&ee[0].charAt(0)==ee[0].charAt(1)&&ee[1].charAt(0)==ee[1].charAt(1)&&ee[2].charAt(0)==ee[2].charAt(1)?ee[0].charAt(0)+ee[1].charAt(0)+ee[2].charAt(0):ee.join("")}function b(w,x,N,q){return[A(X(q)),A(Math.round(w).toString(16)),A(Math.round(x).toString(16)),A(Math.round(N).toString(16))].join("")}function B(w,x){x=x===0?0:x||10;var N=S(w).toHsl();return N.s-=x/100,N.s=he(N.s),S(N)}function H(w,x){x=x===0?0:x||10;var N=S(w).toHsl();return N.s+=x/100,N.s=he(N.s),S(N)}function R(w){return S(w).desaturate(100)}function T(w,x){x=x===0?0:x||10;var N=S(w).toHsl();return N.l+=x/100,N.l=he(N.l),S(N)}function C(w,x){x=x===0?0:x||10;var N=S(w).toRgb();return N.r=Math.max(0,Math.min(255,N.r-Math.round(-x/100*255))),N.g=Math.max(0,Math.min(255,N.g-Math.round(-x/100*255))),N.b=Math.max(0,Math.min(255,N.b-Math.round(-x/100*255))),S(N)}function k(w,x){x=x===0?0:x||10;var N=S(w).toHsl();return N.l-=x/100,N.l=he(N.l),S(N)}function te(w,x){var N=S(w).toHsl(),q=(N.h+x)%360;return N.h=q<0?360+q:q,S(N)}function V(w){var x=S(w).toHsl();return x.h=(x.h+180)%360,S(x)}function Q(w,x){if(isNaN(x)||x<=0)throw new Error("Argument to polyad must be a positive number");for(var N=S(w).toHsl(),q=[S(w)],ee=360/x,se=1;se<x;se++)q.push(S({h:(N.h+se*ee)%360,s:N.s,l:N.l}));return q}function W(w){var x=S(w).toHsl(),N=x.h;return[S(w),S({h:(N+72)%360,s:x.s,l:x.l}),S({h:(N+216)%360,s:x.s,l:x.l})]}function L(w,x,N){x=x||6,N=N||30;var q=S(w).toHsl(),ee=360/N,se=[S(w)];for(q.h=(q.h-(ee*x>>1)+720)%360;--x;)q.h=(q.h+ee)%360,se.push(S(q));return se}function Y(w,x){x=x||6;for(var N=S(w).toHsv(),q=N.h,ee=N.s,se=N.v,le=[],ue=1/x;x--;)le.push(S({h:q,s:ee,v:se})),se=(se+ue)%1;return le}S.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var w=this.toRgb();return(299*w.r+587*w.g+114*w.b)/1e3},getLuminance:function(){var w,x,N,q=this.toRgb();return w=q.r/255,x=q.g/255,N=q.b/255,.2126*(w<=.03928?w/12.92:Math.pow((w+.055)/1.055,2.4))+.7152*(x<=.03928?x/12.92:Math.pow((x+.055)/1.055,2.4))+.0722*(N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4))},setAlpha:function(w){return this._a=re(w),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var w=z(this._r,this._g,this._b);return{h:360*w.h,s:w.s,v:w.v,a:this._a}},toHsvString:function(){var w=z(this._r,this._g,this._b),x=Math.round(360*w.h),N=Math.round(100*w.s),q=Math.round(100*w.v);return this._a==1?"hsv("+x+", "+N+"%, "+q+"%)":"hsva("+x+", "+N+"%, "+q+"%, "+this._roundA+")"},toHsl:function(){var w=G(this._r,this._g,this._b);return{h:360*w.h,s:w.s,l:w.l,a:this._a}},toHslString:function(){var w=G(this._r,this._g,this._b),x=Math.round(360*w.h),N=Math.round(100*w.s),q=Math.round(100*w.l);return this._a==1?"hsl("+x+", "+N+"%, "+q+"%)":"hsla("+x+", "+N+"%, "+q+"%, "+this._roundA+")"},toHex:function(w){return y(this._r,this._g,this._b,w)},toHexString:function(w){return"#"+this.toHex(w)},toHex8:function(w){return function(x,N,q,ee,se){var le=[A(Math.round(x).toString(16)),A(Math.round(N).toString(16)),A(Math.round(q).toString(16)),A(X(ee))];return se&&le[0].charAt(0)==le[0].charAt(1)&&le[1].charAt(0)==le[1].charAt(1)&&le[2].charAt(0)==le[2].charAt(1)&&le[3].charAt(0)==le[3].charAt(1)?le[0].charAt(0)+le[1].charAt(0)+le[2].charAt(0)+le[3].charAt(0):le.join("")}(this._r,this._g,this._b,this._a,w)},toHex8String:function(w){return"#"+this.toHex8(w)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*ae(this._r,255))+"%",g:Math.round(100*ae(this._g,255))+"%",b:Math.round(100*ae(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(100*ae(this._r,255))+"%, "+Math.round(100*ae(this._g,255))+"%, "+Math.round(100*ae(this._b,255))+"%)":"rgba("+Math.round(100*ae(this._r,255))+"%, "+Math.round(100*ae(this._g,255))+"%, "+Math.round(100*ae(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(D[y(this._r,this._g,this._b,!0)]||!1)},toFilter:function(w){var x="#"+b(this._r,this._g,this._b,this._a),N=x,q=this._gradientType?"GradientType = 1, ":"";if(w){var ee=S(w);N="#"+b(ee._r,ee._g,ee._b,ee._a)}return"progid:DXImageTransform.Microsoft.gradient("+q+"startColorstr="+x+",endColorstr="+N+")"},toString:function(w){var x=!!w;w=w||this._format;var N=!1,q=this._a<1&&this._a>=0;return x||!q||w!=="hex"&&w!=="hex6"&&w!=="hex3"&&w!=="hex4"&&w!=="hex8"&&w!=="name"?(w==="rgb"&&(N=this.toRgbString()),w==="prgb"&&(N=this.toPercentageRgbString()),w!=="hex"&&w!=="hex6"||(N=this.toHexString()),w==="hex3"&&(N=this.toHexString(!0)),w==="hex4"&&(N=this.toHex8String(!0)),w==="hex8"&&(N=this.toHex8String()),w==="name"&&(N=this.toName()),w==="hsl"&&(N=this.toHslString()),w==="hsv"&&(N=this.toHsvString()),N||this.toHexString()):w==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return S(this.toString())},_applyModification:function(w,x){var N=w.apply(null,[this].concat([].slice.call(x)));return this._r=N._r,this._g=N._g,this._b=N._b,this.setAlpha(N._a),this},lighten:function(){return this._applyModification(T,arguments)},brighten:function(){return this._applyModification(C,arguments)},darken:function(){return this._applyModification(k,arguments)},desaturate:function(){return this._applyModification(B,arguments)},saturate:function(){return this._applyModification(H,arguments)},greyscale:function(){return this._applyModification(R,arguments)},spin:function(){return this._applyModification(te,arguments)},_applyCombination:function(w,x){return w.apply(null,[this].concat([].slice.call(x)))},analogous:function(){return this._applyCombination(L,arguments)},complement:function(){return this._applyCombination(V,arguments)},monochromatic:function(){return this._applyCombination(Y,arguments)},splitcomplement:function(){return this._applyCombination(W,arguments)},triad:function(){return this._applyCombination(Q,[3])},tetrad:function(){return this._applyCombination(Q,[4])}},S.fromRatio=function(w,x){if(p(w)=="object"){var N={};for(var q in w)w.hasOwnProperty(q)&&(N[q]=q==="a"?w[q]:P(w[q]));w=N}return S(w,x)},S.equals=function(w,x){return!(!w||!x)&&S(w).toRgbString()==S(x).toRgbString()},S.random=function(){return S.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},S.mix=function(w,x,N){N=N===0?0:N||50;var q=S(w).toRgb(),ee=S(x).toRgb(),se=N/100;return S({r:(ee.r-q.r)*se+q.r,g:(ee.g-q.g)*se+q.g,b:(ee.b-q.b)*se+q.b,a:(ee.a-q.a)*se+q.a})},S.readability=function(w,x){var N=S(w),q=S(x);return(Math.max(N.getLuminance(),q.getLuminance())+.05)/(Math.min(N.getLuminance(),q.getLuminance())+.05)},S.isReadable=function(w,x,N){var q,ee,se,le,ue,pe=S.readability(w,x);switch(ee=!1,(se=N,(le=((se=se||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&le!=="AAA"&&(le="AA"),(ue=(se.size||"small").toLowerCase())!=="small"&&ue!=="large"&&(ue="small"),q={level:le,size:ue}).level+q.size){case"AAsmall":case"AAAlarge":ee=pe>=4.5;break;case"AAlarge":ee=pe>=3;break;case"AAAsmall":ee=pe>=7}return ee},S.mostReadable=function(w,x,N){var q,ee,se,le,ue=null,pe=0;ee=(N=N||{}).includeFallbackColors,se=N.level,le=N.size;for(var ve=0;ve<x.length;ve++)(q=S.readability(w,x[ve]))>pe&&(pe=q,ue=S(x[ve]));return S.isReadable(w,ue,{level:se,size:le})||!ee?ue:(N.includeFallbackColors=!1,S.mostReadable(w,["#fff","#000"],N))};var O=S.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},D=S.hexNames=function(w){var x={};for(var N in w)w.hasOwnProperty(N)&&(x[w[N]]=N);return x}(O);function re(w){return w=parseFloat(w),(isNaN(w)||w<0||w>1)&&(w=1),w}function ae(w,x){(function(q){return typeof q=="string"&&q.indexOf(".")!=-1&&parseFloat(q)===1})(w)&&(w="100%");var N=function(q){return typeof q=="string"&&q.indexOf("%")!=-1}(w);return w=Math.min(x,Math.max(0,parseFloat(w))),N&&(w=parseInt(w*x,10)/100),Math.abs(w-x)<1e-6?1:w%x/parseFloat(x)}function he(w){return Math.min(1,Math.max(0,w))}function v(w){return parseInt(w,16)}function A(w){return w.length==1?"0"+w:""+w}function P(w){return w<=1&&(w=100*w+"%"),w}function X(w){return Math.round(255*parseFloat(w)).toString(16)}function s(w){return v(w)/255}var h,g,U,K=(g="[\\s|\\(]+("+(h="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+h+")[,|\\s]+("+h+")\\s*\\)?",U="[\\s|\\(]+("+h+")[,|\\s]+("+h+")[,|\\s]+("+h+")[,|\\s]+("+h+")\\s*\\)?",{CSS_UNIT:new RegExp(h),rgb:new RegExp("rgb"+g),rgba:new RegExp("rgba"+U),hsl:new RegExp("hsl"+g),hsla:new RegExp("hsla"+U),hsv:new RegExp("hsv"+g),hsva:new RegExp("hsva"+U),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function E(w){return!!K.CSS_UNIT.exec(w)}function J(w,x){this.size=this.size||w,this.smallerSize=this.smallerSize||x,function(N){for(let q=1;q<N;q++)Z[q]=1;Z[0]=1/Math.sqrt(2)}(this.size)}function oe(w){const x={};return x.r=Math.floor(w/Math.pow(256,3)),x.g=Math.floor((w-x.r*Math.pow(256,3))/Math.pow(256,2)),x.b=Math.floor((w-x.r*Math.pow(256,3)-x.g*Math.pow(256,2))/Math.pow(256,1)),x.a=Math.floor((w-x.r*Math.pow(256,3)-x.g*Math.pow(256,2)-x.b*Math.pow(256,1))/Math.pow(256,0)),x}J.prototype.size=32,J.prototype.smallerSize=8,J.prototype.distance=function(w,x){let N=0;for(let q=0;q<w.length;q++)w[q]!==x[q]&&N++;return N/w.length},J.prototype.getHash=function(w){(w=w.clone().resize(this.size,this.size)).grayscale();const x=[];for(let le=0;le<w.bitmap.width;le++){x[le]=[];for(let ue=0;ue<w.bitmap.height;ue++)x[le][ue]=oe(w.getPixelColor(le,ue)).b}const N=function(le,ue){const pe=ue,ve=[];for(let Ie=0;Ie<pe;Ie++){ve[Ie]=[];for(let Ae=0;Ae<pe;Ae++){let Fe=0;for(let Ue=0;Ue<pe;Ue++)for(let Le=0;Le<pe;Le++)Fe+=Math.cos((2*Ue+1)/(2*pe)*Ie*Math.PI)*Math.cos((2*Le+1)/(2*pe)*Ae*Math.PI)*le[Ue][Le];Fe*=Z[Ie]*Z[Ae]/4,ve[Ie][Ae]=Fe}}return ve}(x,this.size);let q=0;for(let le=0;le<this.smallerSize;le++)for(let ue=0;ue<this.smallerSize;ue++)q+=N[le][ue];const ee=q/(this.smallerSize*this.smallerSize);let se="";for(let le=0;le<this.smallerSize;le++)for(let ue=0;ue<this.smallerSize;ue++)se+=N[le][ue]>ee?"1":"0";return se};const Z=[],de=J;__webpack_require__(9307);const ge=(w,x)=>{let{url:N,...q}=w;fetch(N,q).then(ee=>{if(ee.ok)return ee.arrayBuffer().catch(se=>{throw new Error(`Response is not a buffer for url ${N}. Error: ${se.message}`)});throw new Error(`HTTP Status ${ee.status} for url ${N}`)}).then(ee=>x(null,ee)).catch(ee=>x(ee))},xe=-1,we=1,ne=2,fe=4,be=8,Se=16,me=32,Me="srcOver",ke="dstOver",Re="multiply",Ce="add",Ne="screen",qe="overlay",F="darken",ye="lighten",$="hardLight",ce="difference",De="exclusion",Pe=1,Ye=2,Te=3;function ze(w,x){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;w.a*=N;const q=x.a+w.a-x.a*w.a;return{r:(w.r*w.a+x.r*x.a*(1-w.a))/q,g:(w.g*w.a+x.g*x.a*(1-w.a))/q,b:(w.b*w.a+x.b*x.a*(1-w.a))/q,a:q}}function Be(w,x){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;w.a*=N;const q=x.a+w.a-x.a*w.a;return{r:(x.r*x.a+w.r*w.a*(1-x.a))/q,g:(x.g*x.a+w.g*w.a*(1-x.a))/q,b:(x.b*x.a+w.b*w.a*(1-x.a))/q,a:q}}function Ee(w,x){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;w.a*=N;const q=x.a+w.a-x.a*w.a,ee=w.r*w.a,se=w.g*w.a,le=w.b*w.a,ue=x.r*x.a,pe=x.g*x.a,ve=x.b*x.a;return{r:(ee*ue+ee*(1-x.a)+ue*(1-w.a))/q,g:(se*pe+se*(1-x.a)+pe*(1-w.a))/q,b:(le*ve+le*(1-x.a)+ve*(1-w.a))/q,a:q}}function He(w,x){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;w.a*=N;const q=x.a+w.a-x.a*w.a,ee=w.r*w.a,se=w.g*w.a,le=w.b*w.a;return{r:(ee+x.r*x.a)/q,g:(se+x.g*x.a)/q,b:(le+x.b*x.a)/q,a:q}}function We(w,x){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;w.a*=N;const q=x.a+w.a-x.a*w.a,ee=w.r*w.a,se=w.g*w.a,le=w.b*w.a,ue=x.r*x.a,pe=x.g*x.a,ve=x.b*x.a;return{r:(ee*x.a+ue*w.a-ee*ue+ee*(1-x.a)+ue*(1-w.a))/q,g:(se*x.a+pe*w.a-se*pe+se*(1-x.a)+pe*(1-w.a))/q,b:(le*x.a+ve*w.a-le*ve+le*(1-x.a)+ve*(1-w.a))/q,a:q}}function je(w,x){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;w.a*=N;const q=x.a+w.a-x.a*w.a,ee=w.r*w.a,se=w.g*w.a,le=w.b*w.a,ue=x.r*x.a,pe=x.g*x.a,ve=x.b*x.a;return{r:(2*ue<=x.a?2*ee*ue+ee*(1-x.a)+ue*(1-w.a):ee*(1+x.a)+ue*(1+w.a)-2*ue*ee-x.a*w.a)/q,g:(2*pe<=x.a?2*se*pe+se*(1-x.a)+pe*(1-w.a):se*(1+x.a)+pe*(1+w.a)-2*pe*se-x.a*w.a)/q,b:(2*ve<=x.a?2*le*ve+le*(1-x.a)+ve*(1-w.a):le*(1+x.a)+ve*(1+w.a)-2*ve*le-x.a*w.a)/q,a:q}}function Xe(w,x){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;w.a*=N;const q=x.a+w.a-x.a*w.a,ee=w.r*w.a,se=w.g*w.a,le=w.b*w.a,ue=x.r*x.a,pe=x.g*x.a,ve=x.b*x.a;return{r:(Math.min(ee*x.a,ue*w.a)+ee*(1-x.a)+ue*(1-w.a))/q,g:(Math.min(se*x.a,pe*w.a)+se*(1-x.a)+pe*(1-w.a))/q,b:(Math.min(le*x.a,ve*w.a)+le*(1-x.a)+ve*(1-w.a))/q,a:q}}function ft(w,x){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;w.a*=N;const q=x.a+w.a-x.a*w.a,ee=w.r*w.a,se=w.g*w.a,le=w.b*w.a,ue=x.r*x.a,pe=x.g*x.a,ve=x.b*x.a;return{r:(Math.max(ee*x.a,ue*w.a)+ee*(1-x.a)+ue*(1-w.a))/q,g:(Math.max(se*x.a,pe*w.a)+se*(1-x.a)+pe*(1-w.a))/q,b:(Math.max(le*x.a,ve*w.a)+le*(1-x.a)+ve*(1-w.a))/q,a:q}}function Je(w,x){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;w.a*=N;const q=x.a+w.a-x.a*w.a,ee=w.r*w.a,se=w.g*w.a,le=w.b*w.a,ue=x.r*x.a,pe=x.g*x.a,ve=x.b*x.a;return{r:(2*ee<=w.a?2*ee*ue+ee*(1-x.a)+ue*(1-w.a):ee*(1+x.a)+ue*(1+w.a)-2*ue*ee-x.a*w.a)/q,g:(2*se<=w.a?2*se*pe+se*(1-x.a)+pe*(1-w.a):se*(1+x.a)+pe*(1+w.a)-2*pe*se-x.a*w.a)/q,b:(2*le<=w.a?2*le*ve+le*(1-x.a)+ve*(1-w.a):le*(1+x.a)+ve*(1+w.a)-2*ve*le-x.a*w.a)/q,a:q}}function rt(w,x){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;w.a*=N;const q=x.a+w.a-x.a*w.a,ee=w.r*w.a,se=w.g*w.a,le=w.b*w.a,ue=x.r*x.a,pe=x.g*x.a,ve=x.b*x.a;return{r:(ee+ue-2*Math.min(ee*x.a,ue*w.a))/q,g:(se+pe-2*Math.min(se*x.a,pe*w.a))/q,b:(le+ve-2*Math.min(le*x.a,ve*w.a))/q,a:q}}function st(w,x){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;w.a*=N;const q=x.a+w.a-x.a*w.a,ee=w.r*w.a,se=w.g*w.a,le=w.b*w.a,ue=x.r*x.a,pe=x.g*x.a,ve=x.b*x.a;return{r:(ee*x.a+ue*w.a-2*ee*ue+ee*(1-x.a)+ue*(1-w.a))/q,g:(se*x.a+pe*w.a-2*se*pe+se*(1-x.a)+pe*(1-w.a))/q,b:(le*x.a+ve*w.a-2*le*ve+le*(1-x.a)+ve*(1-w.a))/q,a:q}}const ut=function(w,x){for(var N=arguments.length,q=new Array(N>2?N-2:0),ee=2;ee<N;ee++)q[ee-2]=arguments[ee];return new Promise((se,le)=>{q.push((ue,pe)=>{ue&&le(ue),se(pe)}),w.bind(x)(...q)})},ht={},bt=(w,x)=>{ht[w]=x},at=w=>{const x=w.split("/").slice(-1);var N;return(N=x[x.length-1].split(".").pop(),Object.entries(ht).find(q=>q[1].includes(N))||[])[0]};var lt=__webpack_require__(5025),mt=__webpack_require__.n(lt),pt=__webpack_require__(6551),dt=__webpack_require__.n(pt),ct=__webpack_require__(8834).lW;function Et(w){return w._exif&&w._exif.tags&&w._exif.tags.Orientation||1}async function Tt(w,x,N){const q=await async function(ee,se){const le=await mt().fromBuffer(ee);return le?le.mime:se?at(se):null}(w,x);if(typeof q!="string")return N(new Error("Could not find MIME for Buffer <"+x+">"));this._originalMime=q.toLowerCase();try{const ee=this.getMIME();if(!this.constructor.decoders[ee])return r.call(this,"Unsupported MIME type: "+ee,N);this.bitmap=this.constructor.decoders[ee](w)}catch(ee){return N.call(this,ee,this)}try{this._exif=dt().create(w).parse(),function(ee){if(Et(ee)<2)return;const se=function(ue){const pe=ue.getWidth(),ve=ue.getHeight();switch(Et(ue)){case 1:default:return null;case 2:return function(Ie,Ae){return[pe-Ie-1,Ae]};case 3:return function(Ie,Ae){return[pe-Ie-1,ve-Ae-1]};case 4:return function(Ie,Ae){return[Ie,ve-Ae-1]};case 5:return function(Ie,Ae){return[Ae,Ie]};case 6:return function(Ie,Ae){return[Ae,ve-Ie-1]};case 7:return function(Ie,Ae){return[pe-Ae-1,ve-Ie-1]};case 8:return function(Ie,Ae){return[pe-Ae-1,Ie]}}}(ee),le=Et(ee)>4;(function(ue,pe,ve,Ie){const Ae=ue.bitmap.data,Fe=ue.bitmap.width,Ue=ct.alloc(Ae.length);for(let Le=0;Le<pe;Le++)for(let Oe=0;Oe<ve;Oe++){const[Ge,Ze]=Ie(Le,Oe),Ve=pe*Oe+Le<<2,Ke=Fe*Ze+Ge<<2,tt=Ae.readUInt32BE(Ke);Ue.writeUInt32BE(tt,Ve)}ue.bitmap.data=Ue,ue.bitmap.width=pe,ue.bitmap.height=ve})(ee,le?ee.bitmap.height:ee.bitmap.width,le?ee.bitmap.width:ee.bitmap.height,se)}(this)}catch{}return N.call(this,null,this),this}function Mt(w,x){if(w===xe&&(w=this.getMIME()),typeof w!="string")return r.call(this,"mime must be a string",x);if(typeof x!="function")return r.call(this,"cb must be a function",x);if(w=w.toLowerCase(),this._rgba&&this.constructor.hasAlpha[w]?this.bitmap.data=ct.from(this.bitmap.data):this.bitmap.data=function(N,q){return new N(q.bitmap.width,q.bitmap.height,q._background).composite(q,0,0).bitmap}(this.constructor,this).data,!this.constructor.encoders[w])return r.call(this,"Unsupported MIME type: "+w,x);{const N=this.constructor.encoders[w](this);x.call(this,null,N)}return this}function It(w){return ut(Mt,this,w)}var _t=__webpack_require__(8834).lW;function yt(w,x,N){return(x=function(q){var ee=function(se,le){if(typeof se!="object"||se===null)return se;var ue=se[Symbol.toPrimitive];if(ue!==void 0){var pe=ue.call(se,"string");if(typeof pe!="object")return pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(se)}(q);return typeof ee=="symbol"?ee:String(ee)}(x))in w?Object.defineProperty(w,x,{value:N,enumerable:!0,configurable:!0,writable:!0}):w[x]=N,w}const Rt="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",Lt=[NaN,NaN];for(let w=2;w<65;w++){const x=f()(f().BIN,Rt.slice(0,w))(new Array(65).join("1"));Lt.push(x.length)}function xt(){}function Pt(w){return Object.prototype.toString.call(w).toLowerCase().indexOf("arraybuffer")>-1}function Ot(w){const x=_t.alloc(w.byteLength),N=new Uint8Array(w);for(let q=0;q<x.length;++q)x[q]=N[q];return x}function Ct(w,x){ge(w,(N,q)=>N?x(N):typeof q=="object"&&_t.isBuffer(q)?x(null,q):typeof q=="object"&&Pt(q)?x(null,Ot(q)):new Error(`Could not load Buffer from <${w.url}>`))}const Ut={data:null,width:null,height:null};class ot extends e(){constructor(){for(var x=arguments.length,N=new Array(x),q=0;q<x;q++)N[q]=arguments[q];super(),yt(this,"bitmap",Ut),yt(this,"_background",0),yt(this,"_originalMime",ot.MIME_PNG),yt(this,"_exif",null),yt(this,"_rgba",!0),yt(this,"writeAsync",pe=>ut(this.write,this,pe)),yt(this,"getBase64Async",pe=>ut(this.getBase64,this,pe)),yt(this,"getBuffer",Mt),yt(this,"getBufferAsync",It),yt(this,"getPixelColour",this.getPixelColor),yt(this,"setPixelColour",this.setPixelColor);const ee=this;let se=xt;function le(){for(var pe=arguments.length,ve=new Array(pe),Ie=0;Ie<pe;Ie++)ve[Ie]=arguments[Ie];const[Ae]=ve;(Ae||{}).methodName="constructor",setTimeout(()=>{Ae&&se===xt?ee.emitError("constructor",Ae):Ae||ee.emitMulti("constructor","initialized"),se.call(ee,...ve)},1)}if(Pt(N[0])&&(N[0]=Ot(N[0])),typeof N[0]=="number"&&typeof N[1]=="number"||parseInt(N[0],10)&&parseInt(N[1],10)){const pe=parseInt(N[0],10),ve=parseInt(N[1],10);if(se=N[2],typeof N[2]=="number"&&(this._background=N[2],se=N[3]),typeof N[2]=="string"&&(this._background=ot.cssColorToHex(N[2]),se=N[3]),se===void 0&&(se=xt),typeof se!="function")return r.call(this,"cb must be a function",le);this.bitmap={data:_t.alloc(pe*ve*4),width:pe,height:ve};for(let Ie=0;Ie<this.bitmap.data.length;Ie+=4)this.bitmap.data.writeUInt32BE(this._background,Ie);le(null,this)}else if(typeof N[0]=="object"&&N[0].url){if(se=N[1]||xt,typeof se!="function")return r.call(this,"cb must be a function",le);Ct(N[0],(pe,ve)=>{if(pe)return r.call(this,pe,le);this.parseBitmap(ve,N[0].url,le)})}else if(N[0]instanceof ot){const[pe]=N;if(se=N[1],se===void 0&&(se=xt),typeof se!="function")return r.call(this,"cb must be a function",le);this.bitmap={data:_t.from(pe.bitmap.data),width:pe.bitmap.width,height:pe.bitmap.height},this._quality=pe._quality,this._deflateLevel=pe._deflateLevel,this._deflateStrategy=pe._deflateStrategy,this._filterType=pe._filterType,this._rgba=pe._rgba,this._background=pe._background,this._originalMime=pe._originalMime,le(null,this)}else if((ue=N[0])&&typeof ue=="object"&&typeof ue.width=="number"&&typeof ue.height=="number"&&(_t.isBuffer(ue.data)||ue.data instanceof Uint8Array||typeof Uint8ClampedArray=="function"&&ue.data instanceof Uint8ClampedArray)&&(ue.data.length===ue.width*ue.height*4||ue.data.length===ue.width*ue.height*3)){const[pe]=N;se=N[1]||xt;const ve=pe.width*pe.height*4===pe.data.length?_t.from(pe.data):function(Ie){if(Ie.length%3!=0)throw new Error("Buffer length is incorrect");const Ae=_t.allocUnsafe(Ie.length/3*4);let Fe=0;for(let Ue=0;Ue<Ie.length;Ue++)Ae[Fe]=Ie[Ue],(Ue+1)%3==0&&(Ae[++Fe]=255),Fe++;return Ae}(pe.data);this.bitmap={data:ve,width:pe.width,height:pe.height},le(null,this)}else if(typeof N[0]=="string"){const pe=N[0];if(se=N[1],se===void 0&&(se=xt),typeof se!="function")return r.call(this,"cb must be a function",le);(function(ve,Ie){l()&&typeof l().readFile=="function"&&!ve.match(/^(http|ftp)s?:\/\/./)?l().readFile(ve,Ie):Ct({url:ve},Ie)})(pe,(ve,Ie)=>{if(ve)return r.call(this,ve,le);this.parseBitmap(Ie,pe,le)})}else if(typeof N[0]=="object"&&_t.isBuffer(N[0])){const pe=N[0];if(se=N[1],typeof se!="function")return r.call(this,"cb must be a function",le);this.parseBitmap(pe,null,le)}else{se=N[N.length-1],typeof se!="function"&&(se=N[N.length-2],typeof se!="function"&&(se=xt));const pe=ot.__extraConstructors.find(ve=>ve.test(...N));if(!pe)return r.call(this,"No matching constructor overloading was found. Please see the docs for how to call the Jimp constructor.",le);new Promise((ve,Ie)=>{pe.run.call(this,ve,Ie,...N)}).then(()=>le(null,this)).catch(le)}var ue}parseBitmap(x,N,q){Tt.call(this,x,null,q)}rgba(x,N){return typeof x!="boolean"?r.call(this,"bool must be a boolean, true for RGBA or false for RGB",N):(this._rgba=x,n(N)&&N.call(this,null,this),this)}emitMulti(x,N){let q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};q=Object.assign(q,{methodName:x,eventName:N}),this.emit("any",q),x&&this.emit(x,q),this.emit(N,q)}emitError(x,N){this.emitMulti(x,"error",N)}getHeight(){return this.bitmap.height}getWidth(){return this.bitmap.width}inspect(){return"<Jimp "+(this.bitmap===Ut?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}toString(){return"[object Jimp]"}getMIME(){return this._originalMime||ot.MIME_PNG}getExtension(){const x=this.getMIME();return(ht[x.toLowerCase()]||[])[0]}write(x,N){if(!l()||!l().createWriteStream)throw new Error("Cant access the filesystem. You can use the getBase64 method.");if(typeof x!="string")return r.call(this,"path must be a string",N);if(N===void 0&&(N=xt),typeof N!="function")return r.call(this,"cb must be a function",N);const q=at(x)||this.getMIME(),ee=u().parse(x);return ee.dir&&m().sync(ee.dir),this.getBuffer(q,(se,le)=>{if(se)return r.call(this,se,N);const ue=l().createWriteStream(x);ue.on("open",()=>{ue.write(le),ue.end()}).on("error",pe=>r.call(this,pe,N)),ue.on("finish",()=>{N.call(this,null,this)})}),this}getBase64(x,N){return x===ot.AUTO&&(x=this.getMIME()),typeof x!="string"?r.call(this,"mime must be a string",N):typeof N!="function"?r.call(this,"cb must be a function",N):(this.getBuffer(x,function(q,ee){if(q)return r.call(this,q,N);const se="data:"+x+";base64,"+ee.toString("base64");N.call(this,null,se)}),this)}hash(x,N){if(typeof(x=x||64)=="function"&&(N=x,x=64),typeof x!="number")return r.call(this,"base must be a number",N);if(x<2||x>64)return r.call(this,"base must be a number between 2 and 64",N);let q=this.pHash();for(q=f()(f().BIN,Rt.slice(0,x))(q);q.length<Lt[x];)q="0"+q;return n(N)&&N.call(this,null,q),q}pHash(){return new de().getHash(this)}distanceFromHash(x){const N=new de,q=N.getHash(this);return N.distance(q,x)}getPixelIndex(x,N,q,ee){let se,le;if(typeof q=="function"&&ee===void 0&&(ee=q,q=null),q||(q=ot.EDGE_EXTEND),typeof x!="number"||typeof N!="number")return r.call(this,"x and y must be numbers",ee);se=x=Math.round(x),le=N=Math.round(N),q===ot.EDGE_EXTEND&&(x<0&&(se=0),x>=this.bitmap.width&&(se=this.bitmap.width-1),N<0&&(le=0),N>=this.bitmap.height&&(le=this.bitmap.height-1)),q===ot.EDGE_WRAP&&(x<0&&(se=this.bitmap.width+x),x>=this.bitmap.width&&(se=x%this.bitmap.width),N<0&&(le=this.bitmap.height+N),N>=this.bitmap.height&&(le=N%this.bitmap.height));let ue=this.bitmap.width*le+se<<2;return(se<0||se>=this.bitmap.width)&&(ue=-1),(le<0||le>=this.bitmap.height)&&(ue=-1),n(ee)&&ee.call(this,null,ue),ue}getPixelColor(x,N,q){if(typeof x!="number"||typeof N!="number")return r.call(this,"x and y must be numbers",q);x=Math.round(x),N=Math.round(N);const ee=this.getPixelIndex(x,N),se=this.bitmap.data.readUInt32BE(ee);return n(q)&&q.call(this,null,se),se}setPixelColor(x,N,q,ee){if(typeof x!="number"||typeof N!="number"||typeof q!="number")return r.call(this,"hex, x and y must be numbers",ee);N=Math.round(N),q=Math.round(q);const se=this.getPixelIndex(N,q);return this.bitmap.data.writeUInt32BE(x,se),n(ee)&&ee.call(this,null,this),this}hasAlpha(){for(let x=0;x<this.bitmap.height;x++)for(let N=0;N<this.bitmap.width;N++){const q=this.bitmap.width*x+N<<2;if(this.bitmap.data[q+3]!==255)return!0}return!1}scanIterator(x,N,q,ee){return typeof x!="number"||typeof N!="number"?r.call(this,"x and y must be numbers"):typeof q!="number"||typeof ee!="number"?r.call(this,"w and h must be numbers"):function*(se,le,ue,pe,ve){le=Math.round(le),ue=Math.round(ue),pe=Math.round(pe),ve=Math.round(ve);for(let Ie=ue;Ie<ue+ve;Ie++)for(let Ae=le;Ae<le+pe;Ae++){const Fe=se.bitmap.width*Ie+Ae<<2;yield{x:Ae,y:Ie,idx:Fe,image:se}}}(this,x,N,q,ee)}}function Kt(w){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ot;Object.entries(w).forEach(N=>{let[q,ee]=N;x[q]=ee})}function $t(w){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ot;Object.entries(w).forEach(N=>{let[q,ee]=N;x.prototype[q]=ee})}function er(w,x,N){const q="before-"+x,ee=x.replace(/e$/,"")+"ed";ot.prototype[w]=function(){let se;for(var le=arguments.length,ue=new Array(le),pe=0;pe<le;pe++)ue[pe]=arguments[pe];const ve=ue[N.length-1],Ie=this;let Ae;typeof ve=="function"?(se=function(){for(var Fe=arguments.length,Ue=new Array(Fe),Le=0;Le<Fe;Le++)Ue[Le]=arguments[Le];const[Oe,Ge]=Ue;Oe?Ie.emitError(w,Oe):Ie.emitMulti(w,ee,{[w]:Ge}),ve.apply(this,Ue)},ue[ue.length-1]=se):se=!1,this.emitMulti(w,q);try{Ae=N.apply(this,ue),se||this.emitMulti(w,ee,{[w]:Ae})}catch(Fe){Fe.methodName=w,this.emitError(w,Fe)}return Ae},ot.prototype[w+"Quiet"]=N}function qt(w,x){er(w,"change",x)}Kt(_e),$t({composite:function(w,x,N){let q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ee=arguments.length>4?arguments[4]:void 0;if(typeof q=="function"&&(ee=q,q={}),!(w instanceof this.constructor))return r.call(this,"The source must be a Jimp image",ee);if(typeof x!="number"||typeof N!="number")return r.call(this,"x and y must be numbers",ee);let{mode:se,opacitySource:le,opacityDest:ue}=q;se||(se=Me),(typeof le!="number"||le<0||le>1)&&(le=1),(typeof ue!="number"||ue<0||ue>1)&&(ue=1);const pe=ie[se];x=Math.round(x),N=Math.round(N);const ve=this;return ue!==1&&ve.opacity(ue),w.scanQuiet(0,0,w.bitmap.width,w.bitmap.height,function(Ie,Ae,Fe){const Ue=ve.getPixelIndex(x+Ie,N+Ae,Te),Le=pe({r:this.bitmap.data[Fe+0]/255,g:this.bitmap.data[Fe+1]/255,b:this.bitmap.data[Fe+2]/255,a:this.bitmap.data[Fe+3]/255},{r:ve.bitmap.data[Ue+0]/255,g:ve.bitmap.data[Ue+1]/255,b:ve.bitmap.data[Ue+2]/255,a:ve.bitmap.data[Ue+3]/255},le);ve.bitmap.data[Ue+0]=this.constructor.limit255(255*Le.r),ve.bitmap.data[Ue+1]=this.constructor.limit255(255*Le.g),ve.bitmap.data[Ue+2]=this.constructor.limit255(255*Le.b),ve.bitmap.data[Ue+3]=this.constructor.limit255(255*Le.a)}),n(ee)&&ee.call(this,null,this),this}}),ot.__extraConstructors=[],ot.appendConstructorOption=function(w,x,N){ot.__extraConstructors.push({name:w,test:x,run:N})},ot.read=function(){for(var w=arguments.length,x=new Array(w),N=0;N<w;N++)x[N]=arguments[N];return new Promise((q,ee)=>{new ot(...x,(se,le)=>{se?ee(se):q(le)})})},ot.create=ot.read,ot.rgbaToInt=function(w,x,N,q,ee){if(typeof w!="number"||typeof x!="number"||typeof N!="number"||typeof q!="number")return r.call(this,"r, g, b and a must be numbers",ee);if(w<0||w>255)return r.call(this,"r must be between 0 and 255",ee);if((x<0||x>255)&&r.call(this,"g must be between 0 and 255",ee),N<0||N>255)return r.call(this,"b must be between 0 and 255",ee);if(q<0||q>255)return r.call(this,"a must be between 0 and 255",ee);w=Math.round(w),N=Math.round(N),x=Math.round(x),q=Math.round(q);const se=w*Math.pow(256,3)+x*Math.pow(256,2)+N*Math.pow(256,1)+q*Math.pow(256,0);return n(ee)&&ee.call(this,null,se),se},ot.intToRGBA=function(w,x){if(typeof w!="number")return r.call(this,"i must be a number",x);const N={};return N.r=Math.floor(w/Math.pow(256,3)),N.g=Math.floor((w-N.r*Math.pow(256,3))/Math.pow(256,2)),N.b=Math.floor((w-N.r*Math.pow(256,3)-N.g*Math.pow(256,2))/Math.pow(256,1)),N.a=Math.floor((w-N.r*Math.pow(256,3)-N.g*Math.pow(256,2)-N.b*Math.pow(256,1))/Math.pow(256,0)),n(x)&&x.call(this,null,N),N},ot.cssColorToHex=function(w){return typeof(w=w||0)=="number"?Number(w):parseInt(S(w).toHex8(),16)},ot.limit255=function(w){return w=Math.max(w,0),Math.min(w,255)},ot.diff=function(w,x){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.1;if(!(w instanceof ot&&x instanceof ot))return r.call(this,"img1 and img2 must be an Jimp images");const q=w.bitmap,ee=x.bitmap;if(q.width===ee.width&&q.height===ee.height||(q.width*q.height>ee.width*ee.height?w=w.cloneQuiet().resize(ee.width,ee.height):x=x.cloneQuiet().resize(q.width,q.height)),typeof N!="number"||N<0||N>1)return r.call(this,"threshold must be a number between 0 and 1");const se=new ot(q.width,q.height,4294967295);return{percent:c()(q.data,ee.data,se.bitmap.data,se.bitmap.width,se.bitmap.height,{threshold:N})/(se.bitmap.width*se.bitmap.height),image:se}},ot.distance=function(w,x){const N=new de,q=N.getHash(w),ee=N.getHash(x);return N.distance(q,ee)},ot.compareHashes=function(w,x){return new de().distance(w,x)},ot.colorDiff=function(w,x){const N=ee=>Math.pow(ee,2),{max:q}=Math;return w.a===0||w.a||(w.a=255),x.a===0||x.a||(x.a=255),(q(N(w.r-x.r),N(w.r-x.r-w.a+x.a))+q(N(w.g-x.g),N(w.g-x.g-w.a+x.a))+q(N(w.b-x.b),N(w.b-x.b-w.a+x.a)))/195075},er("clone","clone",function(w){const x=new ot(this);return n(w)&&w.call(x,null,x),x}),qt("background",function(w,x){return typeof w!="number"?r.call(this,"hex must be a hexadecimal rgba value",x):(this._background=w,n(x)&&x.call(this,null,this),this)}),qt("scan",function(w,x,N,q,ee,se){if(typeof w!="number"||typeof x!="number")return r.call(this,"x and y must be numbers",se);if(typeof N!="number"||typeof q!="number")return r.call(this,"w and h must be numbers",se);if(typeof ee!="function")return r.call(this,"f must be a function",se);const le=t(this,w,x,N,q,ee);return n(se)&&se.call(this,null,le),le});{let w;typeof window<"u"&&typeof window=="object"&&(w=window),typeof self<"u"&&typeof self=="object"&&(w=self),w.Jimp=ot,w.Buffer=_t}const _r=ot;var tr=__webpack_require__(643),yr=__webpack_require__(2691),rr=__webpack_require__.n(yr);const zt="image/jpeg",wr=()=>({mime:{[zt]:["jpeg","jpg","jpe"]},constants:{MIME_JPEG:zt},decoders:{[zt]:rr().decode},encoders:{[zt]:w=>rr().encode(w.bitmap,w._quality).data},class:{_quality:100,quality(w,x){return typeof w!="number"?r.call(this,"n must be a number",x):w<0||w>100?r.call(this,"n must be a number 0 - 100",x):(this._quality=Math.round(w),n(x)&&x.call(this,null,this),this)}}});var Zt=__webpack_require__(9902);const Dt="image/png",vr=()=>({mime:{[Dt]:["png"]},constants:{MIME_PNG:Dt,PNG_FILTER_AUTO:-1,PNG_FILTER_NONE:0,PNG_FILTER_SUB:1,PNG_FILTER_UP:2,PNG_FILTER_AVERAGE:3,PNG_FILTER_PATH:4},hasAlpha:{[Dt]:!0},decoders:{[Dt]:Zt.PNG.sync.read},encoders:{[Dt](w){const x=new Zt.PNG({width:w.bitmap.width,height:w.bitmap.height});return x.data=w.bitmap.data,Zt.PNG.sync.write(x,{deflateLevel:w._deflateLevel,deflateStrategy:w._deflateStrategy,filterType:w._filterType,colorType:typeof w._colorType=="number"?w._colorType:w._rgba?6:2,inputHasAlpha:w._rgba})}},class:{_deflateLevel:9,_deflateStrategy:3,_filterType:-1,_colorType:null,deflateLevel(w,x){return typeof w!="number"?r.call(this,"l must be a number",x):w<0||w>9?r.call(this,"l must be a number 0 - 9",x):(this._deflateLevel=Math.round(w),n(x)&&x.call(this,null,this),this)},deflateStrategy(w,x){return typeof w!="number"?r.call(this,"s must be a number",x):w<0||w>3?r.call(this,"s must be a number 0 - 3",x):(this._deflateStrategy=Math.round(w),n(x)&&x.call(this,null,this),this)},filterType(w,x){return typeof w!="number"?r.call(this,"n must be a number",x):w<-1||w>4?r.call(this,"n must be -1 (auto) or a number 0 - 4",x):(this._filterType=Math.round(w),n(x)&&x.call(this,null,this),this)},colorType(w,x){return typeof w!="number"?r.call(this,"s must be a number",x):w!==0&&w!==2&&w!==4&&w!==6?r.call(this,"s must be a number 0, 2, 4, 6.",x):(this._colorType=Math.round(w),n(x)&&x.call(this,null,this),this)}}});var Er=__webpack_require__(486),ir=__webpack_require__.n(Er);const Nt="image/bmp",Yt="image/x-ms-bmp",nr=w=>{return t({bitmap:x=ir().decode(w)},0,0,x.width,x.height,function(N,q,ee){const se=this.bitmap.data[ee+0],le=this.bitmap.data[ee+1],ue=this.bitmap.data[ee+2],pe=this.bitmap.data[ee+3];this.bitmap.data[ee+0]=pe,this.bitmap.data[ee+1]=ue,this.bitmap.data[ee+2]=le,this.bitmap.data[ee+3]=x.is_with_alpha?se:255}).bitmap;var x},ar=w=>ir().encode(function(x){return t(x,0,0,x.bitmap.width,x.bitmap.height,function(N,q,ee){const se=this.bitmap.data[ee+0],le=this.bitmap.data[ee+1],ue=this.bitmap.data[ee+2],pe=this.bitmap.data[ee+3];this.bitmap.data[ee+0]=pe,this.bitmap.data[ee+1]=ue,this.bitmap.data[ee+2]=le,this.bitmap.data[ee+3]=se}).bitmap}(w)).data;var xr=__webpack_require__(9299),Ft=__webpack_require__.n(xr),or=__webpack_require__(8834).lW;const jt="image/tiff";var kr=__webpack_require__(63),Gt=__webpack_require__(9455),Mr=__webpack_require__(8834).lW;const Ht="image/gif",Ar=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1],Sr=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18];var Ir=__webpack_require__(8834).lW;function sr(w,x,N,q){const ee=[0,0,0],se=(x.length-1)/2;for(let le=0;le<x.length;le+=1)for(let ue=0;ue<x[le].length;ue+=1){const pe=w.getPixelIndex(N+le-se,q+ue-se);ee[0]+=w.bitmap.data[pe]*x[le][ue],ee[1]+=w.bitmap.data[pe+1]*x[le][ue],ee[2]+=w.bitmap.data[pe+2]*x[le][ue]}return ee}const wt=w=>w!=null;function hr(w){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(x,N,q){const ee=parseInt(.2126*this.bitmap.data[q]+.7152*this.bitmap.data[q+1]+.0722*this.bitmap.data[q+2],10);this.bitmap.data[q]=ee,this.bitmap.data[q+1]=ee,this.bitmap.data[q+2]=ee}),n(w)&&w.call(this,null,this),this}function Vt(w,x){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:50;return{r:(x.r-w.r)*(N/100)+w.r,g:(x.g-w.g)*(N/100)+w.g,b:(x.b-w.b)*(N/100)+w.b}}function fr(w,x){return w&&Array.isArray(w)?(w=w.map(N=>(N.apply!=="xor"&&N.apply!=="mix"||(N.params[0]=S(N.params[0]).toRgb()),N)),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(N,q,ee)=>{let se={r:this.bitmap.data[ee],g:this.bitmap.data[ee+1],b:this.bitmap.data[ee+2]};const le=(ue,pe)=>this.constructor.limit255(se[ue]+pe);w.forEach(ue=>{if(ue.apply==="mix")se=Vt(se,ue.params[0],ue.params[1]);else if(ue.apply==="tint")se=Vt(se,{r:255,g:255,b:255},ue.params[0]);else if(ue.apply==="shade")se=Vt(se,{r:0,g:0,b:0},ue.params[0]);else if(ue.apply==="xor")se={r:se.r^ue.params[0].r,g:se.g^ue.params[0].g,b:se.b^ue.params[0].b};else if(ue.apply==="red")se.r=le("r",ue.params[0]);else if(ue.apply==="green")se.g=le("g",ue.params[0]);else if(ue.apply==="blue")se.b=le("b",ue.params[0]);else{if(ue.apply==="hue"&&(ue.apply="spin"),se=S(se),!se[ue.apply])return r.call(this,"action "+ue.apply+" not supported",x);se=se[ue.apply](...ue.params).toRgb()}}),this.bitmap.data[ee]=se.r,this.bitmap.data[ee+1]=se.g,this.bitmap.data[ee+2]=se.b}),n(x)&&x.call(this,null,this),this):r.call(this,"actions must be an array",x)}var Br=__webpack_require__(8834).lW;function ur(w){const x=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(N,q,ee){const se=x[((3&q)<<2)+N%4];this.bitmap.data[ee]=Math.min(this.bitmap.data[ee]+se,255),this.bitmap.data[ee+1]=Math.min(this.bitmap.data[ee+1]+se,255),this.bitmap.data[ee+2]=Math.min(this.bitmap.data[ee+2]+se,255)}),n(w)&&w.call(this,null,this),this}var lr=__webpack_require__(8834).lW;function cr(w,x,N){if(typeof w!="boolean"||typeof x!="boolean")return r.call(this,"horizontal and vertical must be Booleans",N);const q=lr.alloc(this.bitmap.data.length);return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(ee,se,le){const ue=w?this.bitmap.width-1-ee:ee,pe=x?this.bitmap.height-1-se:se,ve=this.bitmap.width*pe+ue<<2,Ie=this.bitmap.data.readUInt32BE(le);q.writeUInt32BE(Ie,ve)}),this.bitmap.data=lr.from(q),n(N)&&N.call(this,null,this),this}function Tr(){const w={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(x,N,q){w.r[this.bitmap.data[q+0]]++,w.g[this.bitmap.data[q+1]]++,w.b[this.bitmap.data[q+2]]++}),w}const Qt=function(w,x,N){return 255*(w-x)/(N-x)},Xt=function(w){return[w.findIndex(x=>x>0),255-w.slice().reverse().findIndex(x=>x>0)]};var Rr=__webpack_require__(8058),Lr=__webpack_require__.n(Rr);function Wt(w,x){let N=0;for(let q=0;q<x.length;q++)if(w.chars[x[q]]){const ee=w.kernings[x[q]]&&w.kernings[x[q]][x[q+1]]?w.kernings[x[q]][x[q+1]]:0;N+=(w.chars[x[q]].xadvance||0)+ee}return N}function dr(w,x,N){const q=x.split(" "),ee=[];let se=[],le=0;return q.forEach(ue=>{const pe=[...se,ue].join(" "),ve=Wt(w,pe);ve<=N?(ve>le&&(le=ve),se.push(ue)):(ee.push(se),se=[ue])}),ee.push(se),{lines:ee,longestLine:le}}function Jt(w,x,N){const{lines:q}=dr(w,x,N);return q.length*w.common.lineHeight}function Pr(w,x,N,q,ee){if(ee.width>0&&ee.height>0){const se=x.pages[ee.page];w.blit(se,N+ee.xoffset,q+ee.yoffset,ee.x,ee.y,ee.width,ee.height)}return w}function Or(w,x,N,q,ee){for(let se=0;se<q.length;se++){let le;le=w.chars[q[se]]?q[se]:/\s/.test(q[se])?"":"?";const ue=w.chars[le]||{},pe=w.kernings[le];Pr(this,w,x,N,ue||{}),x+=(pe&&pe[q[se+1]]?pe[q[se+1]]:0)+(ue.xadvance||ee)}}const vt="//../";function gt(w,x,N,q,ee,se,le){this.widthOriginal=Math.abs(Math.floor(w)||0),this.heightOriginal=Math.abs(Math.floor(x)||0),this.targetWidth=Math.abs(Math.floor(N)||0),this.targetHeight=Math.abs(Math.floor(q)||0),this.colorChannels=ee?4:3,this.interpolationPass=!!se,this.resizeCallback=typeof le=="function"?le:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}gt.prototype.initialize=function(){if(!(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0))throw new Error("Invalid settings specified for the resizer.");this.configurePasses()},gt.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB))},gt.prototype._resizeWidthInterpolatedRGBChannels=function(w,x){const N=x?4:3,q=this.ratioWeightWidthPass,ee=this.widthBuffer;let se,le,ue=0,pe=0,ve=0,Ie=0,Ae=0;for(se=0;ue<1/3;se+=N,ue+=q)for(pe=se,ve=0;pe<this.widthPassResultSize;ve+=this.originalWidthMultipliedByChannels,pe+=this.targetWidthMultipliedByChannels)ee[pe]=w[ve],ee[pe+1]=w[ve+1],ee[pe+2]=w[ve+2],x&&(ee[pe+3]=w[ve+3]);for(ue-=1/3,le=this.widthOriginal-1;ue<le;se+=N,ue+=q)for(Ae=ue%1,Ie=1-Ae,pe=se,ve=Math.floor(ue)*N;pe<this.widthPassResultSize;ve+=this.originalWidthMultipliedByChannels,pe+=this.targetWidthMultipliedByChannels)ee[pe+0]=w[ve+0]*Ie+w[ve+N+0]*Ae,ee[pe+1]=w[ve+1]*Ie+w[ve+N+1]*Ae,ee[pe+2]=w[ve+2]*Ie+w[ve+N+2]*Ae,x&&(ee[pe+3]=w[ve+3]*Ie+w[ve+N+3]*Ae);for(le=this.originalWidthMultipliedByChannels-N;se<this.targetWidthMultipliedByChannels;se+=N)for(pe=se,ve=le;pe<this.widthPassResultSize;ve+=this.originalWidthMultipliedByChannels,pe+=this.targetWidthMultipliedByChannels)ee[pe]=w[ve],ee[pe+1]=w[ve+1],ee[pe+2]=w[ve+2],x&&(ee[pe+3]=w[ve+3]);return ee},gt.prototype._resizeWidthRGBChannels=function(w,x){const N=x?4:3,q=this.ratioWeightWidthPass,ee=1/q,se=this.originalWidthMultipliedByChannels-N+1,le=this.targetWidthMultipliedByChannels-N+1,ue=this.outputWidthWorkBench,pe=this.widthBuffer,ve=this.outputWidthWorkBenchOpaquePixelsCount;let Ie=0,Ae=0,Fe=0,Ue=0,Le=0,Oe=0,Ge=0,Ze=1,Ve=0,Ke=0,tt=0,Qe=0;do{for(Le=0;Le<this.originalHeightMultipliedByChannels;)ue[Le++]=0,ue[Le++]=0,ue[Le++]=0,x&&(ue[Le++]=0,ve[Le/N-1]=0);Ie=q;do{for(Ae=1+Fe-Ue,Ze=Math.min(Ie,Ae),Le=0,Oe=Fe;Le<this.originalHeightMultipliedByChannels;Oe+=se)Ve=w[Oe],Ke=w[++Oe],tt=w[++Oe],Qe=x?w[++Oe]:255,ue[Le++]+=(Qe?Ve:0)*Ze,ue[Le++]+=(Qe?Ke:0)*Ze,ue[Le++]+=(Qe?tt:0)*Ze,x&&(ue[Le++]+=Qe*Ze,ve[Le/N-1]+=Qe?Ze:0);if(!(Ie>=Ae)){Ue+=Ie;break}Fe+=N,Ue=Fe,Ie-=Ae}while(Ie>0&&Fe<this.originalWidthMultipliedByChannels);for(Le=0,Oe=Ge;Le<this.originalHeightMultipliedByChannels;Oe+=le)Ie=x?ve[Le/N]:1,Ze=x?Ie?1/Ie:0:ee,pe[Oe]=ue[Le++]*Ze,pe[++Oe]=ue[Le++]*Ze,pe[++Oe]=ue[Le++]*Ze,x&&(pe[++Oe]=ue[Le++]*ee);Ge+=N}while(Ge<this.targetWidthMultipliedByChannels);return pe},gt.prototype._resizeHeightRGBChannels=function(w,x){const N=this.ratioWeightHeightPass,q=1/N,ee=this.outputHeightWorkBench,se=this.heightBuffer,le=this.outputHeightWorkBenchOpaquePixelsCount;let ue=0,pe=0,ve=0,Ie=0,Ae=0,Fe=0,Ue=0,Le=1,Oe=0,Ge=0,Ze=0,Ve=0;do{for(Ae=0;Ae<this.targetWidthMultipliedByChannels;)ee[Ae++]=0,ee[Ae++]=0,ee[Ae++]=0,x&&(ee[Ae++]=0,le[Ae/4-1]=0);ue=N;do{for(pe=1+ve-Ie,Le=Math.min(ue,pe),Ue=ve,Ae=0;Ae<this.targetWidthMultipliedByChannels;)Oe=w[Ue++],Ge=w[Ue++],Ze=w[Ue++],Ve=x?w[Ue++]:255,ee[Ae++]+=(Ve?Oe:0)*Le,ee[Ae++]+=(Ve?Ge:0)*Le,ee[Ae++]+=(Ve?Ze:0)*Le,x&&(ee[Ae++]+=Ve*Le,le[Ae/4-1]+=Ve?Le:0);if(!(ue>=pe)){Ie+=ue;break}ve=Ue,Ie=ve,ue-=pe}while(ue>0&&ve<this.widthPassResultSize);for(Ae=0;Ae<this.targetWidthMultipliedByChannels;)ue=x?le[Ae/4]:1,Le=x?ue?1/ue:0:q,se[Fe++]=Math.round(ee[Ae++]*Le),se[Fe++]=Math.round(ee[Ae++]*Le),se[Fe++]=Math.round(ee[Ae++]*Le),x&&(se[Fe++]=Math.round(ee[Ae++]*q))}while(Fe<this.finalResultSize);return se},gt.prototype.resizeWidthInterpolatedRGB=function(w){return this._resizeWidthInterpolatedRGBChannels(w,!1)},gt.prototype.resizeWidthInterpolatedRGBA=function(w){return this._resizeWidthInterpolatedRGBChannels(w,!0)},gt.prototype.resizeWidthRGB=function(w){return this._resizeWidthRGBChannels(w,!1)},gt.prototype.resizeWidthRGBA=function(w){return this._resizeWidthRGBChannels(w,!0)},gt.prototype.resizeHeightInterpolated=function(w){const x=this.ratioWeightHeightPass,N=this.heightBuffer;let q,ee=0,se=0,le=0,ue=0,pe=0,ve=0,Ie=0;for(;ee<1/3;ee+=x)for(le=0;le<this.targetWidthMultipliedByChannels;)N[se++]=Math.round(w[le++]);for(ee-=1/3,q=this.heightOriginal-1;ee<q;ee+=x)for(Ie=ee%1,ve=1-Ie,ue=Math.floor(ee)*this.targetWidthMultipliedByChannels,pe=ue+this.targetWidthMultipliedByChannels,le=0;le<this.targetWidthMultipliedByChannels;++le)N[se++]=Math.round(w[ue++]*ve+w[pe++]*Ie);for(;se<this.finalResultSize;)for(le=0,ue=q*this.targetWidthMultipliedByChannels;le<this.targetWidthMultipliedByChannels;++le)N[se++]=Math.round(w[ue++]);return N},gt.prototype.resizeHeightRGB=function(w){return this._resizeHeightRGBChannels(w,!1)},gt.prototype.resizeHeightRGBA=function(w){return this._resizeHeightRGBChannels(w,!0)},gt.prototype.resize=function(w){this.resizeCallback(this.resizeHeight(this.resizeWidth(w)))},gt.prototype.bypassResizer=function(w){return w},gt.prototype.initializeFirstPassBuffers=function(w){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),w||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},gt.prototype.initializeSecondPassBuffers=function(w){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),w||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},gt.prototype.generateFloatBuffer=function(w){try{return new Float32Array(w)}catch{return[]}},gt.prototype.generateFloat64Buffer=function(w){try{return new Float64Array(w)}catch{return[]}},gt.prototype.generateUint8Buffer=function(w){try{return new Uint8Array(w)}catch{return[]}};const Cr=gt;var pr=__webpack_require__(8834).lW;const Ur={nearestNeighbor(w,x){const N=w.width,q=w.height,ee=x.width,se=x.height,le=w.data,ue=x.data;for(let pe=0;pe<se;pe++)for(let ve=0;ve<ee;ve++){let Ie=4*(pe*ee+ve),Ae=4*(Math.floor(pe*q/se)*N+Math.floor(ve*N/ee));ue[Ie++]=le[Ae++],ue[Ie++]=le[Ae++],ue[Ie++]=le[Ae++],ue[Ie++]=le[Ae++]}},bilinearInterpolation(w,x){const N=w.width,q=w.height,ee=x.width,se=x.height,le=w.data,ue=x.data,pe=function(Ie,Ae,Fe,Ue,Le){return Ae===Ue?Fe:Math.round((Ie-Ae)*Le+(Ue-Ie)*Fe)},ve=function(Ie,Ae,Fe,Ue,Le,Oe,Ge,Ze){let Ve=4*(Ge*N+Ue)+Ae,Ke=4*(Ge*N+Le)+Ae;const tt=pe(Fe,Ue,le[Ve],Le,le[Ke]);if(Ze===Ge)ue[Ie+Ae]=tt;else{Ve=4*(Ze*N+Ue)+Ae,Ke=4*(Ze*N+Le)+Ae;const Qe=pe(Fe,Ue,le[Ve],Le,le[Ke]);ue[Ie+Ae]=pe(Oe,Ge,tt,Ze,Qe)}};for(let Ie=0;Ie<se;Ie++)for(let Ae=0;Ae<ee;Ae++){const Fe=4*(Ie*ee+Ae),Ue=Ae*N/ee,Le=Math.floor(Ue),Oe=Math.min(Math.ceil(Ue),N-1),Ge=Ie*q/se,Ze=Math.floor(Ge),Ve=Math.min(Math.ceil(Ge),q-1);ve(Fe,0,Ue,Le,Oe,Ge,Ze,Ve),ve(Fe,1,Ue,Le,Oe,Ge,Ze,Ve),ve(Fe,2,Ue,Le,Oe,Ge,Ze,Ve),ve(Fe,3,Ue,Le,Oe,Ge,Ze,Ve)}},_interpolate2D(w,x,N,q){const ee=w.data,se=x.data,le=w.width,ue=w.height,pe=x.width,ve=x.height,Ie=Math.max(1,Math.floor(le/pe)),Ae=pe*Ie,Fe=Math.max(1,Math.floor(ue/ve)),Ue=ve*Fe,Le=pr.alloc(Ae*ue*4);for(let Ze=0;Ze<ue;Ze++)for(let Ve=0;Ve<Ae;Ve++){const Ke=Ve*(le-1)/Ae,tt=Math.floor(Ke),Qe=Ke-tt,et=4*(Ze*le+tt),$e=4*(Ze*Ae+Ve);for(let it=0;it<4;it++){const nt=et+it,kt=tt>0?ee[nt-4]:2*ee[nt]-ee[nt+4],At=ee[nt],St=ee[nt+4],Bt=tt<le-2?ee[nt+8]:2*ee[nt+4]-ee[nt];Le[$e+it]=q(kt,At,St,Bt,Qe)}}const Oe=pr.alloc(Ae*Ue*4);for(let Ze=0;Ze<Ue;Ze++)for(let Ve=0;Ve<Ae;Ve++){const Ke=Ze*(ue-1)/Ue,tt=Math.floor(Ke),Qe=Ke-tt,et=4*(tt*Ae+Ve),$e=4*(Ze*Ae+Ve);for(let it=0;it<4;it++){const nt=et+it,kt=tt>0?Le[nt-4*Ae]:2*Le[nt]-Le[nt+4*Ae],At=Le[nt],St=Le[nt+4*Ae],Bt=tt<ue-2?Le[nt+8*Ae]:2*Le[nt+4*Ae]-Le[nt];Oe[$e+it]=q(kt,At,St,Bt,Qe)}}const Ge=Ie*Fe;if(Ge>1)for(let Ze=0;Ze<ve;Ze++)for(let Ve=0;Ve<pe;Ve++){let Ke=0,tt=0,Qe=0,et=0,$e=0;for(let nt=0;nt<Fe;nt++){const kt=Ze*Fe+nt;for(let At=0;At<Ie;At++){const St=4*(kt*Ae+(Ve*Ie+At)),Bt=Oe[St+3];Bt&&(Ke+=Oe[St],tt+=Oe[St+1],Qe+=Oe[St+2],$e++),et+=Bt}}const it=4*(Ze*pe+Ve);se[it]=$e?Math.round(Ke/$e):0,se[it+1]=$e?Math.round(tt/$e):0,se[it+2]=$e?Math.round(Qe/$e):0,se[it+3]=Math.round(et/Ge)}else x.data=Oe},bicubicInterpolation(w,x,N){return this._interpolate2D(w,x,N,function(q,ee,se,le,ue){const pe=le-se-q+ee,ve=q-ee-pe,Ie=se-q,Ae=ee;return Math.max(0,Math.min(255,pe*(ue*ue*ue)+ve*(ue*ue)+Ie*ue+Ae))})},hermiteInterpolation(w,x,N){return this._interpolate2D(w,x,N,function(q,ee,se,le,ue){const pe=ee,ve=.5*(se-q),Ie=q-2.5*ee+2*se-.5*le,Ae=.5*(le-q)+1.5*(ee-se);return Math.max(0,Math.min(255,Math.round(((Ae*ue+Ie)*ue+ve)*ue+pe)))})},bezierInterpolation(w,x,N){return this._interpolate2D(w,x,N,function(q,ee,se,le,ue){const pe=1-ue,ve=ee*pe*pe*pe,Ie=3*(ee+(se-q)/4)*pe*pe*ue,Ae=3*(se-(le-ee)/4)*pe*ue*ue,Fe=se*ue*ue*ue;return Math.max(0,Math.min(255,Math.round(ve+Ie+Ae+Fe)))})}},mr=Ur;var gr=__webpack_require__(8834).lW,br=__webpack_require__(8834).lW;function Dr(w){if(Math.abs(w)%90!=0)throw new Error("Unsupported matrix rotation degree");if(w%=360,Math.abs(w)===0)return;const x=this.bitmap.width,N=this.bitmap.height;let q;switch(w){case 90:case-270:q=90;break;case 180:case-180:q=180;break;case 270:case-90:q=-90;break;default:throw new Error("Unsupported matrix rotation degree")}const ee=q===180?x:N,se=q===180?N:x,le=br.alloc(this.bitmap.data.length);function ue(Ie,Ae){return function(Fe,Ue){return Ue*Ie+Fe<<2}}const pe=ue(x),ve=ue(ee);for(let Ie=0;Ie<x;Ie++)for(let Ae=0;Ae<N;Ae++){const Fe=pe(Ie,Ae),Ue=this.bitmap.data.readUInt32BE(Fe);let Le;switch(q){case 90:Le=ve(Ae,x-Ie-1);break;case-90:Le=ve(N-Ae-1,Ie);break;case 180:Le=ve(x-Ie-1,N-Ae-1);break;default:throw new Error("Unsupported matrix rotation angle")}le.writeUInt32BE(Ue,Le)}this.bitmap.data=le,this.bitmap.width=ee,this.bitmap.height=se}function zr(w,x){const N=(w%=360)*Math.PI/180,q=Math.cos(N),ee=Math.sin(N);let se=this.bitmap.width,le=this.bitmap.height;if(x===!0||typeof x=="string"){se=Math.ceil(Math.abs(this.bitmap.width*q)+Math.abs(this.bitmap.height*ee))+1,le=Math.ceil(Math.abs(this.bitmap.width*ee)+Math.abs(this.bitmap.height*q))+1,se%2!=0&&se++,le%2!=0&&le++;const Ue=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(Oe,Ge,Ze){this.bitmap.data.writeUInt32BE(this._background,Ze)});const Le=Math.max(se,le,this.bitmap.width,this.bitmap.height);this.resize(Le,Le,x),this.blit(Ue,this.bitmap.width/2-Ue.bitmap.width/2,this.bitmap.height/2-Ue.bitmap.height/2)}const ue=this.bitmap.width,pe=this.bitmap.height,ve=br.alloc(this.bitmap.data.length);function Ie(Ue,Le){return function(Oe,Ge){return{x:Oe+Ue,y:Ge+Le}}}const Ae=Ie(-ue/2,-pe/2),Fe=Ie(ue/2+.5,pe/2+.5);for(let Ue=1;Ue<=pe;Ue++)for(let Le=1;Le<=ue;Le++){const Oe=Ae(Le,Ue),Ge=Fe(q*Oe.x-ee*Oe.y,q*Oe.y+ee*Oe.x),Ze=ue*(Ue-1)+Le-1<<2;if(Ge.x>=0&&Ge.x<ue&&Ge.y>=0&&Ge.y<pe){const Ve=(ue*(0|Ge.y)+Ge.x|0)<<2,Ke=this.bitmap.data.readUInt32BE(Ve);ve.writeUInt32BE(Ke,Ze)}else ve.writeUInt32BE(this._background,Ze)}if(this.bitmap.data=ve,x===!0||typeof x=="string"){const Ue=ue/2-se/2,Le=pe/2-le/2;this.crop(Ue,Le,se,le)}}const Nr=[()=>({blit(w,x,N,q,ee,se,le,ue){if(!(w instanceof this.constructor))return r.call(this,"The source must be a Jimp image",ue);if(typeof x!="number"||typeof N!="number")return r.call(this,"x and y must be numbers",ue);if(typeof q=="function")ue=q,q=0,ee=0,se=w.bitmap.width,le=w.bitmap.height;else{if(typeof q!=typeof ee||typeof ee!=typeof se||typeof se!=typeof le)return r.call(this,"srcx, srcy, srcw, srch must be numbers",ue);q=q||0,ee=ee||0,se=se||w.bitmap.width,le=le||w.bitmap.height}x=Math.round(x),N=Math.round(N),q=Math.round(q),ee=Math.round(ee),se=Math.round(se),le=Math.round(le);const pe=this.bitmap.width,ve=this.bitmap.height,Ie=this;return w.scanQuiet(q,ee,se,le,function(Ae,Fe,Ue){const Le=x+Ae-q,Oe=N+Fe-ee;if(Le>=0&&Oe>=0&&pe-Le>0&&ve-Oe>0){const Ge=Ie.getPixelIndex(Le,Oe),Ze={r:this.bitmap.data[Ue],g:this.bitmap.data[Ue+1],b:this.bitmap.data[Ue+2],a:this.bitmap.data[Ue+3]},Ve={r:Ie.bitmap.data[Ge],g:Ie.bitmap.data[Ge+1],b:Ie.bitmap.data[Ge+2],a:Ie.bitmap.data[Ge+3]};Ie.bitmap.data[Ge]=(Ze.a*(Ze.r-Ve.r)-Ve.r+255>>8)+Ve.r,Ie.bitmap.data[Ge+1]=(Ze.a*(Ze.g-Ve.g)-Ve.g+255>>8)+Ve.g,Ie.bitmap.data[Ge+2]=(Ze.a*(Ze.b-Ve.b)-Ve.b+255>>8)+Ve.b,Ie.bitmap.data[Ge+3]=this.constructor.limit255(Ve.a+Ze.a)}}),n(ue)&&ue.call(this,null,this),this}}),()=>({blur(w,x){if(typeof w!="number")return r.call(this,"r must be a number",x);if(w<1)return r.call(this,"r must be greater than 0",x);let N,q,ee,se,le,ue,pe,ve,Ie,Ae,Fe,Ue,Le,Oe;const Ge=this.bitmap.width-1,Ze=this.bitmap.height-1,Ve=w+1,Ke=Ar[w],tt=Sr[w],Qe=[],et=[],$e=[],it=[],nt=[],kt=[];let At=2;for(;At-- >0;){for(Ue=0,Le=0,ue=0;ue<this.bitmap.height;ue++){for(N=this.bitmap.data[Le]*Ve,q=this.bitmap.data[Le+1]*Ve,ee=this.bitmap.data[Le+2]*Ve,se=this.bitmap.data[Le+3]*Ve,pe=1;pe<=w;pe++)ve=Le+((pe>Ge?Ge:pe)<<2),N+=this.bitmap.data[ve++],q+=this.bitmap.data[ve++],ee+=this.bitmap.data[ve++],se+=this.bitmap.data[ve];for(le=0;le<this.bitmap.width;le++)Qe[Ue]=N,et[Ue]=q,$e[Ue]=ee,it[Ue]=se,ue===0&&(nt[le]=((ve=le+Ve)<Ge?ve:Ge)<<2,kt[le]=(ve=le-w)>0?ve<<2:0),Ie=Le+nt[le],Ae=Le+kt[le],N+=this.bitmap.data[Ie++]-this.bitmap.data[Ae++],q+=this.bitmap.data[Ie++]-this.bitmap.data[Ae++],ee+=this.bitmap.data[Ie++]-this.bitmap.data[Ae++],se+=this.bitmap.data[Ie]-this.bitmap.data[Ae],Ue++;Le+=this.bitmap.width<<2}for(le=0;le<this.bitmap.width;le++){for(Fe=le,N=Qe[Fe]*Ve,q=et[Fe]*Ve,ee=$e[Fe]*Ve,se=it[Fe]*Ve,pe=1;pe<=w;pe++)Fe+=pe>Ze?0:this.bitmap.width,N+=Qe[Fe],q+=et[Fe],ee+=$e[Fe],se+=it[Fe];for(Ue=le<<2,ue=0;ue<this.bitmap.height;ue++)Oe=se*Ke>>>tt,this.bitmap.data[Ue+3]=Oe,Oe>255&&(this.bitmap.data[Ue+3]=255),Oe>0?(Oe=255/Oe,this.bitmap.data[Ue]=(N*Ke>>>tt)*Oe,this.bitmap.data[Ue+1]=(q*Ke>>>tt)*Oe,this.bitmap.data[Ue+2]=(ee*Ke>>>tt)*Oe):(this.bitmap.data[Ue+2]=0,this.bitmap.data[Ue+1]=0,this.bitmap.data[Ue]=0),le===0&&(nt[ue]=((ve=ue+Ve)<Ze?ve:Ze)*this.bitmap.width,kt[ue]=(ve=ue-w)>0?ve*this.bitmap.width:0),Ie=le+nt[ue],Ae=le+kt[ue],N+=Qe[Ie]-Qe[Ae],q+=et[Ie]-et[Ae],ee+=$e[Ie]-$e[Ae],se+=it[Ie]-it[Ae],Ue+=this.bitmap.width<<2}}return n(x)&&x.call(this,null,this),this}}),()=>({circle(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=arguments.length>1?arguments[1]:void 0;typeof w=="function"&&(x=w,w={});const N=w.radius||(this.bitmap.width>this.bitmap.height?this.bitmap.height:this.bitmap.width)/2,q=typeof w.x=="number"?w.x:this.bitmap.width/2,ee=typeof w.y=="number"?w.y:this.bitmap.height/2;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(se,le,ue){const pe=Math.sqrt(Math.pow(se-q,2)+Math.pow(le-ee,2));N-pe<=0?this.bitmap.data[ue+3]=0:N-pe<1&&(this.bitmap.data[ue+3]=255*(N-pe))}),n(x)&&x.call(this,null,this),this}}),()=>({brightness(w,x){return typeof w!="number"?r.call(this,"val must be numbers",x):w<-1||w>1?r.call(this,"val must be a number between -1 and +1",x):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(N,q,ee){w<0?(this.bitmap.data[ee]*=1+w,this.bitmap.data[ee+1]*=1+w,this.bitmap.data[ee+2]*=1+w):(this.bitmap.data[ee]+=(255-this.bitmap.data[ee])*w,this.bitmap.data[ee+1]+=(255-this.bitmap.data[ee+1])*w,this.bitmap.data[ee+2]+=(255-this.bitmap.data[ee+2])*w)}),n(x)&&x.call(this,null,this),this)},contrast(w,x){if(typeof w!="number")return r.call(this,"val must be numbers",x);if(w<-1||w>1)return r.call(this,"val must be a number between -1 and +1",x);const N=(w+1)/(1-w);function q(ee){return(ee=Math.floor(N*(ee-127)+127))<0?0:ee>255?255:ee}return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(ee,se,le){this.bitmap.data[le]=q(this.bitmap.data[le]),this.bitmap.data[le+1]=q(this.bitmap.data[le+1]),this.bitmap.data[le+2]=q(this.bitmap.data[le+2])}),n(x)&&x.call(this,null,this),this},posterize(w,x){return typeof w!="number"?r.call(this,"n must be numbers",x):(w<2&&(w=2),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(N,q,ee){this.bitmap.data[ee]=Math.floor(this.bitmap.data[ee]/255*(w-1))/(w-1)*255,this.bitmap.data[ee+1]=Math.floor(this.bitmap.data[ee+1]/255*(w-1))/(w-1)*255,this.bitmap.data[ee+2]=Math.floor(this.bitmap.data[ee+2]/255*(w-1))/(w-1)*255}),n(x)&&x.call(this,null,this),this)},greyscale:hr,grayscale:hr,opacity(w,x){return typeof w!="number"?r.call(this,"f must be a number",x):w<0||w>1?r.call(this,"f must be a number from 0 to 1",x):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(N,q,ee){const se=this.bitmap.data[ee+3]*w;this.bitmap.data[ee+3]=se}),n(x)&&x.call(this,null,this),this)},sepia(w){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(x,N,q){let ee=this.bitmap.data[q],se=this.bitmap.data[q+1],le=this.bitmap.data[q+2];ee=.393*ee+.769*se+.189*le,se=.349*ee+.686*se+.168*le,le=.272*ee+.534*se+.131*le,this.bitmap.data[q]=ee<255?ee:255,this.bitmap.data[q+1]=se<255?se:255,this.bitmap.data[q+2]=le<255?le:255}),n(w)&&w.call(this,null,this),this},fade(w,x){return typeof w!="number"?r.call(this,"f must be a number",x):w<0||w>1?r.call(this,"f must be a number from 0 to 1",x):(this.opacity(1-w),n(x)&&x.call(this,null,this),this)},convolution(w,x,N){typeof x=="function"&&N===void 0&&(N=x,x=null),x||(x=this.constructor.EDGE_EXTEND);const q=Ir.from(this.bitmap.data),ee=w.length,se=w[0].length,le=Math.floor(ee/2),ue=Math.floor(se/2),pe=-le,ve=-ue;let Ie,Ae,Fe,Ue,Le,Oe,Ge,Ze,Ve,Ke;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(tt,Qe,et){Ue=0,Fe=0,Ae=0;for(let $e=pe;$e<=le;$e++)for(let it=ve;it<=ue;it++)Ze=tt+it,Ve=Qe+$e,Ie=w[$e+le][it+ue],Ke=this.getPixelIndex(Ze,Ve,x),Ke===-1?(Ge=0,Oe=0,Le=0):(Le=this.bitmap.data[Ke+0],Oe=this.bitmap.data[Ke+1],Ge=this.bitmap.data[Ke+2]),Ae+=Ie*Le,Fe+=Ie*Oe,Ue+=Ie*Ge;Ae<0&&(Ae=0),Fe<0&&(Fe=0),Ue<0&&(Ue=0),Ae>255&&(Ae=255),Fe>255&&(Fe=255),Ue>255&&(Ue=255),q[et+0]=Ae,q[et+1]=Fe,q[et+2]=Ue}),this.bitmap.data=q,n(N)&&N.call(this,null,this),this},opaque(w){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(x,N,q){this.bitmap.data[q+3]=255}),n(w)&&w.call(this,null,this),this},pixelate(w,x,N,q,ee,se){if(typeof x=="function")se=x,ee=null,q=null,N=null,x=null;else{if(typeof w!="number")return r.call(this,"size must be a number",se);if(wt(x)&&typeof x!="number")return r.call(this,"x must be a number",se);if(wt(N)&&typeof N!="number")return r.call(this,"y must be a number",se);if(wt(q)&&typeof q!="number")return r.call(this,"w must be a number",se);if(wt(ee)&&typeof ee!="number")return r.call(this,"h must be a number",se)}const le=[[1/16,2/16,1/16],[2/16,.25,2/16],[1/16,2/16,1/16]];x=x||0,N=N||0,q=wt(q)?q:this.bitmap.width-x,ee=wt(ee)?ee:this.bitmap.height-N;const ue=this.cloneQuiet();return this.scanQuiet(x,N,q,ee,function(pe,ve,Ie){pe=w*Math.floor(pe/w),ve=w*Math.floor(ve/w);const Ae=sr(ue,le,pe,ve);this.bitmap.data[Ie]=Ae[0],this.bitmap.data[Ie+1]=Ae[1],this.bitmap.data[Ie+2]=Ae[2]}),n(se)&&se.call(this,null,this),this},convolute(w,x,N,q,ee,se){if(!Array.isArray(w))return r.call(this,"the kernel must be an array",se);if(typeof x=="function")se=x,x=null,N=null,q=null,ee=null;else{if(wt(x)&&typeof x!="number")return r.call(this,"x must be a number",se);if(wt(N)&&typeof N!="number")return r.call(this,"y must be a number",se);if(wt(q)&&typeof q!="number")return r.call(this,"w must be a number",se);if(wt(ee)&&typeof ee!="number")return r.call(this,"h must be a number",se)}const le=(w.length-1)/2;x=wt(x)?x:le,N=wt(N)?N:le,q=wt(q)?q:this.bitmap.width-x,ee=wt(ee)?ee:this.bitmap.height-N;const ue=this.cloneQuiet();return this.scanQuiet(x,N,q,ee,function(pe,ve,Ie){const Ae=sr(ue,w,pe,ve);this.bitmap.data[Ie]=this.constructor.limit255(Ae[0]),this.bitmap.data[Ie+1]=this.constructor.limit255(Ae[1]),this.bitmap.data[Ie+2]=this.constructor.limit255(Ae[2])}),n(se)&&se.call(this,null,this),this},color:fr,colour:fr}),()=>({contain(w,x,N,q,ee){if(typeof w!="number"||typeof x!="number")return r.call(this,"w and h must be numbers",ee);typeof N=="string"&&(typeof q=="function"&&ee===void 0&&(ee=q),q=N,N=null),typeof N=="function"&&(ee===void 0&&(ee=N),q=null,N=null),typeof q=="function"&&ee===void 0&&(ee=q,q=null);const se=7&(N=N||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE),le=N>>3;if((se===0||se&se-1)&&(le===0||le&le-1))return r.call(this,"only use one flag per alignment direction",ee);const ue=se>>1,pe=le>>1,ve=w/x>this.bitmap.width/this.bitmap.height?x/this.bitmap.height:w/this.bitmap.width,Ie=this.cloneQuiet().scale(ve,q);return this.resize(w,x,q),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(Ae,Fe,Ue){this.bitmap.data.writeUInt32BE(this._background,Ue)}),this.blit(Ie,(this.bitmap.width-Ie.bitmap.width)/2*ue,(this.bitmap.height-Ie.bitmap.height)/2*pe),n(ee)&&ee.call(this,null,this),this}}),()=>({cover(w,x,N,q,ee){if(typeof w!="number"||typeof x!="number")return r.call(this,"w and h must be numbers",ee);N&&typeof N=="function"&&ee===void 0?(ee=N,N=null,q=null):typeof q=="function"&&ee===void 0&&(ee=q,q=null);const se=7&(N=N||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE),le=N>>3;if((se===0||se&se-1)&&(le===0||le&le-1))return r.call(this,"only use one flag per alignment direction",ee);const ue=se>>1,pe=le>>1,ve=w/x>this.bitmap.width/this.bitmap.height?w/this.bitmap.width:x/this.bitmap.height;return this.scale(ve,q),this.crop((this.bitmap.width-w)/2*ue,(this.bitmap.height-x)/2*pe,w,x),n(ee)&&ee.call(this,null,this),this}}),function(w){return w("crop",function(x,N,q,ee,se){if(typeof x!="number"||typeof N!="number")return r.call(this,"x and y must be numbers",se);if(typeof q!="number"||typeof ee!="number")return r.call(this,"w and h must be numbers",se);if(x=Math.round(x),N=Math.round(N),q=Math.round(q),ee=Math.round(ee),x===0&&q===this.bitmap.width){const le=q*N+x<<2,ue=le+(ee*q<<2);this.bitmap.data=this.bitmap.data.slice(le,ue)}else{const le=Br.allocUnsafe(q*ee*4);let ue=0;this.scanQuiet(x,N,q,ee,function(pe,ve,Ie){const Ae=this.bitmap.data.readUInt32BE(Ie,!0);le.writeUInt32BE(Ae,ue,!0),ue+=4}),this.bitmap.data=le}return this.bitmap.width=q,this.bitmap.height=ee,n(se)&&se.call(this,null,this),this}),{class:{autocrop(){const x=this.bitmap.width,N=this.bitmap.height;let q,ee=0,se=2e-4,le=!0,ue=!1,pe={north:!1,south:!1,east:!1,west:!1};for(var ve=arguments.length,Ie=new Array(ve),Ae=0;Ae<ve;Ae++)Ie[Ae]=arguments[Ae];for(let Qe=0,et=Ie.length;Qe<et;Qe++)if(typeof Ie[Qe]=="number"&&(se=Ie[Qe]),typeof Ie[Qe]=="boolean"&&(le=Ie[Qe]),typeof Ie[Qe]=="function"&&(q=Ie[Qe]),typeof Ie[Qe]=="object"){const $e=Ie[Qe];$e.tolerance!==void 0&&({tolerance:se}=$e),$e.cropOnlyFrames!==void 0&&({cropOnlyFrames:le}=$e),$e.cropSymmetric!==void 0&&({cropSymmetric:ue}=$e),$e.leaveBorder!==void 0&&({leaveBorder:ee}=$e),$e.ignoreSides!==void 0&&({ignoreSides:pe}=$e)}let Fe=this.getPixelColor(0,0);const Ue=this.constructor.intToRGBA(Fe);let Le=0,Oe=0,Ge=0,Ze=0;if(Fe=this.getPixelColor(0,0),!pe.north)e:for(let Qe=0;Qe<N-1;Qe++){for(let et=0;et<x;et++){const $e=this.getPixelColor(et,Qe),it=this.constructor.intToRGBA($e);if(this.constructor.colorDiff(Ue,it)>se)break e}Le++}if(Fe=this.getPixelColor(x,0),!pe.east)e:for(let Qe=0;Qe<x-1;Qe++){for(let et=0+Le;et<N;et++){const $e=this.getPixelColor(Qe,et),it=this.constructor.intToRGBA($e);if(this.constructor.colorDiff(Ue,it)>se)break e}Oe++}if(Fe=this.getPixelColor(0,N),!pe.south)e:for(let Qe=N-1;Qe>=Le+1;Qe--){for(let et=x-Oe-1;et>=0;et--){const $e=this.getPixelColor(et,Qe),it=this.constructor.intToRGBA($e);if(this.constructor.colorDiff(Ue,it)>se)break e}Ge++}if(Fe=this.getPixelColor(x,N),!pe.west)e:for(let Qe=x-1;Qe>=0+Oe+1;Qe--){for(let et=N-1;et>=0+Le;et--){const $e=this.getPixelColor(Qe,et),it=this.constructor.intToRGBA($e);if(this.constructor.colorDiff(Ue,it)>se)break e}Ze++}let Ve=!1;if(Ze-=ee,Oe-=ee,Le-=ee,Ge-=ee,ue){const Qe=Math.min(Oe,Ze),et=Math.min(Le,Ge);Ze=Qe,Oe=Qe,Le=et,Ge=et}Ze=Ze>=0?Ze:0,Oe=Oe>=0?Oe:0,Le=Le>=0?Le:0,Ge=Ge>=0?Ge:0;const Ke=x-(Ze+Oe),tt=N-(Ge+Le);return Ve=le?Oe!==0&&Le!==0&&Ze!==0&&Ge!==0:Oe!==0||Le!==0||Ze!==0||Ge!==0,Ve&&this.crop(Oe,Le,Ke,tt),n(q)&&q.call(this,null,this),this}}}},()=>({displace(w,x,N){if(typeof w!="object"||w.constructor!==this.constructor)return r.call(this,"The source must be a Jimp image",N);if(typeof x!="number")return r.call(this,"factor must be a number",N);const q=this.cloneQuiet();return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(ee,se,le){let ue=w.bitmap.data[le]/256*x;ue=Math.round(ue);const pe=this.getPixelIndex(ee+ue,se);this.bitmap.data[pe]=q.bitmap.data[le],this.bitmap.data[pe+1]=q.bitmap.data[le+1],this.bitmap.data[pe+2]=q.bitmap.data[le+2]}),n(N)&&N.call(this,null,this),this}}),()=>({dither565:ur,dither16:ur}),()=>({fisheye(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{r:2.5},x=arguments.length>1?arguments[1]:void 0;typeof w=="function"&&(x=w,w={r:2.5});const N=this.cloneQuiet(),{width:q,height:ee}=N.bitmap;return N.scanQuiet(0,0,q,ee,(se,le)=>{const ue=se/q,pe=le/ee,ve=Math.sqrt(Math.pow(ue-.5,2)+Math.pow(pe-.5,2)),Ie=2*Math.pow(ve,w.r),Ae=(ue-.5)/ve,Fe=(pe-.5)/ve,Ue=Math.round((Ie*Ae+.5)*q),Le=Math.round((Ie*Fe+.5)*ee),Oe=N.getPixelColor(Ue,Le);this.setPixelColor(Oe,se,le)}),this.setPixelColor(N.getPixelColor(q/2,ee/2),q/2,ee/2),n(x)&&x.call(this,null,this),this}}),()=>({flip:cr,mirror:cr}),()=>({gaussian(w,x){if(typeof w!="number")return r.call(this,"r must be a number",x);if(w<1)return r.call(this,"r must be greater than 0",x);const N=Math.ceil(2.57*w),q=2*N+1,ee=w*w*2,se=ee*Math.PI,le=[];for(let ue=0;ue<q;ue++){le[ue]=[];for(let pe=0;pe<q;pe++){const ve=(pe-N)**2+(ue-N)**2;le[ue][pe]=Math.exp(-ve/ee)/se}}for(let ue=0;ue<this.bitmap.height;ue++)for(let pe=0;pe<this.bitmap.width;pe++){let ve=0,Ie=0,Ae=0,Fe=0,Ue=0;for(let Le=0;Le<q;Le++){for(let Ge=0;Ge<q;Ge++){const Ze=Math.min(this.bitmap.width-1,Math.max(0,Ge+pe-N)),Ve=Math.min(this.bitmap.height-1,Math.max(0,Le+ue-N)),Ke=le[Le][Ge],tt=Ve*this.bitmap.width+Ze<<2;ve+=this.bitmap.data[tt]*Ke,Ie+=this.bitmap.data[tt+1]*Ke,Ae+=this.bitmap.data[tt+2]*Ke,Fe+=this.bitmap.data[tt+3]*Ke,Ue+=Ke}const Oe=ue*this.bitmap.width+pe<<2;this.bitmap.data[Oe]=Math.round(ve/Ue),this.bitmap.data[Oe+1]=Math.round(Ie/Ue),this.bitmap.data[Oe+2]=Math.round(Ae/Ue),this.bitmap.data[Oe+3]=Math.round(Fe/Ue)}}return n(x)&&x.call(this,null,this),this}}),()=>({invert(w){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(x,N,q){this.bitmap.data[q]=255-this.bitmap.data[q],this.bitmap.data[q+1]=255-this.bitmap.data[q+1],this.bitmap.data[q+2]=255-this.bitmap.data[q+2]}),n(w)&&w.call(this,null,this),this}}),()=>({mask(w){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,q=arguments.length>3?arguments[3]:void 0;if(!(w instanceof this.constructor))return r.call(this,"The source must be a Jimp image",q);if(typeof x!="number"||typeof N!="number")return r.call(this,"x and y must be numbers",q);x=Math.round(x),N=Math.round(N);const ee=this.bitmap.width,se=this.bitmap.height,le=this;return w.scanQuiet(0,0,w.bitmap.width,w.bitmap.height,function(ue,pe,ve){const Ie=x+ue,Ae=N+pe;if(Ie>=0&&Ae>=0&&Ie<ee&&Ae<se){const Fe=le.getPixelIndex(Ie,Ae),{data:Ue}=this.bitmap,Le=(Ue[ve+0]+Ue[ve+1]+Ue[ve+2])/3;le.bitmap.data[Fe+3]*=Le/255}}),n(q)&&q.call(this,null,this),this}}),()=>({normalize(w){const x=Tr.call(this),N={r:Xt(x.r),g:Xt(x.g),b:Xt(x.b)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(q,ee,se){const le=this.bitmap.data[se+0],ue=this.bitmap.data[se+1],pe=this.bitmap.data[se+2];this.bitmap.data[se+0]=Qt(le,N.r[0],N.r[1]),this.bitmap.data[se+1]=Qt(ue,N.g[0],N.g[1]),this.bitmap.data[se+2]=Qt(pe,N.b[0],N.b[1])}),n(w)&&w.call(this,null,this),this}}),()=>({constants:{measureText:Wt,measureTextHeight:Jt,FONT_SANS_8_BLACK:u().join(vt,"fonts/open-sans/open-sans-8-black/open-sans-8-black.fnt"),FONT_SANS_10_BLACK:u().join(vt,"fonts/open-sans/open-sans-10-black/open-sans-10-black.fnt"),FONT_SANS_12_BLACK:u().join(vt,"fonts/open-sans/open-sans-12-black/open-sans-12-black.fnt"),FONT_SANS_14_BLACK:u().join(vt,"fonts/open-sans/open-sans-14-black/open-sans-14-black.fnt"),FONT_SANS_16_BLACK:u().join(vt,"fonts/open-sans/open-sans-16-black/open-sans-16-black.fnt"),FONT_SANS_32_BLACK:u().join(vt,"fonts/open-sans/open-sans-32-black/open-sans-32-black.fnt"),FONT_SANS_64_BLACK:u().join(vt,"fonts/open-sans/open-sans-64-black/open-sans-64-black.fnt"),FONT_SANS_128_BLACK:u().join(vt,"fonts/open-sans/open-sans-128-black/open-sans-128-black.fnt"),FONT_SANS_8_WHITE:u().join(vt,"fonts/open-sans/open-sans-8-white/open-sans-8-white.fnt"),FONT_SANS_16_WHITE:u().join(vt,"fonts/open-sans/open-sans-16-white/open-sans-16-white.fnt"),FONT_SANS_32_WHITE:u().join(vt,"fonts/open-sans/open-sans-32-white/open-sans-32-white.fnt"),FONT_SANS_64_WHITE:u().join(vt,"fonts/open-sans/open-sans-64-white/open-sans-64-white.fnt"),FONT_SANS_128_WHITE:u().join(vt,"fonts/open-sans/open-sans-128-white/open-sans-128-white.fnt"),loadFont(w,x){return typeof w!="string"?r.call(this,"file must be a string",x):new Promise((N,q)=>{x=x||function(ee,se){ee?q(ee):N(se)},Lr()(w,(ee,se)=>{const le={},ue={};if(ee)return r.call(this,ee,x);for(let pe=0;pe<se.chars.length;pe++)le[String.fromCharCode(se.chars[pe].id)]=se.chars[pe];for(let pe=0;pe<se.kernings.length;pe++){const ve=String.fromCharCode(se.kernings[pe].first);ue[ve]=ue[ve]||{},ue[ve][String.fromCharCode(se.kernings[pe].second)]=se.kernings[pe].amount}(function(pe,ve,Ie){const Ae=Ie.map(Fe=>pe.read(ve+"/"+Fe));return Promise.all(Ae)})(this,u().dirname(w),se.pages).then(pe=>{x(null,{chars:le,kernings:ue,pages:pe,common:se.common,info:se.info})})})})}},class:{print(w,x,N,q,ee,se,le){if(typeof ee=="function"&&le===void 0&&(le=ee,ee=1/0),ee===void 0&&(ee=1/0),typeof se=="function"&&le===void 0&&(le=se,se=1/0),se===void 0&&(se=1/0),typeof w!="object")return r.call(this,"font must be a Jimp loadFont",le);if(typeof x!="number"||typeof N!="number"||typeof ee!="number")return r.call(this,"x, y and maxWidth must be numbers",le);if(typeof ee!="number")return r.call(this,"maxWidth must be a number",le);if(typeof se!="number")return r.call(this,"maxHeight must be a number",le);let ue,pe;typeof q=="object"&&q.text!==null&&q.text!==void 0?(ue=q.alignmentX||this.constructor.HORIZONTAL_ALIGN_LEFT,pe=q.alignmentY||this.constructor.VERTICAL_ALIGN_TOP,{text:q}=q):(ue=this.constructor.HORIZONTAL_ALIGN_LEFT,pe=this.constructor.VERTICAL_ALIGN_TOP,q=q.toString()),se!==1/0&&pe===this.constructor.VERTICAL_ALIGN_BOTTOM?N+=se-Jt(w,q,ee):se!==1/0&&pe===this.constructor.VERTICAL_ALIGN_MIDDLE&&(N+=se/2-Jt(w,q,ee)/2);const ve=Object.entries(w.chars)[0][1].xadvance,{lines:Ie,longestLine:Ae}=dr(w,q,ee);return Ie.forEach(Fe=>{const Ue=Fe.join(" "),Le=function(Oe,Ge,Ze,Ve,Ke){return Ke===Oe.HORIZONTAL_ALIGN_LEFT?0:Ke===Oe.HORIZONTAL_ALIGN_CENTER?(Ve-Wt(Ge,Ze))/2:Ve-Wt(Ge,Ze)}(this.constructor,w,Ue,ee,ue);Or.call(this,w,x+Le,N,Ue,ve),N+=w.common.lineHeight}),n(le)&&le.call(this,null,this,{x:x+Ae,y:N}),this}}}),()=>({constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize(w,x,N,q){if(typeof w!="number"||typeof x!="number")return r.call(this,"w and h must be numbers",q);if(typeof N=="function"&&q===void 0&&(q=N,N=null),w===this.constructor.AUTO&&x===this.constructor.AUTO)return r.call(this,"w and h cannot both be set to auto",q);if(w===this.constructor.AUTO&&(w=this.bitmap.width*(x/this.bitmap.height)),x===this.constructor.AUTO&&(x=this.bitmap.height*(w/this.bitmap.width)),w<0||x<0)return r.call(this,"w and h must be positive numbers",q);if(w=Math.round(w)||1,x=Math.round(x)||1,typeof mr[N]=="function"){const ee={data:gr.alloc(w*x*4),width:w,height:x};mr[N](this.bitmap,ee),this.bitmap=ee}else{const ee=this;new Cr(this.bitmap.width,this.bitmap.height,w,x,!0,!0,se=>{ee.bitmap.data=gr.from(se),ee.bitmap.width=w,ee.bitmap.height=x}).resize(this.bitmap.data)}return n(q)&&q.call(this,null,this),this}}}),()=>({rotate(w,x,N){return x==null&&(x=!0),typeof x=="function"&&N===void 0&&(N=x,x=!0),typeof w!="number"?r.call(this,"deg must be a number",N):typeof x!="boolean"&&typeof x!="string"?r.call(this,"mode must be a boolean or a string",N):(Math.abs(w%90)===0?Dr.call(this,w):zr.call(this,w,x,N),n(N)&&N.call(this,null,this),this)}}),()=>({scale(w,x,N){if(typeof w!="number")return r.call(this,"f must be a number",N);if(w<0)return r.call(this,"f must be a positive number",N);typeof x=="function"&&N===void 0&&(N=x,x=null);const q=this.bitmap.width*w,ee=this.bitmap.height*w;return this.resize(q,ee,x),n(N)&&N.call(this,null,this),this},scaleToFit(w,x,N,q){if(typeof w!="number"||typeof x!="number")return r.call(this,"w and h must be numbers",q);typeof N=="function"&&q===void 0&&(q=N,N=null);const ee=w/x>this.bitmap.width/this.bitmap.height?x/this.bitmap.height:w/this.bitmap.width;return this.scale(ee,N),n(q)&&q.call(this,null,this),this}}),()=>({shadow(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=arguments.length>1?arguments[1]:void 0;typeof w=="function"&&(x=w,w={});const{opacity:N=.7,size:q=1.1,x:ee=-25,y:se=25,blur:le=5}=w,ue=this.clone(),pe=this.clone();return pe.scan(0,0,pe.bitmap.width,pe.bitmap.height,(ve,Ie,Ae)=>{pe.bitmap.data[Ae]=0,pe.bitmap.data[Ae+1]=0,pe.bitmap.data[Ae+2]=0,pe.bitmap.data[Ae+3]=pe.constructor.limit255(pe.bitmap.data[Ae+3]*N),this.bitmap.data[Ae]=0,this.bitmap.data[Ae+1]=0,this.bitmap.data[Ae+2]=0,this.bitmap.data[Ae+3]=0}),pe.resize(pe.bitmap.width*q,pe.bitmap.height*q).blur(le),this.composite(pe,ee,se),this.composite(ue,0,0),n(x)&&x.call(this,null,this),this}}),()=>({threshold(w,x){let{max:N,replace:q=255,autoGreyscale:ee=!0}=w;return typeof N!="number"?r.call(this,"max must be a number",x):typeof q!="number"?r.call(this,"replace must be a number",x):typeof ee!="boolean"?r.call(this,"autoGreyscale must be a boolean",x):(N=this.constructor.limit255(N),q=this.constructor.limit255(q),ee&&this.greyscale(),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(se,le,ue)=>{const pe=this.bitmap.data[ue]<N?this.bitmap.data[ue]:q;this.bitmap.data[ue]=pe,this.bitmap.data[ue+1]=pe,this.bitmap.data[ue+2]=pe}),n(x)&&x.call(this,null,this),this)}})];(function(w){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_r;const N={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function q(ee){Object.entries(ee).forEach(se=>{let[le,ue]=se;N[le]={...N[le],...ue}})}w.types&&(w.types.forEach(function(ee){const se=ee();Array.isArray(se.mime)?bt(...se.mime):Object.entries(se.mime).forEach(le=>bt(...le)),delete se.mime,q(se)}),x.decoders={...x.decoders,...N.decoders},x.encoders={...x.encoders,...N.encoders},x.hasAlpha={...x.hasAlpha,...N.hasAlpha}),w.plugins&&w.plugins.forEach(function(ee){const se=ee(qt)||{};se.class||se.constants?q(se):q({class:se})}),$t(N.class,x),Kt(N.constants,x)})({types:[()=>(0,tr.Ee)(wr(),vr(),{mime:{[Nt]:["bmp"]},constants:{MIME_BMP:Nt,MIME_X_MS_BMP:Yt},decoders:{[Nt]:nr,[Yt]:nr},encoders:{[Nt]:ar,[Yt]:ar}},{mime:{[jt]:["tiff","tif"]},constants:{MIME_TIFF:jt},decoders:{[jt]:w=>{const x=Ft().decode(w),N=x[0];x.forEach(ee=>{Ft().decodeImage(w,ee)});const q=Ft().toRGBA8(N);return{data:or.from(q),width:N.t256[0],height:N.t257[0]}}},encoders:{[jt]:w=>{const x=Ft().encodeImage(w.bitmap.data,w.bitmap.width,w.bitmap.height);return or.from(x)}}},{mime:{[Ht]:["gif"]},constants:{MIME_GIF:Ht},decoders:{[Ht]:w=>{const x=new kr.N(w),N=Mr.alloc(x.width*x.height*4);return x.decodeAndBlitFrameRGBA(0,N),{data:N,width:x.width,height:x.height}}},encoders:{[Ht]:w=>{const x=new Gt.BitmapImage(w.bitmap);Gt.GifUtil.quantizeDekker(x,256);const N=new Gt.GifFrame(x);return new Gt.GifCodec().encodeGif([N],{}).then(q=>q.buffer)}}})],plugins:[w=>{const x=Nr.map(N=>{let q=N(w)||{};return q.class||q.constants||(q={class:q}),q});return(0,tr.Ee)(...x)}]})})()})();
