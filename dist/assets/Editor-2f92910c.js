import{r as m,j as e}from"./index-4f7196ad.js";import{p as g,D as v,a as h,v as y}from"./index-8409cc73.js";const j=[{name:"Brightness",property:"brightness",value:100,range:{min:0,max:200},unit:"%"},{name:"Contrast",property:"contrast",value:100,range:{min:0,max:200},unit:"%"},{name:"Saturation",property:"saturate",value:100,range:{min:0,max:200},unit:"%"},{name:"Grayscale",property:"grayscale",value:0,range:{min:0,max:100},unit:"%"},{name:"Sepia",property:"sepia",value:0,range:{min:0,max:100},unit:"%"},{name:"Hue Rotate",property:"hue-rotate",value:0,range:{min:0,max:360},unit:"deg"},{name:"Blur",property:"blur",value:0,range:{min:0,max:20},unit:"px"}],D=({UploadedFiles:c})=>{const[s,u]=m.useState(0),[i,d]=m.useState(j),r=i[s],a=m.useRef(null);m.useEffect(()=>{const n=URL.createObjectURL(c[0].filedata);a&&a.current&&(a.current.style.backgroundImage=`url(${n})`)},[a]);function p(){return{filter:i.map(t=>`${t.property}(${t.value}${t.unit})`).join(" ")}}async function f(){if(a&&a.current){const n=a.current,l=await window.htmlToImage.toPng(n);console.log(l);const o=document.createElement("a");o.download="edited-image.png",o.href=l,o.click()}}function x({target:n}){d(t=>t.map((l,o)=>o!==s?l:{...l,value:n.value}))}return e.jsxs("div",{className:"editor-container",children:[e.jsx("div",{ref:a,className:"main-image",style:p()}),e.jsx("div",{className:"sidebar",children:i.map((n,t)=>e.jsx("button",{name:n.name,className:`med-link sidebar-item ${t===s?"active":""}`,onClick:()=>u(t),children:n.name},t))}),e.jsxs("div",{className:"slider-container",children:[e.jsx("input",{type:"range",className:"slider",min:r.range.min,max:r.range.max,value:r.value,onChange:x}),e.jsx("button",{name:"Download",className:"med-link sidebar-item active",onClick:f,style:{marginInline:"auto"},children:"Download"})]})]})};const N=()=>{const[c,s]=m.useState([]);function u(i){g(i);const d=i.dataTransfer.files;let r=[];if(d.length>0){for(const a of d)r=[...r,{uuid:y(),filedata:a}];s([r[0]])}console.log("file updated to UploadedFiles state")}return e.jsxs("div",{className:"converter-container",onDrop:u,onDragOver:g,children:[c.length===0?e.jsxs(e.Fragment,{children:[e.jsx("h1",{style:{padding:"1em",textAlign:"center"},children:"Drag and Drop the image to start editing."}),e.jsx(v,{setUploadedFiles:s})]}):e.jsx(D,{UploadedFiles:c}),e.jsx(h,{})]})};export{N as default};
