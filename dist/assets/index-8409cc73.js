import{r as m,j as l}from"./index-4f7196ad.js";let s;const f=new Uint8Array(16);function y(){if(!s&&(s=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(f)}const r=[];for(let e=0;e<256;++e)r.push((e+256).toString(16).slice(1));function x(e,n=0){return(r[e[n+0]]+r[e[n+1]]+r[e[n+2]]+r[e[n+3]]+"-"+r[e[n+4]]+r[e[n+5]]+"-"+r[e[n+6]]+r[e[n+7]]+"-"+r[e[n+8]]+r[e[n+9]]+"-"+r[e[n+10]]+r[e[n+11]]+r[e[n+12]]+r[e[n+13]]+r[e[n+14]]+r[e[n+15]]).toLowerCase()}const h=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),g={randomUUID:h};function D(e,n,o){if(g.randomUUID&&!n&&!e)return g.randomUUID();e=e||{};const i=e.random||(e.rng||y)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,n){o=o||0;for(let a=0;a<16;++a)n[o+a]=i[a];return n}return x(i)}function d(e){e.preventDefault(),e.stopPropagation()}function v(e){if(e<1024)return`${e} bytes`;if(e>=1024&&e<1048576)return`${(e/1024).toFixed(1)} KB`;if(e>=1048576)return`${(e/1048576).toFixed(1)} MB`}const U=({setUploadedFiles:e})=>{const n=m.useRef(null);function o(t){d(t),document.body.classList.add("dragging-file"),document.querySelector(".file-drag-overlay").classList.add("dragging-file")}function i(){document.body.classList.remove("dragging-file"),document.querySelector(".file-drag-overlay").classList.remove("dragging-file")}async function a(t){d(t);const p=t.target.files?t.target.files:t.dataTransfer.files;let c=[];if(p.length>0){for(const u of p)c=[...c,{uuid:D(),filedata:u}];e(u=>[...u,...c]),console.log("file updated to UploadedFiles state")}i()}return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"file-drag-overlay",onDrop:a,onDragLeave:i,onDragEnter:d,onDragOver:d,children:l.jsxs("div",{className:"drop-files",children:[l.jsx("i",{className:"fa-solid fa-plus add-file-icon"}),l.jsx("p",{children:"Drop your files "})]})}),l.jsx("main",{children:l.jsxs("div",{className:"container",children:[l.jsx("div",{className:"file-upload styled-corner",children:l.jsxs("div",{className:"file-upload-area noselect",onDrop:a,onClick:()=>n.current.click(),onDragEnter:o,onDragOver:o,children:[l.jsx("i",{className:"file-upload-icon fa-solid fa-cloud-arrow-up"}),l.jsx("p",{children:"Drag & drop your files here"}),l.jsxs("button",{className:"file-button",children:[l.jsx("i",{className:"fa-solid fa-upload"}),"Select files"]})]})}),l.jsxs("form",{className:"visually-hidden",method:"get",encType:"multipart/form-data",children:[l.jsx("input",{type:"file",id:"file_uploads",name:"file_uploads",multiple:!0,ref:n,onChange:a}),l.jsx("button",{children:"Upload files"})]})]})})]})},N=()=>l.jsxs("div",{className:"Disclosure",style:{textAlign:"center"},children:[l.jsx("h2",{style:{margin:"1em 0"},children:"YOUR FILES ARE SAFE"}),l.jsx("p",{style:{margin:"1em 0"},children:"Your files are stored locally in the browser itself and not uploaded to database."})]});export{U as D,N as a,d as p,v as r,D as v};
